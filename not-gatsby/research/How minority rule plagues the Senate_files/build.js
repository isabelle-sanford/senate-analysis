parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"igdH":[function(require,module,exports) {
"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(a){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a}).apply(this,arguments)};exports.__esModule=!0,exports.subscriptionPayload=exports.campaignsignPayload=exports.pagetimePayload=exports.pageprefPayload=exports.pageviewPayload=void 0;var t=function(a){var t=a.is_trusted,i=void 0===t?null:t,n=a.is_staff,o=void 0===n?null:n,r=a.is_prism,s=void 0===r?null:r,e=a.is_community,u=void 0===e?null:e,p=a.is_donor,d=void 0===p?null:p,l=a.is_subscriber,_=void 0===l?null:l,f=a.shows_ads;return{is_trusted:i,is_staff:o,is_prism:s,is_community:u,is_donor:d,is_subscriber:_,shows_ads:void 0===f?null:f}},i=function(t){return a({},t)},n=function(t){return a({},t)},o=function(t){return a({},t)};exports.pageviewPayload=function(r){return a(a(a(a({_tag:"PageviewPayload",dk4_newfp:r?r.dk4_newfp:null},i(r)),n(r)),o(r)),t(r))},exports.pageprefPayload=function(i){return a({_tag:"PageprefPayload",dk4_isnewfp:i.dk4_isnewfp},t(i))},exports.pagetimePayload=function(i){return a({_tag:"PagetimePayload",perf_data:i.perf_data},t(i))},exports.campaignsignPayload=function(n){return a(a({_tag:"CampaignsignPayload"},t(n)),i(n))},exports.subscriptionPayload=function(i){return a({_tag:"SubscriptionPayload"},t(i))};
},{}],"saRr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),t=new Uint8Array(16);function o(){if(!e)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}
},{}],"WMtG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;for(var e=[],r=0;r<256;++r)e.push((r+256).toString(16).substr(1));function t(r,t){var o=t||0,s=e;return(s[r[o+0]]+s[r[o+1]]+s[r[o+2]]+s[r[o+3]]+"-"+s[r[o+4]]+s[r[o+5]]+"-"+s[r[o+6]]+s[r[o+7]]+"-"+s[r[o+8]]+s[r[o+9]]+"-"+s[r[o+10]]+s[r[o+11]]+s[r[o+12]]+s[r[o+13]]+s[r[o+14]]+s[r[o+15]]).toLowerCase()}var o=t;exports.default=o;
},{}],"ds1e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r,o=u(require("./rng.js")),s=u(require("./bytesToUuid.js"));function u(e){return e&&e.__esModule?e:{default:e}}var n=0,t=0;function a(u,a,d){var l=a&&d||0,c=a||[],i=(u=u||{}).node||e,v=void 0!==u.clockseq?u.clockseq:r;if(null==i||null==v){var f=u.random||(u.rng||o.default)();null==i&&(i=e=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==v&&(v=r=16383&(f[6]<<8|f[7]))}var q=void 0!==u.msecs?u.msecs:Date.now(),m=void 0!==u.nsecs?u.nsecs:t+1,p=q-n+(m-t)/1e4;if(p<0&&void 0===u.clockseq&&(v=v+1&16383),(p<0||q>n)&&void 0===u.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=q,t=m,r=v;var _=(1e4*(268435455&(q+=122192928e5))+m)%4294967296;c[l++]=_>>>24&255,c[l++]=_>>>16&255,c[l++]=_>>>8&255,c[l++]=255&_;var j=q/4294967296*1e4&268435455;c[l++]=j>>>8&255,c[l++]=255&j,c[l++]=j>>>24&15|16,c[l++]=j>>>16&255,c[l++]=v>>>8|128,c[l++]=255&v;for(var k=0;k<6;++k)c[l+k]=i[k];return a||(0,s.default)(c)}var d=a;exports.default=d;
},{"./rng.js":"saRr","./bytesToUuid.js":"WMtG"}],"jljL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u,exports.URL=exports.DNS=void 0;var r=e(require("./bytesToUuid.js"));function e(r){return r&&r.__esModule?r:{default:r}}function t(r){var e=[];return r.replace(/[a-fA-F0-9]{2}/g,function(r){e.push(parseInt(r,16))}),e}function a(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";exports.DNS=n;var o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function u(e,u,s){function f(e,n,o,f){var c=o&&f||0;if("string"==typeof e&&(e=a(e)),"string"==typeof n&&(n=t(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var i=s(n.concat(e));if(i[6]=15&i[6]|u,i[8]=63&i[8]|128,o)for(var d=0;d<16;++d)o[c+d]=i[d];return o||(0,r.default)(i)}try{f.name=e}catch(c){}return f.DNS=n,f.URL=o,f}exports.URL=o;
},{"./bytesToUuid.js":"WMtG"}],"z990":[function(require,module,exports) {
"use strict";function n(n){if("string"==typeof n){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var o=0;o<t.length;++o)n[o]=t.charCodeAt(o)}return r(e(u(n),8*n.length))}function r(n){for(var r=[],t=32*n.length,e=0;e<t;e+=8){var u=n[e>>5]>>>e%32&255,o=parseInt("0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u),16);r.push(o)}return r}function t(n){return 14+(n+64>>>9<<4)+1}function e(n,r){n[r>>5]|=128<<r%32,n[t(r)-1]=r;for(var e=1732584193,u=-271733879,f=-1732584194,a=271733878,v=0;v<n.length;v+=16){var s=e,d=u,p=f,g=a;e=c(e,u,f,a,n[v],7,-680876936),a=c(a,e,u,f,n[v+1],12,-389564586),f=c(f,a,e,u,n[v+2],17,606105819),u=c(u,f,a,e,n[v+3],22,-1044525330),e=c(e,u,f,a,n[v+4],7,-176418897),a=c(a,e,u,f,n[v+5],12,1200080426),f=c(f,a,e,u,n[v+6],17,-1473231341),u=c(u,f,a,e,n[v+7],22,-45705983),e=c(e,u,f,a,n[v+8],7,1770035416),a=c(a,e,u,f,n[v+9],12,-1958414417),f=c(f,a,e,u,n[v+10],17,-42063),u=c(u,f,a,e,n[v+11],22,-1990404162),e=c(e,u,f,a,n[v+12],7,1804603682),a=c(a,e,u,f,n[v+13],12,-40341101),f=c(f,a,e,u,n[v+14],17,-1502002290),e=i(e,u=c(u,f,a,e,n[v+15],22,1236535329),f,a,n[v+1],5,-165796510),a=i(a,e,u,f,n[v+6],9,-1069501632),f=i(f,a,e,u,n[v+11],14,643717713),u=i(u,f,a,e,n[v],20,-373897302),e=i(e,u,f,a,n[v+5],5,-701558691),a=i(a,e,u,f,n[v+10],9,38016083),f=i(f,a,e,u,n[v+15],14,-660478335),u=i(u,f,a,e,n[v+4],20,-405537848),e=i(e,u,f,a,n[v+9],5,568446438),a=i(a,e,u,f,n[v+14],9,-1019803690),f=i(f,a,e,u,n[v+3],14,-187363961),u=i(u,f,a,e,n[v+8],20,1163531501),e=i(e,u,f,a,n[v+13],5,-1444681467),a=i(a,e,u,f,n[v+2],9,-51403784),f=i(f,a,e,u,n[v+7],14,1735328473),e=h(e,u=i(u,f,a,e,n[v+12],20,-1926607734),f,a,n[v+5],4,-378558),a=h(a,e,u,f,n[v+8],11,-2022574463),f=h(f,a,e,u,n[v+11],16,1839030562),u=h(u,f,a,e,n[v+14],23,-35309556),e=h(e,u,f,a,n[v+1],4,-1530992060),a=h(a,e,u,f,n[v+4],11,1272893353),f=h(f,a,e,u,n[v+7],16,-155497632),u=h(u,f,a,e,n[v+10],23,-1094730640),e=h(e,u,f,a,n[v+13],4,681279174),a=h(a,e,u,f,n[v],11,-358537222),f=h(f,a,e,u,n[v+3],16,-722521979),u=h(u,f,a,e,n[v+6],23,76029189),e=h(e,u,f,a,n[v+9],4,-640364487),a=h(a,e,u,f,n[v+12],11,-421815835),f=h(f,a,e,u,n[v+15],16,530742520),e=l(e,u=h(u,f,a,e,n[v+2],23,-995338651),f,a,n[v],6,-198630844),a=l(a,e,u,f,n[v+7],10,1126891415),f=l(f,a,e,u,n[v+14],15,-1416354905),u=l(u,f,a,e,n[v+5],21,-57434055),e=l(e,u,f,a,n[v+12],6,1700485571),a=l(a,e,u,f,n[v+3],10,-1894986606),f=l(f,a,e,u,n[v+10],15,-1051523),u=l(u,f,a,e,n[v+1],21,-2054922799),e=l(e,u,f,a,n[v+8],6,1873313359),a=l(a,e,u,f,n[v+15],10,-30611744),f=l(f,a,e,u,n[v+6],15,-1560198380),u=l(u,f,a,e,n[v+13],21,1309151649),e=l(e,u,f,a,n[v+4],6,-145523070),a=l(a,e,u,f,n[v+11],10,-1120210379),f=l(f,a,e,u,n[v+2],15,718787259),u=l(u,f,a,e,n[v+9],21,-343485551),e=o(e,s),u=o(u,d),f=o(f,p),a=o(a,g)}return[e,u,f,a]}function u(n){if(0===n.length)return[];for(var r=8*n.length,e=new Uint32Array(t(r)),u=0;u<r;u+=8)e[u>>5]|=(255&n[u/8])<<u%32;return e}function o(n,r){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}function f(n,r){return n<<r|n>>>32-r}function a(n,r,t,e,u,a){return o(f(o(o(r,n),o(e,a)),u),t)}function c(n,r,t,e,u,o,f){return a(r&t|~r&e,n,r,u,o,f)}function i(n,r,t,e,u,o,f){return a(r&e|t&~e,n,r,u,o,f)}function h(n,r,t,e,u,o,f){return a(r^t^e,n,r,u,o,f)}function l(n,r,t,e,u,o,f){return a(t^(r|~e),n,r,u,o,f)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var v=n;exports.default=v;
},{}],"Nc2A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./md5.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v3",48,r.default),d=u;exports.default=d;
},{"./v35.js":"jljL","./md5.js":"z990"}],"HQTZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./rng.js")),r=t(require("./bytesToUuid.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){"string"==typeof t&&(u="binary"===t?new Uint8Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||e.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,u){for(var o=n||0,i=0;i<16;++i)u[o+i]=a[i];return u}return(0,r.default)(a)}var n=u;exports.default=n;
},{"./rng.js":"saRr","./bytesToUuid.js":"WMtG"}],"F2vf":[function(require,module,exports) {
"use strict";function r(r,e,t,a){switch(r){case 0:return e&t^~e&a;case 1:return e^t^a;case 2:return e&t^e&a^t&a;case 3:return e^t^a}}function e(r,e){return r<<e|r>>>32-e}function t(t){var a=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=[];for(var f=0;f<o.length;++f)t.push(o.charCodeAt(f))}t.push(128);for(var u=t.length/4+2,s=Math.ceil(u/16),c=new Array(s),v=0;v<s;++v){for(var h=new Uint32Array(16),i=0;i<16;++i)h[i]=t[64*v+4*i]<<24|t[64*v+4*i+1]<<16|t[64*v+4*i+2]<<8|t[64*v+4*i+3];c[v]=h}c[s-1][14]=8*(t.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<s;++l){for(var p=new Uint32Array(80),d=0;d<16;++d)p[d]=c[l][d];for(var g=16;g<80;++g)p[g]=e(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var w=n[0],y=n[1],M=n[2],A=n[3],x=n[4],U=0;U<80;++U){var C=Math.floor(U/20),_=e(w,5)+r(C,y,M,A)+x+a[C]+p[U]>>>0;x=A,A=M,M=e(y,30)>>>0,y=w,w=_}n[0]=n[0]+w>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+M>>>0,n[3]=n[3]+A>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t;exports.default=a;
},{}],"oZbo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./sha1.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v5",80,r.default),s=u;exports.default=s;
},{"./v35.js":"jljL","./sha1.js":"F2vf"}],"D6fo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"v4",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"v5",{enumerable:!0,get:function(){return u.default}});var e=n(require("./v1.js")),r=n(require("./v3.js")),t=n(require("./v4.js")),u=n(require("./v5.js"));function n(e){return e&&e.__esModule?e:{default:e}}
},{"./v1.js":"ds1e","./v3.js":"Nc2A","./v4.js":"HQTZ","./v5.js":"oZbo"}],"lH8B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsonSchema=exports.fromString=exports.empty=exports.isUuid=exports.regex=exports.uuid=void 0;const t=require("uuid"),e=function(){return t.v4()};exports.uuid=e;const r={v4:/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,v5:/(?:^[a-f0-9]{8}-[a-f0-9]{4}-5[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u};exports.regex=r;const o={v4:{type:"string",pattern:r.v4.toString().slice(1,-1)},v5:{type:"string",pattern:r.v5.toString().slice(1,-1)}};exports.jsonSchema=o;const s=function(t){return r.v4.test(t)||r.v5.test(t)};exports.isUuid=s;const n=function(){return"00000000-0000-0000-0000-000000000000"};exports.empty=n;const i=function(e){return t.v5(e,"bb5d0ffa-9a4c-4d7c-8fc2-0a7d2220ba45")};exports.fromString=i;
},{"uuid":"D6fo"}],"cPPD":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.getCampaignViewFields=exports.getStoryViewFields=exports.getPmParams=exports.getDKAttributes=exports.sendBeacon=exports.getCommonData=exports.isDefined=exports.envDomain=exports.toEnvDomain=exports.SUB_QUERY_PARAMS=exports.PM_QUERY_PARAMS=void 0;var o=require("./cookies");exports.PM_QUERY_PARAMS=["pm_source","pm_medium","pm_campaign"],exports.SUB_QUERY_PARAMS=["duration","anonymous","gift","subscription_refcode","referer_url","recipient"],exports.toEnvDomain=function(o){return o.replace(/www\.|m\.|^elections\./,"").replace(/staging\.dailykoselections\.com/,"dailykosbeta.com").replace(/staging\.elections\.dailykos\.com/,"dailykosbeta.com").replace(/^dailykoselections\.com/,"dailykos.com")},exports.envDomain=function(){return exports.toEnvDomain(window.location.hostname)},exports.isDefined=function(o){return void 0!==o},exports.getCommonData=function(){return{time:(new Date).toISOString(),device_id:o.getOrSetDeviceIdCookie(),session_id:o.getOrSetSessionIdCookie(),logged_in:o.getLoggedIn()}},exports.sendBeacon=function(o){var e=o.event_type,i="https://pm."+exports.envDomain()+"/api/"+e,t=JSON.stringify(o),n=new Blob([t],{type:"application/json; charset=UTF-8"});try{try{navigator.sendBeacon(i,n)}catch(l){fetch(i,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:t})}}catch(r){}},exports.getDKAttributes=function(o){var e,i,t,n,l,r,s,u,a,d,c,v,p,m,_,g;return{is_trusted:null!==(i=null===(e=null==o?void 0:o.isTrusted)||void 0===e?void 0:e.call(o))&&void 0!==i?i:null,is_donor:null!==(n=null===(t=null==o?void 0:o.isDonor)||void 0===t?void 0:t.call(o))&&void 0!==n?n:null,is_subscriber:null!==(r=null===(l=null==o?void 0:o.isSubscriber)||void 0===l?void 0:l.call(o))&&void 0!==r?r:null,is_prism:null!==(u=null===(s=null==o?void 0:o.isPrismOfficial)||void 0===s?void 0:s.call(o))&&void 0!==u?u:null,is_staff:null!==(d=null===(a=null==o?void 0:o.isDKOfficial)||void 0===a?void 0:a.call(o))&&void 0!==d?d:null,is_community:null!==(m=!(((null===(c=null==o?void 0:o.isDKOfficial)||void 0===c?void 0:c.call(o))||(null===(v=null==o?void 0:o.isPrismOfficial)||void 0===v?void 0:v.call(o)))&&(null===(p=null==o?void 0:o.isLoggedIn)||void 0===p?void 0:p.call(o))))&&void 0!==m?m:null,shows_ads:null!==(g=null===(_=null==o?void 0:o.showsAds)||void 0===_?void 0:_.call(o))&&void 0!==g?g:null}},exports.getPmParams=function(o,i){return void 0===i&&(i=exports.PM_QUERY_PARAMS),Array.from(new URLSearchParams(o)).filter(function(o){var e=o[0];return i.includes(e)}).reduce(e,{})},exports.getStoryViewFields=function(o){return{story_id:(null==o?void 0:o.currentStoryID)?parseInt(o.currentStoryID,10):void 0,story_title:null==o?void 0:o.currentStoryTitle,story_author:null==o?void 0:o.currentStoryAuthor,featured_writer:null==o?void 0:o.currentStoryIsFeaturedWriter,recommendation_count:null==o?void 0:o.currentStoryRecommendCount,comment_count:null==o?void 0:o.currentStoryCommentCount,first_publication_time:null==o?void 0:o.currentStoryPublishDate,tag_list:null==o?void 0:o.currentStoryTags,blog_list:null==o?void 0:o.currentStoryGroupNames}},exports.getCampaignViewFields=function(o){return{campaign_id:null==o?void 0:o.campaignId,campaign_title:null==o?void 0:o.campaignTitle,campaign_type:null==o?void 0:o.campaignType,embedded_on:null==o?void 0:o.campaignEmbeddedOn,zip_code:null==o?void 0:o.campaignZipCode}};var e=function(o,e){var i,t=e[0],n=e[1];return Object.assign(o,((i={})[t]="true"===n||"false"!==n&&n,i))};
},{"./cookies":"aVHu"}],"aVHu":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.SESSION_ID_COOKIE=exports.NEW_FP_COOKIE=exports.LOGGED_IN_COOKIE=exports.DEVICE_ID_COOKIE=exports.sessionCookieVal=exports.getOrSetSessionIdCookie=exports.getFpCookie=exports.getLoggedIn=exports.getOrSetDeviceIdCookie=exports.setCookie=void 0;var e=require("uuidv4"),o=require("./utils");exports.setCookie=function(e,t,i){void 0===i&&(i=31536e3),document.cookie=e+"="+t+";max-age="+i+";path=/;domain="+o.envDomain()+";samesite=none;secure"};var t=function(e){var o;return null===(o=document.cookie.split("; ").find(function(o){return o.startsWith(e)}))||void 0===o?void 0:o.split("=")[1]};exports.getOrSetDeviceIdCookie=function(){var i,r=t(exports.DEVICE_ID_COOKIE);return i=o.isDefined(r)&&e.isUuid(r)?r:e.uuid(),exports.setCookie(exports.DEVICE_ID_COOKIE,i),t(exports.DEVICE_ID_COOKIE)||null},exports.getLoggedIn=function(){var e=t(exports.LOGGED_IN_COOKIE);return o.isDefined(e)&&"1"===e},exports.getFpCookie=function(){var e=t(exports.NEW_FP_COOKIE);return o.isDefined(e)?parseFloat(e):null},exports.getOrSetSessionIdCookie=function(){var o,s=Date.now(),n=t(exports.SESSION_ID_COOKIE),I=i(n),u=r(n);return o=I&&e.isUuid(I)&&u&&s-parseInt(u,10)<6e5?I:e.uuid(),exports.setCookie(exports.SESSION_ID_COOKIE,exports.sessionCookieVal(o,s),600),i(t(exports.SESSION_ID_COOKIE))},exports.sessionCookieVal=function(e,o){return[e,o].join(s)};var i=function(e){var o;return(null===(o=null==e?void 0:e.split(s))||void 0===o?void 0:o[0])||null},r=function(e){var o;return(null===(o=null==e?void 0:e.split(s))||void 0===o?void 0:o[1])||null},s="_";exports.DEVICE_ID_COOKIE="device_id",exports.LOGGED_IN_COOKIE="dk4_logged_in",exports.NEW_FP_COOKIE="dk4_newfp",exports.SESSION_ID_COOKIE="pm_session_id";
},{"uuidv4":"lH8B","./utils":"cPPD"}],"ylqc":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};exports.__esModule=!0;var t=require("./types"),r=require("./cookies"),o=require("./utils");exports.default=function(i){var n,a=o.getCommonData(),s=document.URL,u=document.referrer,l=null!==(n=null==i?void 0:i.currentStoryAuthorDesignation)&&void 0!==n?n:null,p=t.pageviewPayload(e(e(e(e({dk4_newfp:r.getFpCookie()},o.getDKAttributes(i)),o.getPmParams(document.location.search)),o.getStoryViewFields(i)),o.getCampaignViewFields(i))),c=e(e({},a),{event_type:"pageview",referer_url:u,page_url:s,author_designation:l,payload:p});o.sendBeacon(c)};
},{"./types":"igdH","./cookies":"aVHu","./utils":"cPPD"}],"Dy6I":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};exports.__esModule=!0,exports.frontPageToggleId=void 0;var t=require("./types"),r=require("./utils"),n=".user-profile-wrapper",o=".user-profile";exports.frontPageToggleId="switch-frontpage-link";var a=function(n,o){var a=r.getCommonData(),i=t.pageprefPayload(e({dk4_isnewfp:o.href.endsWith("?to_new_page=true")},r.getDKAttributes(n)));return e(e({},a),{event_type:"pagepref",payload:i})};exports.default=function(e){document.querySelectorAll(n+", "+o).forEach(function(t){t.addEventListener("click",function(t){var n=t.target;n instanceof HTMLAnchorElement&&n.id===exports.frontPageToggleId&&r.sendBeacon(a(e,n))})})};
},{"./types":"igdH","./utils":"cPPD"}],"dcSN":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)};exports.__esModule=!0,exports.userTimingMark=void 0;var r=require("./types"),t=require("./utils"),n=require("./postPageViewData");exports.userTimingMark="userTiming";var i=function(e){return performance.getEntriesByName(e,"mark").map(function(e){return e.startTime}).reduceRight(function(e,r){return e-r})},a=function(){var e,r,t=(null===(r=null===(e=performance.getEntriesByType("navigation"))||void 0===e?void 0:e[0])||void 0===r?void 0:r.toJSON())||performance.timing.toJSON();return JSON.stringify(t)},o=function(n,o){var u=t.getCommonData(),s=i(o),c=document.URL,p=r.pagetimePayload(e({perf_data:a()},t.getDKAttributes(n)));return e(e({},u),{event_type:"pagetime",elapsed_time:s,page_url:c,payload:p})},u=function(e){performance.clearMarks(e),performance.mark(e)},s=function(e,r){performance.getEntriesByName(r).length>0&&(performance.mark(r),t.sendBeacon(o(e,r))),performance.clearMarks(r)};exports.default=function(e){u(exports.userTimingMark);["pagehide","beforeunload"].forEach(function(r){window.addEventListener(r,function(){return s(e,exports.userTimingMark)})}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&s(e,exports.userTimingMark),"visible"===document.visibilityState&&(u(exports.userTimingMark),n.default(e))})};
},{"./types":"igdH","./utils":"cPPD","./postPageViewData":"ylqc"}],"xN91":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};exports.__esModule=!0;var t=require("./types"),r=require("./utils");exports.default=function(n){document.addEventListener("can_embed_submitted",function(){r.sendBeacon(e(e(e({},r.getCommonData()),r.getCampaignViewFields(n)),{event_type:"campaignsign",referer_url:document.referrer,payload:t.campaignsignPayload(e(e({},r.getDKAttributes(n)),r.getPmParams(document.location.search)))}))})};
},{"./types":"igdH","./utils":"cPPD"}],"pfWi":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};exports.__esModule=!0;var t=require("./types"),r=require("./utils"),n=r.getPmParams(document.location.search,r.SUB_QUERY_PARAMS);exports.default=function(s){document.addEventListener("subscription_success",function(){r.sendBeacon(e(e(e({},r.getCommonData()),n),{referer_url:n.referer_url?decodeURIComponent(n.referer_url):null,event_type:"subscription",action_type:"buy",payload:t.subscriptionPayload(e({},r.getDKAttributes(s)))}))})};
},{"./types":"igdH","./utils":"cPPD"}],"yfES":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./postPageViewData"),a=require("./postPagePrefData"),t=require("./postPageTimeData"),r=require("./postCampaignSignData"),i=require("./postSubscriptionData");window.addEventListener("pageshow",function(){var e=window.DK;e?e.Whoami.onLoad(function(){return o(e)}):o(e)});var o=function(o){e.default(o),a.default(o),t.default(o),r.default(o),i.default(o)};
},{"./postPageViewData":"ylqc","./postPagePrefData":"Dy6I","./postPageTimeData":"dcSN","./postCampaignSignData":"xN91","./postSubscriptionData":"pfWi"}]},{},["yfES"], null)