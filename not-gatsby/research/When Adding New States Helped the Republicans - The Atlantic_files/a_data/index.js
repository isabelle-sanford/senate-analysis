!function(){"use strict";function n(){return(n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n}).apply(this,arguments)}function e(){var n,t,a=(n=['\n    <section class="ha-o-house-ad ha-c-newsletter-promo ha-js-newsletter-promo">\n      <div class="ha-c-newsletter-promo__content">\n        <div class="ha-c-newsletter-promo__copy">\n          <p class="ha-c-newsletter-promo__title">','</p>\n          <p class="ha-c-newsletter-promo__body js-data-message">','</p>\n        </div>\n        <form\n          action=""\n          class="ha-l-form ha-c-newsletter-promo__form ha-js-form"\n          method="post"\n          data-category="newsletter"\n        >\n          <input\n            type="hidden"\n            name="newsletters"\n            value="','"\n            title="','"\n            data-objective="email_newsletter"\n          />\n          <div class="ha-l-form__group ha-c-newsletter-promo__form-group">\n            <label\n              class="ha-u-element-invisible"\n              for="ha-newsletter-promo-email"\n              >Email Address <span>(required)</span></label\n            >\n            <input\n              class="ha-c-newsletter-promo__input ha-c-input ha-c-input--block ha-js-email-input"\n              id="ha-newsletter-promo-email"\n              type="email"\n              autocomplete="email"\n              name="email"\n              placeholder="Enter your email"\n            />\n            <small class="ha-c-feedback ha-js-email-feedback"></small>\n          </div>\n          <button\n            class="ha-c-newsletter-promo__submit ha-c-btn ha-js-submit-btn"\n            type="submit"\n            data-action="subscribe"\n          >\n            Sign Up\n            <span class="ha-c-newsletter-promo__submit-loader"></span>\n          </button>\n        </form>\n      </div>\n      <div class="ha-c-newsletter-promo__confirmation">\n        <svg\n          class="ha-c-newsletter-promo__checkmark"\n          xmlns="http://www.w3.org/2000/svg"\n          width="24"\n          height="24"\n          viewBox="0 0 24 24"\n        >\n          <path\n            fill="#038768"\n            fill-rule="evenodd"\n            d="M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm5.783-16.343L16.73 6.283A.674.674 0 0 0 16.204 6a.674.674 0 0 0-.527.283L10.6 12.919 8.323 9.94a.674.674 0 0 0-.527-.282.674.674 0 0 0-.526.282l-1.053 1.374A1.15 1.15 0 0 0 6 12c0 .253.077.505.217.687l2.802 3.656 1.053 1.374c.14.182.333.283.527.283a.674.674 0 0 0 .526-.283l1.053-1.374 5.605-7.313A1.15 1.15 0 0 0 18 8.343a1.15 1.15 0 0 0-.217-.686z"\n          />\n        </svg>\n        <p class="ha-c-newsletter-promo__title">\n          ','\n        </p>\n        <div\n          class="ha-c-newsletter-promo__body ha-js-confirmation-message"\n        ></div>\n      </div>\n    </section>\n  '],t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}})));return e=function(){return a},a}function t(n,e,t){var a=new CustomEvent(e,t);n.dispatchEvent(a)}!function(){if("function"==typeof window.CustomEvent)return!1;function n(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},t=document.createEvent("CustomEvent");return t.initCustomEvent(n,e.bubbles,e.cancelable,e.detail),t}n.prototype=window.Event.prototype,window.CustomEvent=n}();var a=[];function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0,t=a.push(n)-1;return function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];a[t]&&clearTimeout(a[n]),a[n]=setTimeout((function(){return requestAnimationFrame((function(){return n.apply(void 0,i)}))}),e)}}var i,r,s,l=window.frameElement,c=window.parent.document.head;window.parent.document.body;function d(){return l.parentElement.parentElement}function p(n){n.preventDefault();var e=n.target;!function(n){n.querySelector(".ha-js-submit-btn").setAttribute("disabled",!0),n.classList.add("is-submitting")}(e),function(n,e){if(!n)return Promise.reject(new Error("`subscribe` requires a form element"));var a=new FormData(n);fetch("https://accounts-api.theatlantic.com/api/v1/newsletters/sign-up/",{method:"POST",headers:{Accept:"application/json"},credentials:"include",body:a}).then((function(n){return n.json()})).then((function(a){return function(n,e,a){var o=a.querySelector('input[name="email"]').value,s=a.querySelector('input[name="newsletters"]').value,l=a.querySelector('input[name="newsletters"]').title,c=a.querySelector('input[name="newsletters"]').dataset.objective,p=e.querySelector(".js-data-message").innerHTML,u=d().getAttribute("targeting-pos"),h=(window.top.__ads&&window.top.__ads.get&&window.top.__ads.get(d())||{}).creativeId,m=(window.page_info?window.page_info:window.top.Atlantic&&window.top.Atlantic.page_info?window.top.Atlantic.page_info:{}).view||(window.top.__ads?window.top.__ads.getGlobals():{}).template,b={email:o,newsletter:s,message:p,objective:c,newsletterName:l,pagemodule:"Ad-served ".concat(h," at ").concat(u," / ").concat(m," - sign up for ").concat(l)};t(i,"newsletter:signup",{detail:b}),i.dataLayer=i.dataLayer||[],i.dataLayer.push({event:"Newsletter Signup",category:"story page",action:"newsletter signup - house ad",label:s,user:{email:o,newsletter:{id:s,name:l}}});var f=e.querySelector(".ha-js-confirmation-message"),w=a.querySelector(".ha-js-submit-btn"),v=a.querySelector(".ha-js-email-input"),g=a.querySelector(".ha-js-email-feedback");a.classList.remove("is-submitting"),a.classList.add("was-validated"),n.success?(y=document.createElement("img"),r.clickMacro?(y.src=r.clickMacro,y.width=0,y.height=0,document.body.appendChild(y)):console.warn("No clickMacro setting on newsletter. DFP will not count it."),e.classList.add("is-successful"),f.innerHTML=n.existing_user?r.updateMessage:r.successMessage):(w.removeAttribute("disabled"),v.classList.add("is-invalid"),g.classList.add("ha-c-feedback--invalid"),g.innerHTML=n.error?n.error:r.errorMessage);var y}(a,e,n)})).catch((function(n){return function(n){console.error(n)}(n),{success:!1,error:"A server error occurred.",user:null}}))}(e,this)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(n,e){e=e||window;for(var t=0;t<this.length;t++)n.call(e,this[t],t,this)});var u,h,m,b,f,w,v,g,y,_=function(e,t){var a;for(a in t)"string"==typeof t[a]&&(t[a]=decodeURIComponent(t[a])),""===t[a]&&delete t[a];return n(e,t)}({title:"Make your inbox more interesting. ",dek:"Each weekday evening, get an overview of the dayâ€™s biggest news, along with fascinating ideas, images, and people.",newsletters:"7581216",newsletterNames:"Unknown",confirmationTitle:"Thanks for signing up!",successMessage:"Please check your email to confirm your subscription.",updateMessage:"Your newsletter subscription preferences have been updated",errorMessage:"An unknown error occured"},window.settings),x=document.createElement("div");x.innerHTML=(h=(u=_).title,m=u.dek,b=u.newsletters,f=u.newsletterNames,w=u.confirmationTitle,function(n){for(var e=[].slice.call(arguments,1),t="",a=0;a<n.length;a++)t+=n[a],e[a]&&(t+=e[a]);return t.trim()}(e(),h,m,b,f,w)),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:576,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"is-large",t=d(),a=function(){t.getBoundingClientRect().width>=n?t.classList.add(e):t.classList.remove(e)};window.top.addEventListener("resize",o(a,25)),a()}(),function(n){l.style.display="none",l.parentElement.insertAdjacentHTML("afterbegin",n)}(x.innerHTML),v='@-webkit-keyframes bounce {\n  0%, 100% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n@keyframes bounce {\n  0%, 100% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n.ha-o-house-ad {\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-rendering: optimizeLegibility;\n}\n.ha-o-house-ad *, .ha-o-house-ad *::before, .ha-o-house-ad *::after {\n  box-sizing: inherit;\n}\n\n.ha-l-form__group {\n  margin-bottom: 8px;\n}\n.is-large .ha-l-form__group {\n  margin-bottom: 0;\n}\n\n.ha-c-btn {\n  align-items: center;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background-color: #000;\n  border: 1px solid #000;\n  border-radius: 4px;\n  color: #fff !important;\n  display: inline-flex;\n  font-family: "Graphik", -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n  font-size: 14px !important;\n  font-weight: 400;\n  line-height: 1;\n  padding: 8px 16px 10px;\n  text-decoration: none !important;\n  transition: all 150ms;\n}\n.ha-c-btn:hover {\n  background-color: #39434b;\n  border-color: #39434b;\n}\n.ha-c-btn:disabled, .ha-c-btn[readonly] {\n  background-color: #39434b;\n  border-color: #39434b;\n  cursor: not-allowed;\n}\n\n.ha-c-btn--small {\n  letter-spacing: 1px;\n  padding: 7px 12px;\n}\n\n.ha-c-btn--large {\n  padding: 16px 24px;\n}\n\n.ha-c-btn--block {\n  display: block;\n  text-align: center;\n  width: 100%;\n}\n\n.ha-c-btn--long {\n  height: 40px;\n  width: 100%;\n}\n.is-large .ha-c-btn--long {\n  width: 144px;\n}\n\n.ha-c-btn--red {\n  background-color: #f0204f;\n  border-color: #f0204f;\n}\n.ha-c-btn--red:hover {\n  background-color: #9f0b2c;\n  border-color: #9f0b2c;\n}\n\n.ha-c-btn--blue {\n  background-color: #0097ac;\n  border-color: #0097ac;\n}\n.ha-c-btn--blue:hover {\n  background-color: #003d46;\n  border-color: #003d46;\n}\n\n.ha-c-btn--white {\n  background-color: #fff;\n  border-color: #fff;\n  color: #000;\n}\n.ha-c-btn--white:hover {\n  background-color: #c0ccda;\n  border-color: #c0ccda;\n}\n\n.ha-c-btn--border {\n  border: 1px solid #c0ccda;\n}\n\n.ha-c-btn--facebook {\n  background-color: #395185;\n  border-color: #395185;\n}\n.ha-c-btn--facebook:hover {\n  background-color: #1a263e;\n  border-color: #1a263e;\n}\n\n.ha-c-btn--twitter {\n  background-color: #1da1f2;\n  border-color: #1da1f2;\n}\n.ha-c-btn--twitter:hover {\n  background-color: #0967a0;\n  border-color: #0967a0;\n}\n\n.ha-c-btn__icon {\n  fill: #fff;\n  height: 16px;\n  margin-right: 8px;\n  width: 16px;\n}\n\n.ha-c-input,\n.na-c-input {\n  font-size: 14px;\n  font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n  background-clip: padding-box;\n  background-color: #fff;\n  border: 1px solid #c0ccda;\n  border-radius: 4px;\n  color: #000;\n  display: inline-block;\n  letter-spacing: 0.25px;\n  line-height: 1;\n  padding: 8px 16px 10px;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n}\n.fonts-loaded .ha-c-input,\n.fonts-loaded .na-c-input {\n  font-family: "Graphik", -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n}\n.ha-c-input::-webkit-input-placeholder,\n.na-c-input::-webkit-input-placeholder {\n  color: #8592a4;\n}\n.ha-c-input::-moz-placeholder,\n.na-c-input::-moz-placeholder {\n  color: #8592a4;\n}\n.ha-c-input:-ms-input-placeholder,\n.na-c-input:-ms-input-placeholder {\n  color: #8592a4;\n}\n.ha-c-input:focus,\n.na-c-input:focus {\n  border-color: #31c6cc;\n  box-shadow: 0 0 0 3px rgba(49, 198, 204, 0.25);\n  outline: 0;\n}\n.ha-c-input:disabled, .ha-c-input[readonly],\n.na-c-input:disabled,\n.na-c-input[readonly] {\n  background-color: #e7e7e7;\n  cursor: not-allowed;\n}\n.was-validated .ha-c-input:valid, .was-validated .ha-c-input.is-valid,\n.was-validated .na-c-input:valid,\n.was-validated .na-c-input.is-valid {\n  border-color: #038768;\n  box-shadow: none;\n}\n.was-validated .ha-c-input:valid:focus, .was-validated .ha-c-input.is-valid:focus,\n.was-validated .na-c-input:valid:focus,\n.was-validated .na-c-input.is-valid:focus {\n  box-shadow: 0 0 0 3px rgba(3, 135, 104, 0.25);\n}\n.was-validated .ha-c-input:valid ~ .ha-c-feedback--valid, .was-validated .ha-c-input.is-valid ~ .ha-c-feedback--valid,\n.was-validated .na-c-input:valid ~ .ha-c-feedback--valid,\n.was-validated .na-c-input.is-valid ~ .ha-c-feedback--valid {\n  display: block;\n}\n.was-validated .ha-c-input:valid ~ .ha-c-helper-text, .was-validated .ha-c-input.is-valid ~ .ha-c-helper-text,\n.was-validated .na-c-input:valid ~ .ha-c-helper-text,\n.was-validated .na-c-input.is-valid ~ .ha-c-helper-text {\n  display: none;\n}\n.was-validated .ha-c-input:invalid, .was-validated .ha-c-input.is-invalid,\n.was-validated .na-c-input:invalid,\n.was-validated .na-c-input.is-invalid {\n  border-color: #f0204f;\n  box-shadow: none;\n}\n.was-validated .ha-c-input:invalid:focus, .was-validated .ha-c-input.is-invalid:focus,\n.was-validated .na-c-input:invalid:focus,\n.was-validated .na-c-input.is-invalid:focus {\n  box-shadow: 0 0 0 3px rgba(240, 32, 79, 0.25);\n}\n.was-validated .ha-c-input:invalid ~ .ha-c-feedback--invalid, .was-validated .ha-c-input.is-invalid ~ .ha-c-feedback--invalid,\n.was-validated .na-c-input:invalid ~ .ha-c-feedback--invalid,\n.was-validated .na-c-input.is-invalid ~ .ha-c-feedback--invalid {\n  display: block;\n}\n.was-validated .ha-c-input:invalid ~ .ha-c-helper-text, .was-validated .ha-c-input.is-invalid ~ .ha-c-helper-text,\n.was-validated .na-c-input:invalid ~ .ha-c-helper-text,\n.was-validated .na-c-input.is-invalid ~ .ha-c-helper-text {\n  display: none;\n}\n\n.ha-c-input--block {\n  display: block;\n  width: 100%;\n}\n\n.ha-c-input--small {\n  padding: 7px 12px;\n}\n\n.ha-c-input--large {\n  padding: 16px;\n}\n\n.ha-c-helper-text {\n  font-size: 14px;\n  font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n  color: #8592a4;\n  display: block;\n  margin-top: 4px;\n}\n.fonts-loaded .ha-c-helper-text {\n  font-family: "Graphik", -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n}\n\n.ha-c-feedback {\n  font-size: 14px;\n  font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n  display: none;\n  margin-top: 4px;\n}\n.fonts-loaded .ha-c-feedback {\n  font-family: "Graphik", -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n}\n\n.na-c-feedback {\n  flex-basis: 100%;\n  width: 100%;\n}\n\n.ha-c-feedback--valid {\n  color: #038768;\n}\n\n.ha-c-feedback--invalid,\n.na-c-feedback--invalid {\n  color: #f0204f;\n}\n\n.ha-u-element-invisible {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.ha-c-newsletter-promo {\n  background-color: #fff;\n  border: 1px solid #d3dce6;\n  color: #000;\n  display: block;\n  overflow: hidden;\n  position: relative;\n  text-align: left;\n  clear: both;\n  letter-spacing: 0.25px;\n}\n\n.ha-c-newsletter-promo__content {\n  line-height: 1.25;\n  opacity: 1;\n  padding: 16px;\n  position: relative;\n  transition: opacity 0.25s ease;\n  z-index: 2;\n}\n.is-successful .ha-c-newsletter-promo__content {\n  opacity: 0;\n  z-index: 0;\n}\n.is-large .ha-c-newsletter-promo__content {\n  padding: 24px;\n}\n\n.ha-c-newsletter-promo__copy {\n  margin-bottom: 16px;\n}\n\n.ha-c-newsletter-promo__title {\n  font-size: 20px;\n  font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n  color: #000;\n  font-weight: 600;\n  margin: 0 0 8px;\n}\n.fonts-loaded .ha-c-newsletter-promo__title {\n  font-family: "Graphik", -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n}\n\n.ha-c-newsletter-promo__body {\n  font-size: 16px;\n  font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n  color: #39434b;\n  font-weight: 400;\n  margin: 0;\n}\n.fonts-loaded .ha-c-newsletter-promo__body {\n  font-family: "Graphik", -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, Segoe UI, Arial, sans-serif;\n}\n.ha-c-newsletter-promo__body a {\n  color: #39434b;\n  text-decoration: underline;\n}\n\n.is-large .ha-c-newsletter-promo__form {\n  align-items: flex-start;\n  display: flex;\n}\n\n.is-large .ha-c-newsletter-promo__form-group {\n  flex-grow: 1;\n  margin-right: 16px;\n}\n\n.ha-c-newsletter-promo__submit {\n  display: block;\n  position: relative;\n  width: 100%;\n}\n.ha-c-newsletter-promo__submit:disabled {\n  color: transparent;\n}\n.is-large .ha-c-newsletter-promo__submit {\n  padding: 8px 32px 10px;\n  width: auto;\n}\n\n.ha-c-newsletter-promo__submit-loader {\n  display: block;\n  height: 1.5em;\n  margin: 0 auto;\n  transform: translate(-50%, -50%);\n  transition: opacity 0.3s ease;\n  width: 1.5em;\n  z-index: 2;\n  display: none;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 50%;\n}\n.ha-c-newsletter-promo__submit-loader::before, .ha-c-newsletter-promo__submit-loader::after {\n  -webkit-animation: bounce 2s infinite ease-in-out;\n          animation: bounce 2s infinite ease-in-out;\n  background-color: #999;\n  border-radius: 50%;\n  content: "";\n  height: 100%;\n  opacity: 0.6;\n  position: absolute;\n  width: 100%;\n}\n.ha-c-newsletter-promo__submit-loader::after {\n  -webkit-animation-delay: 1s;\n          animation-delay: 1s;\n}\n.is-submitting .ha-c-newsletter-promo__submit-loader {\n  display: block;\n}\n\n.ha-c-newsletter-promo__checkmark {\n  margin: 0 auto 8px;\n}\n\n.ha-c-newsletter-promo__confirmation {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  left: 50%;\n  opacity: 0;\n  padding: 16px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  top: 50%;\n  transform: translate3d(-50%, -75%, 0);\n  transition: all 0.3s ease;\n  transition-delay: 0.35s;\n  width: 100%;\n  z-index: 1;\n}\n.is-large .ha-c-newsletter-promo__confirmation {\n  padding: 24px;\n}\n.is-successful .ha-c-newsletter-promo__confirmation {\n  opacity: 1;\n  pointer-events: auto;\n  transform: translate3d(-50%, -50%, 0);\n  z-index: 2;\n}\n.ha-c-newsletter-promo__confirmation > * {\n  max-width: 100%;\n}',g="ha-c-newsletter-promo__css",(y=document.createElement("style")).innerHTML=v,g&&(y.id=g,c.querySelector("#".concat(g)))||c.appendChild(y),function(n,e){r=e,s=(i=n).document.querySelectorAll(".ha-js-newsletter-promo");for(var t=0;t<s.length;t++)s[t].addEventListener("submit",p)}(window.top,_),t(window.top,"ad-complete",{detail:{gptAd:window.frameElement.parentElement}})}();
//# sourceMappingURL=index.js.map
