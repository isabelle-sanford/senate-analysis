!function(e){var t=window._parrable||{},o=window.performance,r=e.config||{},n=r.timeout||2e3,i="https://h.parrable.com/",a=!1,u=null,c=function(){Array.prototype.toJSON&&(u=Array.prototype.toJSON.bind(Array.prototype),delete Array.prototype.toJSON)},s=function(){u&&(Array.prototype.toJSON=u)},d=function(){var e=new Date,t=314496e5,o=e.getTime()+t;return e.setTime(o),e.toGMTString()},w=function(e){return 0===Object.keys(e).length},f=function(e,t){for(var o in t)e[o]=t[o];return e},l=function(e,t,o,r){return encodeURIComponent(t)+"="+encodeURIComponent(o)+"; expires="+(r||d())+"; domain="+e+"; path=/"},p={cKey:"_parrable_hawk",savedAt:"",value:function(){try{var e=new RegExp("(?:^|;)\\s?"+this.cKey+"=(.*?)(?:;|$)","i"),t=document.cookie.match(e);return t&&decodeURIComponent(t[1])}catch(o){return!1}},isPresent:function(){return!!this.value()},set:function(e){for(var t=document.location.hostname.split("."),o=".",r="",n=this.value(),i=t.length-1;i>=0;i--){0!==i||isNaN(t[i])||(o=""),r=o+t[i]+r,document.cookie=l(r,this.cKey,e);var a=this.value();if(a&&a===e)return n===e?this.savedAt=o+t[i-1]+"."+r:this.savedAt=r,!0}}},h={cKey:"_parrable_hawk_optout",value:p.value,isPresent:p.isPresent,set:function(e,t){document.cookie=l(t,this.cKey,e)},remove:function(e){document.cookie=l(e,this.cKey,"false","Thu, 01 Jan 1970 00:00:00 GMT")}},m=function(e){if(!e)return{isNode:!0,isIframe:!1,isDiffDomain:!1,url:"NODE_ENV"};try{return e.parent.document?e.top.document!=e.document?m(e.parent):{isNode:!1,isIframe:!1,isDiffDomain:!1,url:e.location.href}:{isNode:!1,isIframe:!0,isDiffDomain:!0,url:e.location.href}}catch(t){return{isNode:!1,isIframe:!0,isDiffDomain:!0,url:e.location.href}}},k=function(){var e=r.tracker&&r.tracker[r.counterScript-1]||r.trackers,t=r.tracker&&r.loaderVersions[r.counterScript-1]||"0.0.0",o=1===r.counterScript||"0.0.0"===t,n=f(m(window),{eid:p.value(),trackers:e,hawkLoaderVersion:t,hawkVersion:"3.4.4",isFirstImpression:o});c();var a=i+"?data="+btoa(JSON.stringify(n))+"&_rand="+Math.random();return s(),a},v=function(e){p.set(e.eid),e.optout===!0?h.set(e.optout):h.value()&&h.remove()},y=function(r){hawk=function(){var e=Array.prototype.slice.call(arguments);hawk[e[0]].apply(this||window,e.slice(1))},hawk.browserid=r.eid||p.value()||null,hawk.optout=r.optout||h.value()||!1;var n,i,a=o&&o.now()||Date.now();t&&t.timer&&(i=t.startTime&&a||"Need loader 3.0.1 or above for metric",n=isNaN(i)?"Need loader 3.0.1 or above for metric":(i-t.startTime)/1e3,hawk.buildTime=t.executionTime||n,hawk.time=n,t.endTime=i,t.executionTime=n),hawk.parrable=function(e){e(t&&t.timer?{browserid:window._hawk.browserid,optout:window._hawk.optout,buildTime:window._hawk.buildTime,executionTime:window._hawk.time}:{browserid:window._hawk.browserid,optout:window._hawk.optout})},window._hawk=hawk;for(var u=e.queue||[],c=0;c<u.length;c++)hawk.apply(this,u[c]);e.queue=[]},b=function(){var e=new XMLHttpRequest,t=function(e){a=!0,r.counterScript>=r.counterLoader&&y({optout:!1,browserid:null})},o=function(e){w(e)||!e.eid?t():(y(e),v(e))};e.onreadystatechange=function(){if(4==e.readyState)if(a=!0,200===e.status){var t=JSON.parse(e.responseText);o(t)}else console.log(e.statusText)},e.onerror=t;try{e.withCredentials=!0}catch(n){}return e},N=function(){var e=b(),t=k();e.open("GET",t,!0),e.send()},T=function(){setTimeout(function(){a||y({optout:!1,browserid:null})},n)};(function(){T(),N()})()}(window._hawk||{});