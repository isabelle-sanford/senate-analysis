!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function o(t){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?n(Object(a),!0).forEach((function(n){e(t,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function a(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var r,s=[],c=["www.washingtonpost.com","pb-impact.washingtonpost.com","fusion-sandbox.washingtonpost.com","www.wapodev.com","www.wapostage.com","pb-dev.digitalink.com","pb-staging.digitalink.com","localhost","localhost.digitalink.com","localhost.washingtonpost.com","subscribe.digitalink.com",".*.preview.now.washingtonpost.com"],p={prod:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},fStage:{anon:{default:3e5,optedOut:63072e6},signed:{default:3e5,optedOut:3e5}},fqa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}},stage:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},qa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}}};function l(t){for(var e=!1,n=0;n<c.length;n+=1){var o=new RegExp(c[n]);if(t.match(o)){e=!0;break}}return e}function u(){if(void 0!==r)return r;try{var t=(new Date).toString();window.localStorage.setItem(t,t);var e=window.localStorage.getItem(t)===t;return window.localStorage.removeItem(t),r=e,e}catch(t){return r=!1,!1}}function w(t){if(!t)return null;if(!document.cookie)return null;for(var e={},n=null,o=document.cookie.split(";"),a=0;a<o.length;a++)if(o[a].indexOf("=")>0){var i=o[a].split("="),r=i[0],s=i[1];r&&(r=r.trim()),r===t&&(s||(s=""),n=s.trim()),e[r]=s.trim()}return n}function d(t,e,n,o,a,i){var r,s="",c="",p=".washingtonpost.com",l=!1===a?"":";secure";n<0?s=";expires=".concat(new Date(1e3).toUTCString):n>0&&(s=";expires=".concat(new Date(n).toUTCString())),"qa"===i&&(p=".digitalink.com"),null!=p&&(c=";domain=".concat(p)),e||(e=""),r=o?e:encodeURIComponent(e);var u="".concat(t,"=").concat(r,";path=/").concat(s).concat(c).concat(l);document.cookie=u}function g(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function m(t,e,n){u()&&!g(e)&&(l(window.location.hostname)&&(e.e=Date.now()+(n||0),localStorage.setItem(t,JSON.stringify(e))))}function f(t,e,n,o){return e=e||"GET",n=n&&JSON.stringify(n)||null,new Promise((function(a,i){var r=new XMLHttpRequest;r.open(e,t,!0),r.timeout=3e3,r.withCredentials=!0,o&&o.contentType&&r.setRequestHeader("Content-Type",o.contentType),r.onload=function(t){if(4===(t=t.target||{}).readyState&&200===t.status){var e={};try{(e=JSON.parse(t.response)).statusCode=200,a(e)}catch(t){i("")}}else t.status>=400&&i({message:t.status})},r.onerror=function(t){i("")},r.ontimeout=function(){i("")},r.send(n)}))}function h(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]".concat(t,"(=([^&#]*)|&|#|$)")).exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var v="wapo_identity",y="wapo_secure_login_id",S="wp_usp",_="privacySetting",b={iabSpec:1,explicitNotice:"Y",optOut:"N",lspa:"Y"},O={prod:{env:"prod",feLoggingApi:"https://www.washingtonpost.com/subscribe/logging/",pwapiProxyApi:"https://www.washingtonpost.com/pwapi-proxy/pwproxy",pwapiProxyV2Api:"https://www.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://www.washingtonpost.com/subscribe/user/auth-status",sipUrl:"https://www.washingtonpost.com/subscribe/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.washingtonpost.com/swg/check-entitlement"},fStage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.wapostage.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},stage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},fQa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://tetro.digitalink.com/evaluate",cookieDomain:".digitalink.com",LSDomain:"www.wapodev.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"},qa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://tetro.digitalink.com/evaluate",cookieDomain:".digitalink.com",LSDomain:"pb-dev.digitalink.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"}};function x(){var t="prod";return-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pb/")||-1!==window.location.hostname.indexOf("pb-impact")||-1!==window.location.hostname.indexOf("impact.wash")||-1!==window.location.hostname.indexOf("vforum-stage.")?t="stage":-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("sandbox.wash")||-1!==window.location.hostname.indexOf("preview.now.washingtonpost.com")?t="fStage":-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("www.digitalink.com")||-1!==window.location.hostname.indexOf("dev.wash")&&-1!==window.location.href.indexOf("/pf/")?t="fQa":-1===window.location.hostname.indexOf("digitalink.com")&&-1===window.location.hostname.indexOf("dev.wash")||(t="qa"),t}function k(){return O[x()]}var C="v2lby2xr2";var T={},I=window.performance&&window.performance.timing||{},P=(new Date).getTime(),D={};function E(t){Object.assign(D,t),window.pwapiPaywallResponse=D;for(var e=0;e<window.extConsumers.length;e++)window.extConsumers[e](D);for(var n=0;n<window.consumers.length;n++)window.consumers[n](D)}function A(t,e){for(var n=e.split("."),o=0,a=n.length;null!=t&&o<a;){t=t[n[o++]]}return o&&o===a?t:void 0}var U=(new Date).getTime();function j(t,e,n){var o,a=k();switch(n=n||{},e=e||"",t){case"info":o="logInfo";break;case"success":o="logSuccess";break;case"error":o="logHandledError";break;case"expectedError":o="logExpectedError";break;default:o="logInfo"}var i=a.feLoggingApi;try{var r=new XMLHttpRequest;r.open("POST",i+o,!0),r.setRequestHeader("Content-Type","application/json"),n.processId=U,n.path=window.location.pathname;var s={appName:"site-paywall",locationId:"pwapi-proxy",message:e,state:n};r.withCredentials=!0,r.send(JSON.stringify(s)),r.onload=function(){},r.onerror=function(){}}catch(t){console.error("LOGGING ERROR")}}function M(t){var e;(t=t||{}).referrer=document.referrer,Object.assign(t,(e={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,n,o){s.indexOf(n)>=0&&(e[n]=o)})),e));var n="";for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];"string"==typeof a&&""!==a&&(n+="".concat(o,"=").concat(encodeURIComponent(a.trim()),"&"))}return n}function N(t){var e=k()||{};return new Promise((function(n,o){var a,i,r={entitlements:t};if(a=document.cookie.match(/wapo_login_id=([^\;]*)/),i=document.cookie.match(/wapo_secure_login_id=([^\;]*)/),null!=a&&null!=a[1]&&null!=i&&null!=i[1])return n({status:"NOT_CHECKED",systemMessages:"User logged in"});f(e.checkEntitlementUrl,"POST",r,{contentType:"application/json"}).then((function(t){n(t)})).catch((function(t){var e={status:"ERROR",systemMessages:"Check Entitlement failed with ".concat(t.message)};n(e)}))}))}function R(t,e){if(e){var n,o=e.split(","),i=[],r={fusion:{metadata:"wpMetaData",content_type:"content_type",ct_tags:"ct_tags",sct_tags:"sct_tags"},classic:{metadata:"wp_meta_data",content_type:"contentType",ct_tags:"tags_for_paywall",sct_tags:"tags_for_paywall_subs"}}[T.name],s=window[r.metadata]||{},c=r[t];n=s[c]&&s[c].split(",")||[],i=[].concat(a(n),a(o)),s[c]=i.join(","),window[r.metadata]=s}}function L(t){var e=t.actionCodes;(function(t){var e=!1,n=w("wp_dbg_ent");return(t.toString().indexOf("23")>=0||null!=n)&&(e=!0),e})(e)&&R("sct_tags","subs_enterprise"),function(t){var e=!1;return t.toString().indexOf("903")>=0&&(e=!0),e}(e)&&R("ct_tags","subs_bbe")}function J(t){var e=function(){if(!u())return null;var t=null,e=localStorage.getItem("kxwashingtonpost_segs");return e&&e.indexOf(C)>=0&&(t=C),t}();return e&&function(t,e,n){if(!e||!n)return null;var o=n.split(","),i=t[e]&&t[e].split(",")||[],r=[].concat(a(i),a(o));t[e]=r.join(",")}(t,"pwapi_ct_tags",e),t}var q=36e5,V=[{name:"wapo_login_id",expireOffsetMillis:q,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wapo_secure_login_id",expireOffsetMillis:q,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wp_ak_v_m",expireOffsetMillis:5184e6,cookiesToLocalStorage:!0,localStorageToCookies:!0,useDelimiter:!0,delimiterValue:"|",notEncoded:!0}];function H(t,e){var n;(n=document.createElement("script")).type="text/javascript",n.setAttribute("subscriptions-control","manual"),n.src="https://news.google.com/swg/js/v1/swg.js",n.onerror=function(){},document.head.appendChild(n),function(t,e){(window.SUBSCRIPTIONS=window.SUBSCRIPTIONS||[]).push((function(n){var o=!1,a={process:"swg-entitlement"};if(-1===window.location.href.indexOf("localhost.")&&-1===window.location.href.indexOf("local."))try{n.init("washingtonpost.com:basic"),n.getEntitlements().then((function(n){return n&&n.entitlements&&n.entitlements.length>0?(E({action:0,data:{action:0},status:"final"}),o=!0,a.numEntitlements=n.entitlements.length,a.pwresp_action=t,a.pwresp_action_final=0,a.pwresp_mtrct=e,a.raw_entitlements=JSON.stringify(n.entitlements),n.entitlements.forEach((function(t,e){if(t.source.indexOf("washingtonpost.com")>=0)a.postSWGPurchase=!0,t.subscriptionToken?a["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.subscriptionToken):a["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.signedEntitlements);else if(t.subscriptionToken){a.gglSWGPurchase=!0;var n=JSON.parse(t.subscriptionToken);a["entitlement_".concat(e)]="entitlementType=google|orderId=".concat(n.orderId,"|packageName=").concat(n.packageName,"|productId=").concat(n.productId,"|purchaseTime").concat(n.purchaseTime)}}))):E({status:"final"}),n})).then((function(t){o&&N(t.entitlements).then((function(t){var e=[];e.push("isEntitled=".concat(t.status)),t.createAccount&&e.push("isLinked=".concat(!t.createAccount)),t.systemMessages&&e.push("messages=".concat(t.systemMessages)),a.entitlement_status=e.join("|"),j("info","swg entitlements",a)}))})).catch((function(){E({status:"final"})}))}catch(t){E({status:"final"})}else E({status:"final"})}))}(t,e),setTimeout((function(){"final"!==D.status&&E({status:"final"})}),5e3)}window.consumers=window.consumers||[],window.extConsumers=window.extConsumers||[],D.status="init";var Y={};function G(t,e){var n=t.data&&t.data.actionCodes?"v2":"v1",a="v2"===n?"v2_":"",i=function(t,e){return"v1"===e?t:o(o({},t),{},{sub:t.data.isSubscriber?1:0,data:o({action:t.data.action,actions:t.data.actionCodes,ip:t.data.ipAddress||null,mtr:t.data.meterState,mtrct:t.data.meterCount,mtrw:t.data.articleWeight,mtrwman:t.data.articleWeightManual,mtrwmac:t.data.articleWeightMachine,sgn:t.data.isSignedIn?1:0},t.data)})}(t,n);if(i.listeningTo=e,Y.process="paywall-display",Y["pwresp_".concat(a,"action")]=i.data.action,Y["pwresp_".concat(a,"actions")]=i.data.actions.join(","),Y["pwresp_".concat(a,"mtrct")]=i.data.meterCount,n===e){i.status="processing",window.pwapiPaywallStatus=200;var r=i.data.meterCount,s={3:"paywall",6:"softwall",9:"regwall"}[i.data.action],c=i.data.wallMeterType,p="";switch(s){case"paywall":p="".concat(c||"meter","_").concat(s),2===i.data.articleWeight&&(p="double_meter_".concat(s)),i.data.mtrct=p,i.data.meterCount=p;break;case"softwall":case"regwall":c&&(i.data.mtrct="".concat(c,"_").concat(s),i.data.meterCount="".concat(c,"_").concat(s))}L(i.data),!function(){if(!u())return!1;var t=localStorage.getItem("wp_sponsored");if(window.location.search.indexOf("das=pw_spsrd_hit")>-1||window.location.search.indexOf("pw_unlock_mgclink")>-1){if(localStorage.setItem("wp_sponsored",window.location.pathname),"function"==typeof window.history.replaceState){var e=window.location.href;e=e.replace(/das=[^\&]*/,""),window.history.replaceState({},null,e)}return!0}return!(!t||window.location.pathname!==t)}()?3===i.data.action||8===i.data.action||9===i.data.action?H(i.data.action,r):i.status="final":(i.status="final",i.action=0,i.data.action=0),E(i)}return i}function W(t,e,n){t=t||{},e=e||"info",E({status:"error"});var o={process:"pwapiproxy-".concat(n,"response"),xhrstatus:t.statusCode};t.timeout&&(o.timeout=t.timeout),j(e,t.msg,o)}function X(t,e,n,o){var a={method:"v2"===n?"POST":"GET",withCredentials:!0,timeout:5e3};return new Promise((function(i){var r=null;if("v2"===n){var s=M(e),c=window.location.href&&window.location.href.split("?")[0]||"";r=JSON.stringify({articles:[{article:"".concat(c,"?").concat(s)}]})}try{if(t){var p=new XMLHttpRequest;p.open(a.method,t),p.timeout=a.timeout,p.withCredentials=a.withCredentials,p.onload=function(){if(window["pwapi".concat(n,"Response")]=(new Date).getTime()-P,window["pwapiAPI".concat(n,"End")]=(new Date).getTime()-(I.navigationStart||0),p.readyState===XMLHttpRequest.DONE&&200===p.status){window["pwapiAPI".concat(n,"Ready")]=(new Date).getTime()-(I.navigationStart||0);var t={};try{(t=JSON.parse(p.response)).statusCode=p.status,G(t,o),i(t)}catch(t){t.statusCode=-1;var e={status:"error",statusCode:-1,msg:"pwapiproxy ".concat(n," response invalid").concat(t.statusText?" - ".concat(t.statusText):"")};W(e,"error",n),i(e)}}else if(p.readyState===XMLHttpRequest.DONE&&202===p.status)i({status:"error",msg:"black hole"});else{var a={status:"error",statusCode:p.status,msg:"pwapiproxy ".concat(n," response invalid")};W(a,"error",n),i(a)}},p.onerror=function(t){window["pwapiAPI".concat(n,"End")]=(new Date).getTime()-(I.navigationStart||0);var e={status:"error",statusCode:t&&t.statusCode?t.statusCode:500};e.msg="pwapiproxy ".concat(n," error"),W(e,"error",n),i(e)},p.ontimeout=function(){var t={status:"error",statusCode:504,timeout:((new Date).getTime()-P)/1e3,msg:"PWAPIPROXY ".concat(n.toUpperCase()," TIMEOUT")};W(t,"expectedError",n),i(t)},p.setRequestHeader("Content-Type","application/json"),window["pwapiAPI".concat(n,"Start")]=(new Date).getTime()-(I.navigationStart||0),p.send(r)}}catch(t){var l={status:"error",statusCode:500};l.msg="pwapiproxy ".concat(n," error").concat(t.message?" - ".concat(t.message):""),W(l,"error",n),i(l)}}))}function $(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(document.cookie.match(/wp_pwapi=([^\;]*);/)||{})[1]||x();if(e){var o=[/^www-washingtonpost-com/],a=O[n].pwapiProxyV2Api||O.prod.pwapiProxyV2Api;if(o.some((function(t){return t.test(window.location.hostname)}))){var i=document.createElement("a");return i.href=a,i.pathname}return a}var r=O[n].pwapiProxyApi||O.prod.pwapiProxyApi,s=window.location.pathname,c="".concat(M(t),"&as_json=1");return"".concat(r+s,"?").concat(c)}(t,!0),n=function(t){if("v2"===h("pwapiVersion"))return"v2";if("v1"===h("pwapiVersion"))return"v1";var e={commercial_node:[],href:[]},n=window.location.href,o="v2";return e.href.forEach((function(t){var e=new RegExp(t);n&&n.match(e)&&(o="v2")})),e.commercial_node.forEach((function(e){var n=new RegExp(e);t.commercial_node&&t.commercial_node.match(n)&&(o="v2")})),o}(t);Promise.all([X(e,t,"v2",n)]).then((function(){(Y.pwresp_action>=3||Y.hasOwnProperty("pwresp_v2_action")&&Y.hasOwnProperty("pwresp_action")&&Y.pwresp_action!==Y.pwresp_v2_action)&&j("info","pwresp action: ".concat((Y.pwresp_action||"").toString()||(Y.pwresp_v2_action||"").toString()),Y)})).catch((function(){}))}window.registerPwapiConsumer=function(t){window.consumers.push(t),t(D)},window.registerExtUpdates=function(t){window.extConsumers.push(t),t(D)},window.extListener=function(t){E(t)};var B={};B.pwapi_contentsection=A(window,"wpMetaData.content_section"),B.pwapi_ct_tags=A(window,"wpMetaData.ct_tags"),B.pwapi_sct_tags=A(window,"wpMetaData.sct_tags"),B.commercial_node=A(window,"wpMetaData.commercial_node"),B.content_type=A(window,"wpMetaData.content_type"),B.is_amp="0",B.env=window.renderingEnv||"";var F,Q=B,K=k()||{},z=(F=K.env,p[F]);function Z(t){for(var e=0;e<window.authConsumers.length;e++)window.authConsumers[e](t)}function tt(t){var e=!!w(y),n=!(!t||!t.ccpa||"Y"!==t.ccpa.optOut),o=z&&z[e?"signed":"anon"][n?"optedOut":"default"]||0;return Date.now()+o}function et(t){if(u()&&l(window.location.hostname)){var e=localStorage.getItem(v);e=e&&JSON.parse(e)||{};var n=Object.assign(e,t),o=tt(n.privacySetting||{});n.e=o,localStorage.setItem(v,JSON.stringify(n))}}function nt(){var t=null;u()&&localStorage.getItem(v)&&(function(){var t=!1;if(u()&&localStorage.getItem(v)){var e=JSON.parse(localStorage.getItem(v));e.e&&Date.now()>e.e&&(t=!0)}return t}()?u()&&localStorage.removeItem(v):t=JSON.parse(localStorage.getItem(v)));return t}function ot(t){if(u()&&localStorage.getItem(v))return JSON.parse(localStorage.getItem(v))[t]}function at(t){var e,n,o;return t=t||(e=w(y),n=w(S),!1===ot("signedIn")&&e?"sip":(window.wp_meta_data&&window.wp_meta_data.tags_for_paywall&&-1!==window.wp_meta_data.tags_for_paywall.indexOf("ccpa")||window.wpMetaData&&window.wpMetaData.ct_tags&&-1!==window.wpMetaData.ct_tags.indexOf("ccpa")||!!(g(nt())||e&&!n))&&"auth-status"),new Promise((function(e,n){!1!==t?function(t){return new Promise((function(e,n){var o;if("auth-status"===t)f("".concat(K.authStatusUrl,"?_v=").concat((new Date).getTime())).then((function(t){e(t)})).catch((function(t){n({status:"FAIL",errorState:"Auth Status failed"})}));else if("sip"===t){var a=nt(),i={caller:"SubsStorageManager",requestId:(o=window.crypto||window.msCrypto,([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^o.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),authStatus:!0};i=Object.assign(i,a),f(K.sipUrl,"POST",i,{contentType:"application/json"}).then((function(t){e(t)})).catch((function(t){n("Auth Status failed")}))}else n("Invalid action: ".concat(t))}))}(t).then((function(t){t&&"SUCCESS"===t.status&&et(o=t.userState)})).finally((function(){Z(o=nt()),e(o)})):(Z(o=nt()),e(o))}))}window.authConsumers=window.authConsumers||[],window.registerAuthConsumer=function(t){window.authConsumers.push(t),t(nt())},window.updateIdentity=function(t){if(u()){var e=l(window.location.hostname),n=localStorage.getItem(v);if(e&&null!=n)try{n=n&&JSON.parse(n)||{};var o=Object.assign(n,t);localStorage.setItem(v,JSON.stringify(o))}catch(t){}}},window.storePrivacySetting=function(e){e="object"===t(e)?e:{};var n=ot(_)||{};if(n.ccpa=o(o(o({},b),n.ccpa),e.ccpa),!g(n)){var a=w(y),i="".concat(n.ccpa.iabSpec,n.ccpa.explicitNotice,n.ccpa.optOut,n.ccpa.lspa);if(et({privacySetting:n}),a)at("sip");else{var r=x(),s=tt(n);d(S,i,s,!0,!0,r)}}};var it={getUspString:function(t){return"".concat((t=t||{}).iabSpec,t.explicitNotice,t.optOut,t.lspa)},getUSPData:function(t,e){var n="".concat(t,"---");if(u()&&localStorage.getItem(v)){var o=ot("geoState");if(navigator.globalPrivacyControl&&"CA"===o)n="1YYY";else{var a=ot(_);a&&a.ccpa&&(n=it.getUspString(a.ccpa))}}if(n){var i={};i.version=t,i.uspString=n,e(i,!0)}},v1:{getUSPData:function(t){it.getUSPData(1,t)}}};window.addEventListener("message",(function(t){if(t.data.hasOwnProperty("__uspapiCall")){t.stopImmediatePropagation&&t.stopImmediatePropagation();var e=t.data.__uspapiCall.command,n=t.data.__uspapiCall.version;e&&n&&window.__uspapi(e,n,(function(e,n){n?t.source.postMessage({__uspapiReturn:{returnValue:e,success:n,callId:t.data.__uspapiCall.callId}},t.origin):t.source.postMessage({__uspapiReturn:{returnValue:{version:1,uspString:"1NYY"},success:!1,callId:t.data.__uspapiCall.callId}},t.origin)}))}return null}),!1),T.name="fusion",window.pwapiVersion="Version 1.8.2 on Fri, 14 May 2021 16:18:17 GMT",window.pwapiStart=P-(I.navigationStart||0),J(Q),$(Q),function(t){var e={},n={};if(u()){for(var o=0;o<V.length;o++){var a=V[o];try{var i=a.name,r=w(i),s=localStorage.getItem(i),c={};if(s)try{(c=JSON.parse(s)).e<(new Date).getTime()&&(c={},localStorage.removeItem(i))}catch(t){c={},localStorage.removeItem(i)}var p=null!=r,l=null!=c.v;if(l&&!p&&a.localStorageToCookies&&(d(i,c.v,c.e,a.notEncoded,!0,t),n[i]=c.v),!l&&p&&a.cookiesToLocalStorage&&m(i,{v:r},a.expireOffsetMillis),p&&l&&a.useDelimiter){var g=a.delimiterValue||"|",f=r.split(g),h=c.v.split(g);a.cookiesToLocalStorage&&f&&h&&f[1]&&f[1]!==h[1]?m(i,{v:r},a.expireOffsetMillis):a.localStorageToCookies&&f&&h&&f[0]!==h[0]&&(!f[1]||f[1]===h[1])&&d(i,c.v,c.e||Date.now()+a.expireOffsetMillis,a.notEncoded,!0,t)}}catch(t){console.error("Unable to synchCookiesAndLocalStorage for synchCookie item: ".concat(JSON.stringify(a)),t)}}try{(Object.keys(n).length>0||Object.keys(e).length>0)&&j("info","User storage Synced",{process:"storage-sync","cookie-sync":JSON.stringify(e),"ls-sync":JSON.stringify(n)})}catch(t){}}}(x());try{window.__uspapi=function(t,e,n){return it["v".concat(e)]&&"function"==typeof it["v".concat(e)][t]?n?void it["v".concat(e)][t].apply(null,[n]):it["v".concat(e)][t]:!!n&&void n(null,!1)}}catch(t){}try{setTimeout((function(){at()}),0)}catch(t){}}();
