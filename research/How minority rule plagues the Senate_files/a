!function(e){function t(t){for(var n,o,a=t[0],i=t[1],c=0,u=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);u.length;)u.shift()()}var n={},r={4:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+"fingerprinted/js/"+({1:"elements-afterpay-clearpay-message",2:"elements-afterpay-clearpay-modal",5:"trusted-types-checker"}[e]||e)+"-"+{1:"05f07bf0dcf54f921af9659890434442",2:"fafbc9e4184c92102a41b4ee41f702fb",5:"8178ad7d768b4a647186eebbefd8a9d1"}[e]+".js"}(e);var s=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}r[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://js.stripe.com/v3/",o.oe=function(e){throw console.error(e),e};var a=window.__webpackStripeJSv3Jsonp=window.__webpackStripeJSv3Jsonp||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var s=i;o(o.s=19)}([function(e,t,n){"use strict";var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.__stripeElementsController&&window.__stripeElementsController.reportIntegrationError(e),n.name="IntegrationError",Object.defineProperty(n,"message",{value:n.message,enumerable:!0}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();t.a=r},function(e,t,n){"use strict";var r=n(16),o=n.n(r),a=window.Promise?Promise:o.a;t.a=a},function(e,t,n){"use strict";n.d(t,"l",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return o.a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u.a})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return _})),n.d(t,"a",(function(){return y})),n.d(t,"j",(function(){return v}));var r=n(9),o=n(8),a=n(3),i=function(e){return"https://js.stripe.com/v3/"+(e||"")},c=function(e){switch(e){case"ADDRESS_AUTOCOMPLETE":return i("checkout-inner-address-autocomplete-4be444c2c0bb21b91267ce6f97e81422.html");case"CARD_ELEMENT":return i("elements-inner-card-96b43273d90c48cb8468f30c8f94e0ac.html");case"CARD_LIGHT_ELEMENT":return i("elements-inner-card-light-5852e8977ed1645066f06d6b15fab0d8.html");case"CONTROLLER":return i("controller-0bd91325813be6595e4f37936bbafe02.html");case"METRICS_CONTROLLER":return i("m-outer-257db74dfc4594d2bb652dc7b646dbc5.html");case"PAYMENT_REQUEST_ELEMENT":return i("elements-inner-payment-request-6729012b0a1d5153ddda2704f5fb81c9.html");case"PAYMENT_REQUEST_BROWSER":return i("payment-request-inner-browser-c33a556a04a1a47b82abe432a314bfa3.html");case"PAYMENT_REQUEST_GOOGLE_PAY":return i("payment-request-inner-google-pay-9bf1ab99273c30db65d714fdf958f9f3.html");case"IBAN_ELEMENT":return i("elements-inner-iban-6b881b52c1b4accf2b0bdbe32670a5d4.html");case"IDEAL_BANK_ELEMENT":return i("elements-inner-ideal-bank-abc4c96bfa62b692cef010bf7895f04b.html");case"P24_BANK_ELEMENT":return i("elements-inner-p24-bank-de50fa5da6cfea1b640283f0680fb88a.html");case"AUTHORIZE_WITH_URL":return i("authorize-with-url-inner-10b306bbb7643524f502bd92984531a9.html");case"STRIPE_3DS2_CHALLENGE":return i("three-ds-2-challenge-1aa76db4f96d0d9bca594dfcbbb44581.html");case"STRIPE_3DS2_FINGERPRINT":return i("three-ds-2-fingerprint-d0e8642feccb8c6a9516f2bf53b2fc3e.html");case"AU_BANK_ACCOUNT_ELEMENT":return i("elements-inner-au-bank-account-858c3941b9b015dd72ac543aadb31dbc.html");case"FPX_BANK_ELEMENT":return i("elements-inner-fpx-bank-1246ea4f42c80cb0beafe5ae52f242df.html");case"LIGHTBOX_APP":return i("lightbox-inner-f124bf483dc032b3b1fcb82532332ff6.html");case"ISSUING_CARD_NUMBER_DISPLAY_ELEMENT":return i("elements-inner-issuing-card-number-display-901cd5a9a533d08a6dfd92c9302b584f.html");case"ISSUING_CARD_CVC_DISPLAY_ELEMENT":return i("elements-inner-issuing-card-cvc-display-dee4bc640ce93755b28fe8825609809b.html");case"ISSUING_CARD_EXPIRY_DISPLAY_ELEMENT":return i("elements-inner-issuing-card-expiry-display-9a2bc4cb7cd79030921377223a9b387a.html");case"EPS_BANK_ELEMENT":return i("elements-inner-eps-bank-61a61b74df243d9ab91c8ed0e2784a61.html");case"HCAPTCHA_APP":return i("hcaptcha-inner-2751c8826d7766e40c82b46899f53dfb.html");case"NETBANKING_BANK_ELEMENT":return i("elements-inner-netbanking-bank-b5a2b4c06f344be1161832e9f4998e80.html");case"AFTERPAY_MESSAGE_MODAL_ELEMENT":return i("elements-inner-afterpay-message-modal-c1c5e149580058dc65d61ef97a428a06.html");case"INSTANT_DEBITS_APP":return i("instant-debits-app-49aa8f1e4644afdbbf5ce88c2c8794fc.html");case"AUTHENTICATION_ELEMENT":return i("elements-inner-authentication-cfeaeaa88a2aa22abab062a5627e6271.html");case"AUTHENTICATION_POPOVER_ELEMENT":return i("elements-inner-authentication-popover-65fa626a2e586e7386d861fa98c98358.html");case"PAYMENT_ELEMENT":return i("elements-inner-payment-91a6b49468cd43daee0be13a59eb3ce0.html");case"LINKED_ACCOUNTS_INNER":return i("linked-accounts-inner-46aa4e8a8c866346b64906ddfdeef697.html");case"WECHAT_PAY_INNER":return i("wechat-pay-inner-5bc849d3c0ab002cbe9c1e7c42c094ab.html");default:return Object(a.a)(e)}},s=function(e){var t={frameborder:"0",allowTransparency:"true",scrolling:"no",allow:"payment *"};if("PAYMENT_REQUEST_GOOGLE_PAY"===e){t.sandbox=["allow-scripts","allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),t.referrerpolicy="origin"}return t},u=n(4),l={PAYMENT_INTENT:"PAYMENT_INTENT",SETUP_INTENT:"SETUP_INTENT"},p=[u.a.card,u.a.cardNumber,u.a.cardExpiry,u.a.cardCvc,u.a.postalCode],d="https://js.stripe.com/v3/",f=Object(r.d)(d),m=f?f.origin:"",h="https://verify.stripe.com/",_={family:"font-family",src:"src",unicodeRange:"unicode-range",style:"font-style",variant:"font-variant",stretch:"font-stretch",weight:"font-weight",display:"font-display"},y=Object.keys(_).reduce((function(e,t){return e[_[t]]=t,e}),{}),v=[u.a.idealBank,u.a.p24Bank,u.a.netbankingBank,u.a.idealBankSecondary,u.a.p24BankSecondary,u.a.netbankingBankSecondary,u.a.fpxBank,u.a.fpxBankSecondary,u.a.epsBank,u.a.epsBankSecondary]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absurd";throw new Error(t)}},function(e,t,n){"use strict";var r={card:"card",cardNumber:"cardNumber",cardExpiry:"cardExpiry",cardCvc:"cardCvc",postalCode:"postalCode",iban:"iban",idealBank:"idealBank",p24Bank:"p24Bank",paymentRequestButton:"paymentRequestButton",auBankAccount:"auBankAccount",fpxBank:"fpxBank",netbankingBank:"netbankingBank",epsBank:"epsBank",afterpayClearpayMessage:"afterpayClearpayMessage",authentication:"authentication",payment:"payment",idealBankSecondary:"idealBankSecondary",p24BankSecondary:"p24BankSecondary",auBankAccountNumber:"auBankAccountNumber",auBsb:"auBsb",fpxBankSecondary:"fpxBankSecondary",netbankingBankSecondary:"netbankingBankSecondary",issuingCardNumberDisplay:"issuingCardNumberDisplay",issuingCardCvcDisplay:"issuingCardCvcDisplay",issuingCardExpiryDisplay:"issuingCardExpiryDisplay",epsBankSecondary:"epsBankSecondary",afterpayClearpayMessageModal:"afterpayClearpayMessageModal",authenticationPopover:"authenticationPopover"};t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},a=o(),i=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return o()-a},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timestampValue=null!=t?t:i()}return r(e,[{key:"getAsPosixTime",value:function(){return o()-this.getElapsedTime()}},{key:"getElapsedTime",value:function(e){return Math.round((e?e.timestampValue:i())-this.timestampValue)}},{key:"valueOf",value:function(){return Math.round(this.timestampValue)}}],[{key:"fromPosixTime",value:function(t){return new e(t-o()+i())}}]),e}()},function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return _}));var r=n(17),o=n.n(r),a=n(0),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(e,t){var n={};t.forEach((function(e){var t=i(e,2),r=t[0],o=t[1];r.split(/\s+/).forEach((function(e){e&&(n[e]=n[e]||o)}))})),e.className=o()(e.className,n)},s=function(e,t){e.style.cssText=Object.keys(t).map((function(e){return e+": "+t[e]+" !important;"})).join(" ")},u={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block",visibility:"hidden",position:"fixed",height:"1px","pointer-events":"none","user-select":"none"},l=function(e){s(e,u)},p=function(e){try{return window.parent.frames[e]}catch(e){return null}},d=function(){if(!document.body)throw new a.a("Stripe.js requires that your page has a <body> element.");return document.body},f=function(e){return requestAnimationFrame((function(){requestAnimationFrame(e)}))},m=function(e,t){return!!e.documentElement&&e.documentElement.contains(t)},h="isConnected"in window.Node.prototype?function(e,t){return t.isConnected&&t.ownerDocument===e}:m,_=function(e,t){return!m(e,t)&&h(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return d}));var r=n(1),o=n(5),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},c=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},s="[object Object]",u=function e(t,n){if("object"!==(void 0===t?"undefined":a(t))||"object"!==(void 0===n?"undefined":a(n)))return t===n;if(null===t||null===n)return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===s;if(o!==(Object.prototype.toString.call(n)===s))return!1;if(!o&&!r)return!1;var i=Object.keys(t),c=Object.keys(n);if(i.length!==c.length)return!1;for(var u={},l=0;l<i.length;l++)u[i[l]]=!0;for(var p=0;p<c.length;p++)u[c[p]]=!0;var d=Object.keys(u);if(d.length!==i.length)return!1;var f=t,m=n;return d.every((function(t){return e(f[t],m[t])}))},l=function(e,t){for(var n={},r=0;r<t.length;r++)n[t[r]]=!0;for(var o=[],a=0;a<e.length;a++)n[e[a]]&&o.push(e[a]);return o},p=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},d=function(e,t){var n=0,a=function r(a){for(var i=new o.a;n<e.length&&i.getElapsedTime()<50;)t(e[n]),n++;n===e.length?a():setTimeout((function(){return r(a)}))};return new r.a((function(e){return a(e)}))}},function(e,t,n){"use strict";t.a={ADDRESS_AUTOCOMPLETE:"ADDRESS_AUTOCOMPLETE",CARD_ELEMENT:"CARD_ELEMENT",CARD_LIGHT_ELEMENT:"CARD_LIGHT_ELEMENT",CONTROLLER:"CONTROLLER",METRICS_CONTROLLER:"METRICS_CONTROLLER",PAYMENT_REQUEST_ELEMENT:"PAYMENT_REQUEST_ELEMENT",PAYMENT_REQUEST_BROWSER:"PAYMENT_REQUEST_BROWSER",PAYMENT_REQUEST_GOOGLE_PAY:"PAYMENT_REQUEST_GOOGLE_PAY",IBAN_ELEMENT:"IBAN_ELEMENT",IDEAL_BANK_ELEMENT:"IDEAL_BANK_ELEMENT",P24_BANK_ELEMENT:"P24_BANK_ELEMENT",AUTHORIZE_WITH_URL:"AUTHORIZE_WITH_URL",STRIPE_3DS2_CHALLENGE:"STRIPE_3DS2_CHALLENGE",STRIPE_3DS2_FINGERPRINT:"STRIPE_3DS2_FINGERPRINT",AU_BANK_ACCOUNT_ELEMENT:"AU_BANK_ACCOUNT_ELEMENT",FPX_BANK_ELEMENT:"FPX_BANK_ELEMENT",LIGHTBOX_APP:"LIGHTBOX_APP",ISSUING_CARD_NUMBER_DISPLAY_ELEMENT:"ISSUING_CARD_NUMBER_DISPLAY_ELEMENT",ISSUING_CARD_CVC_DISPLAY_ELEMENT:"ISSUING_CARD_CVC_DISPLAY_ELEMENT",ISSUING_CARD_EXPIRY_DISPLAY_ELEMENT:"ISSUING_CARD_EXPIRY_DISPLAY_ELEMENT",EPS_BANK_ELEMENT:"EPS_BANK_ELEMENT",HCAPTCHA_APP:"HCAPTCHA_APP",NETBANKING_BANK_ELEMENT:"NETBANKING_BANK_ELEMENT",AFTERPAY_MESSAGE_MODAL_ELEMENT:"AFTERPAY_MESSAGE_MODAL_ELEMENT",INSTANT_DEBITS_APP:"INSTANT_DEBITS_APP",AUTHENTICATION_ELEMENT:"AUTHENTICATION_ELEMENT",AUTHENTICATION_POPOVER_ELEMENT:"AUTHENTICATION_POPOVER_ELEMENT",PAYMENT_ELEMENT:"PAYMENT_ELEMENT",LINKED_ACCOUNTS_INNER:"LINKED_ACCOUNTS_INNER",WECHAT_PAY_INNER:"WECHAT_PAY_INNER"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=/^(http(s)?):\/\//,o=function(e){return r.test(e)},a=function(e){var t=e.match(r);return t&&t.length?t[1]:null},i=function(e){if(!o(e))return null;var t=document.createElement("a");t.href=e;var n=t.protocol,r=t.host,a=t.pathname,i=/:80$/,c=/:443$/;return"http:"===n&&i.test(r)?r=r.replace(i,""):"https:"===n&&c.test(r)&&(r=r.replace(c,"")),{host:r,protocol:n,origin:n+"//"+r,path:a}},c=function(e,t){if("/"===t[0]){var n=i(e);return n?""+n.origin+t:t}return""+e.replace(/\/[^/]*$/,"/")+t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n(0),o=function(e){var t={},n={};return function(r){var o="_"+r;if("string"==typeof r&&void 0!==t[o])return t[o];if("number"==typeof r&&void 0!==n[o])return n[o];var a=e(r);return"string"==typeof r&&(t[o]=a),"number"==typeof r&&(n[o]=a),a}},a=function(e,t){var n=!1;return function(){if(n)throw new r.a(t);n=!0;try{return e.apply(void 0,arguments).then((function(e){return n=!1,e}),(function(e){throw n=!1,e}))}catch(e){throw n=!1,e}}},i=function(e){var t=e;return function(){t&&(t.apply(void 0,arguments),t=null)}},c=function(e){var t=void 0,n=void 0;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n&&o.length===n.length&&o.every((function(e,t){return e===n[t]}))?t:(n=o,t=e.apply(void 0,o))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}));var r=n(9),o=function(e,t){var n=Object(r.d)(e),o=Object(r.d)(t);return!(!n||!o)&&n.origin===o.origin},a=function(e){return o(e,"https://js.stripe.com/v3/")},i=function(e){return a(e)||function(e){var t=Object(r.d)(e),n=t?t.host:"";return"stripe.com"===n||!!n.match(/\.stripe\.(com|me)$/)}(e)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.a=function e(t,n){var a=[];return Object.keys(t).forEach((function(i){var c=t[i],s=n?n+"["+i+"]":i;if(c&&"object"===(void 0===c?"undefined":r(c))){var u=e(c,s);""!==u&&(a=[].concat(o(a),[u]))}else null!=c&&(a=[].concat(o(a),[s+"="+encodeURIComponent(String(c))]))})),a.join("&").replace(/%20/g,"+")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(10),o=n(7),a=n(14),i=function(){return Array.prototype.slice.call(document.querySelectorAll("a[href], area[href], input:not([disabled]),\n  select:not([disabled]), textarea:not([disabled]), button:not([disabled]),\n  object, embed, *[tabindex], *[contenteditable]")).filter((function(e){var t=e.getAttribute("tabindex"),n=!t||parseInt(t,10)>=0,r=e.getBoundingClientRect(),o=Object(a.a)(e),i=r.width>0&&r.height>0&&o&&"hidden"!==o.getPropertyValue("visibility");return n&&i}))},c=function(e,t){var n=i();return n[Object(o.b)(n,(function(t){return t===e||e.contains(t)}))+("previous"===t?-1:1)]},s=function(e,t){return e.then((function(){return Object(o.d)(t,(function(e){var t=e.element,n=e.tabIndex;""===n?t.removeAttribute("tabindex"):t.setAttribute("tabindex",n)}))}))},u=function(e){var t=[],n=Object(o.d)(document.querySelectorAll("*"),(function(n){var r=n.getAttribute("tabindex")||"";e!==n&&(n.tabIndex=-1),t.push({element:n,tabIndex:r})})),a=Object(r.d)((function(){s(n,t)}));return{lockedPromise:n,lockedElements:t,restoreFocus:a}}},function(e,t,n){"use strict";t.a=function(e,t){return e?window.getComputedStyle(e,t):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),o=n(10),a=function(){var e=Object(r.a)(),t=e.style.overflow;e.style.overflow="hidden";var n={passive:!1},a=function(e){return e.preventDefault()},i=function(){};return window.addEventListener("touchmove",i,n),e.addEventListener("touchstart",i,n),e.addEventListener("touchmove",a,n),Object(o.d)((function(){e.style.overflow=t||"",window.removeEventListener("touchmove",i,n),e.removeEventListener("touchstart",i,n),e.removeEventListener("touchmove",a,n)}))}},function(e,t,n){"use strict";var r=n(20);e.exports=r;var o=l(!0),a=l(!1),i=l(null),c=l(void 0),s=l(0),u=l("");function l(e){var t=new r(r._61);return t._81=1,t._65=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return i;if(void 0===e)return c;if(!0===e)return o;if(!1===e)return a;if(0===e)return s;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r((function(t,n){n(e)}))}return l(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r((function(e,n){if(0===t.length)return e([]);var o=t.length;function a(i,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof r&&c.then===r.prototype.then){for(;3===c._81;)c=c._65;return 1===c._81?a(i,c._65):(2===c._81&&n(c._65),void c.then((function(e){a(i,e)}),n))}var s=c.then;if("function"==typeof s)return void new r(s.bind(c)).then((function(e){a(i,e)}),n)}t[i]=c,0==--o&&e(t)}for(var i=0;i<t.length;i++)a(i,t[i])}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){e.forEach((function(e){r.resolve(e).then(t,n)}))}))},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){var r;!function(){"use strict";var n=function(){function e(){}function t(e,t){for(var n=t.length,r=0;r<n;++r)o(e,t[r])}e.prototype=Object.create(null);var n={}.hasOwnProperty;var r=/\s+/;function o(e,o){if(o){var a=typeof o;"string"===a?function(e,t){for(var n=t.split(r),o=n.length,a=0;a<o;++a)e[n[a]]=!0}(e,o):Array.isArray(o)?t(e,o):"object"===a?function(e,t){for(var r in t)n.call(t,r)&&(e[r]=!!t[r])}(e,o):"number"===a&&function(e,t){e[t]=!0}(e,o)}}return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=new e;t(a,r);var i=[];for(var c in a)a[c]&&i.push(c);return i.join(" ")}}();e.exports?e.exports=n:void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=function(e){return"_"+e.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return(e<<5)-e+t&(e<<5)-e+t}),0).toString().replace(/[-.]/g,"_")}},function(e,t,n){e.exports=n(28)},function(e,t,n){"use strict";var r=n(21);function o(){}var a=null,i={};function c(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==o&&f(e,this)}function s(e,t){for(;3===e._81;)e=e._65;if(c._10&&c._10(e),0===e._81)return 0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t);!function(e,t){r((function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return a=e,i}}(n,e._65);r===i?l(t.promise,a):u(t.promise,r)}else 1===e._81?u(t.promise,e._65):l(t.promise,e._65)}))}(e,t)}function u(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return a=e,i}}(t);if(n===i)return l(e,a);if(n===e.then&&t instanceof c)return e._81=3,e._65=t,void p(e);if("function"==typeof n)return void f(n.bind(t),e)}e._81=1,e._65=t,p(e)}function l(e,t){e._81=2,e._65=t,c._97&&c._97(e,t),p(e)}function p(e){if(1===e._45&&(s(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)s(e,e._54[t]);e._54=null}}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return a=e,i}}(e,(function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,l(t,e))}));n||r!==i||(n=!0,l(t,a))}e.exports=c,c._10=null,c._97=null,c._61=o,c.prototype.then=function(e,t){if(this.constructor!==c)return function(e,t,n){return new e.constructor((function(r,a){var i=new c(o);i.then(r,a),s(e,new d(t,n,i))}))}(this,e,t);var n=new c(o);return s(this,new d(e,t,n)),n}},function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],a=0;function i(){for(;a<o.length;){var e=a;if(a+=1,o[e].call(),a>1024){for(var t=0,n=o.length-a;t<n;t++)o[t]=o[t+a];o.length-=a,a=0}}o.length=0,a=0,!1}var c,s,u,l=void 0!==t?t:self,p=l.MutationObserver||l.WebKitMutationObserver;function d(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof p?(c=1,s=new p(i),u=document.createTextNode(""),s.observe(u,{characterData:!0}),r=function(){c=-c,u.data=c}):r=d(i),n.requestFlush=r,n.makeRequestCallFromTimer=d}).call(this,n(22))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(3),a=n(7),i=["aed","afn","all","amd","ang","aoa","ars","aud","awg","azn","bam","bbd","bdt","bgn","bhd","bif","bmd","bnd","bob","brl","bsd","btn","bwp","byr","bzd","cad","cdf","chf","clf","clp","cny","cop","crc","cuc","cup","cve","czk","djf","dkk","dop","dzd","egp","ern","etb","eur","fjd","fkp","gbp","gel","ghs","gip","gmd","gnf","gtq","gyd","hkd","hnl","hrk","htg","huf","idr","ils","inr","iqd","irr","isk","jmd","jod","jpy","kes","kgs","khr","kmf","kpw","krw","kwd","kyd","kzt","lak","lbp","lkr","lrd","lsl","ltl","lvl","lyd","mad","mdl","mga","mkd","mmk","mnt","mop","mro","mur","mvr","mwk","mxn","myr","mzn","nad","ngn","nio","nok","npr","nzd","omr","pab","pen","pgk","php","pkr","pln","pyg","qar","ron","rsd","rub","rwf","sar","sbd","scr","sdg","sek","sgd","shp","skk","sll","sos","srd","ssp","std","svc","syp","szl","thb","tjs","tmt","tnd","top","try","ttd","twd","tzs","uah","ugx","usd","uyu","uzs","vef","vnd","vuv","wst","xaf","xag","xau","xcd","xdr","xof","xpf","yer","zar","zmk","zmw","btc","jep","eek","ghc","mtl","tmm","yen","zwd","zwl","zwn","zwr"],c={AE:"AE",AT:"AT",AU:"AU",BE:"BE",BG:"BG",BR:"BR",CA:"CA",CH:"CH",CI:"CI",CR:"CR",CY:"CY",CZ:"CZ",DE:"DE",DK:"DK",DO:"DO",EE:"EE",ES:"ES",FI:"FI",FR:"FR",GB:"GB",GI:"GI",GR:"GR",GT:"GT",HK:"HK",HU:"HU",ID:"ID",IE:"IE",IN:"IN",IT:"IT",JP:"JP",LI:"LI",LT:"LT",LU:"LU",LV:"LV",MT:"MT",MX:"MX",MY:"MY",NL:"NL",NO:"NO",NZ:"NZ",PE:"PE",PH:"PH",PL:"PL",PT:"PT",RO:"RO",SE:"SE",SG:"SG",SI:"SI",SK:"SK",SN:"SN",TH:"TH",TT:"TT",US:"US",UY:"UY"},s=Object.keys(c),u={applePay:"applePay",googlePay:"googlePay",browserCard:"browserCard"},l=function(e,t){return e.indexOf(t)>=0},p=Object.keys(u),d={live:"live",test:"test",unknown:"unknown"},f=function(e){return/^pk_test_/.test(e)?d.test:/^pk_live_/.test(e)?d.live:d.unknown},m=n(9),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var b=function(e,t,n){var r=n.path.reduce((function(e,t,n){return 0===n?t:0===t.indexOf(".")?e+'["'+t+'"]':e+"."+t}),"");return"Invalid value for "+n.label+": "+(r||"value")+" should be "+e+". You specified: "+t+"."},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"valid",value:e,warnings:t}},w=function(e){return{error:e,errorType:"full",type:"error"}},E=function(e,t,n){var o=new r.a(b(e,t,n));return w(o)},P=function(e,t,n){return{expected:e,actual:String(t),options:n,errorType:"mismatch",type:"error"}},S=function(e,t){return _({},e,{path:[].concat(v(e.path),[t])})},k=function(e){return function(t,n){return void 0===t?g(t):e(t,n)}},O=function(e,t){return function(n,o){var a=function(e){var t=e.options.path.join(".")||"value";return{error:t+" should be "+e.expected,actual:t+" as "+e.actual}},i=function(e,t,n){return w(new r.a("Invalid value for "+e+": "+t+". You specified "+n+"."))},c=e(n,o),s=t(n,o);if("error"===c.type&&"error"===s.type){if("mismatch"===c.errorType&&"mismatch"===s.errorType){var u=a(c),l=u.error,p=u.actual,d=a(s),f=d.error,m=d.actual;return i(o.label,l===f?l:l+" or "+f,p===m?p:p+" and "+m)}if("mismatch"===c.errorType){var h=a(c),_=h.error,y=h.actual;return i(o.label,_,y)}if("mismatch"===s.errorType){var v=a(s),b=v.error,g=v.actual;return i(o.label,b,g)}return w(c.error)}return"valid"===c.type?c:s}},T=function(e,t){return function(n,r){var o=Object(a.a)(e,(function(e){return e===n}));if(void 0===o){var i=t?"a recognized string.":"one of the following strings: "+e.join(", ");return P(i,n,r)}return g(o)}},A=function(e){return function(t,n){return"string"==typeof t&&0===t.indexOf(e)?g(t):P("a string starting with "+e,t,n)}},I=function(e,t){return function(n,r){return"string"==typeof n&&n.length>=e&&n.length<=t?g(n):P(e===t?"a string of "+e+" characters":"a string with "+e+" to "+t+" characters",n,r)}},C=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(t,!1)},j=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(t,!0)},N=C.apply(void 0,v(s)),R=C.apply(void 0,v(i)),M=C.apply(void 0,v(p)),x=(C.apply(void 0,v(Object.keys(d))),function(e,t){return"string"==typeof e?g(e):P("a string",e,t)}),L=function(e,t){return function(n,r){return void 0===n?g(t()):e(n,r)}},D=function(e,t){return"boolean"==typeof e?g(e):P("a boolean",e,t)},B=function(e,t){return"number"==typeof e?g(e):P("a number",e,t)},q=function(e){return function(t,n){return"number"==typeof t&&t>e?g(t):P("a number greater than "+e,t,n)}},F=function(e){return function(t,n){return"number"==typeof t&&t===parseInt(t,10)&&(!e||t>=0)?g(t):P(e?"a positive amount in the currency's subunit":"an amount in the currency's subunit",t,n)}},U=function(e,t){return F(!1)(e,t)},H=function(e,t){return e&&"object"===(void 0===e?"undefined":h(e))?g(e):P("an object",e,t)},Y=function(e){return function(t,n){return Array.isArray(t)?t.map((function(t,r){return e(t,S(n,String(r)))})).reduce((function(e,t){return"error"===e.type?e:"error"===t.type?t:g([].concat(v(e.value),[t.value]),[].concat(v(e.warnings),v(t.warnings)))}),g([])):P("array",t,n)}},z=function(e){return function(t){return function(n,o){if(Array.isArray(n)){var a=t(n,o);if("valid"===a.type)for(var i={},c=0;c<a.value.length;c+=1){var s=a.value[c];if("object"===(void 0===s?"undefined":h(s))&&s&&"string"==typeof s[e]){var u=s[e],l="_"+u;if(i[l])return w(new r.a("Duplicate value for "+e+": "+u+". The property '"+e+"' of '"+o.path.join(".")+"' has to be unique."));i[l]=!0}}return a}return P("array",n,o)}}},G=function(e){return function(t,n){return void 0===t?g(void 0):P("used in "+e+" instead",t,n)}},W=function(e){return function(t){return function(n,o){if(n&&"object"===(void 0===n?"undefined":h(n))&&!Array.isArray(n)){var i=n,c=Object(a.a)(Object.keys(i),(function(e){return!t[e]}));if(c&&e)return w(new r.a("Invalid "+o.label+" parameter: "+[].concat(v(o.path),[c]).join(".")+" is not an accepted parameter."));var s=Object.keys(i),u=g({});return c&&(u=s.reduce((function(e,n){return t[n]?e:g(e.value,[].concat(v(e.warnings),["Unrecognized "+o.label+" parameter: "+[].concat(v(o.path),[n]).join(".")+" is not a recognized parameter. This may cause issues with your integration in the future."]))}),u)),Object.keys(t).reduce((function(e,n){if("error"===e.type)return e;var r=(0,t[n])(i[n],S(o,n));return"valid"===r.type&&void 0!==r.value?g(_({},e.value,y({},n,r.value)),[].concat(v(e.warnings),v(r.warnings))):"valid"===r.type?g(e.value,[].concat(v(e.warnings),v(r.warnings))):r}),u)}return P("an object",n,o)}}},K=W(!0),V=W(!1),J=function(e,t,n,o){var a=o||{},i=e(t,{authenticatedOrigin:a.authenticatedOrigin||"",element:a.element||"",label:n,path:a.path||[]});return"valid"===i.type||"full"===i.errorType?i:{type:"error",errorType:"full",error:new r.a(b(i.expected,i.actual,i.options))}},$=function(e,t,n,r){var a=J(e,t,n,r);switch(a.type){case"valid":return{value:a.value,warnings:a.warnings};case"error":throw a.error;default:return Object(o.a)(a)}},X=n(2),Z=("00"+Math.floor(1e3*Math.random())).slice(-3),Q=0,ee=function(e){return""+e+Z+Q++},te=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?(parseInt(t,10)^16*Math.random()>>parseInt(t,10)/4).toString(16):"00000000-0000-4000-8000-000000000000".replace(/[08]/g,e)},ne=n(12),re=n(1),oe=n(6),ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie=function(e){var t=e.controllerId,n=e.frameId,r=e.targetOrigin,o=e.type,a=r,i=void 0;"controller"===o?i=Object(oe.e)(n):"group"===o?i=Object(oe.e)(t):"outer"===o||"hosted"===o?i=window.frames[n]:"inner"===o&&(a=a||"*",i=window.parent),a=a||X.i,i&&"function"==typeof i.postMessage&&i.postMessage(JSON.stringify(ae({},e,{__stripeJsV3:!0})),a)},ce=(n(23),/https?:\/\/([^/]*)\/[^:]*/g),se=function(e,t,n,r){var o,a,i,c=e._isUserError||"IntegrationError"===e.name;throw t&&!c&&t.report("fatal.uncaught_error",{iframe:!1,name:e.name,element:"outer",message:e.message||e.description,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,stack:e.stack&&(o=e.stack,a=o.match(ce),i=o,a&&a.forEach((function(e){-1===e.indexOf("https://js.stripe.com")&&(i=i.replace(e,"<external url>"))})),i.substring(0,1e3)),inPromise:n,apiMethodName:r}),e},ue=function(e,t,n){return function(r){try{return e.call(this,r)}catch(e){return se(e,t||this&&this._controller,!1,n)}}},le=function(e,t,n){return function(r,o){try{return e.call(this,r,o)}catch(e){return se(e,t||this&&this._controller,!1,n)}}},pe=function(e,t,n){return function(r){var o=this;try{return e.call(this,r).catch((function(e){return se(e,t||o&&o._controller,!0,n)}))}catch(e){return se(e,t||this&&this._controller,!1,n)}}},de=function(e,t,n){return function(r,o){var a=this;try{return e.call(this,r,o).catch((function(e){return se(e,t||a&&a._controller,!0,n)}))}catch(e){return se(e,t||this&&this._controller,!1,n)}}},fe=function(e,t,n){return function(r,o,a){var i=this;try{return e.call(this,r,o,a).catch((function(e){return se(e,t||i&&i._controller,!0,n)}))}catch(e){return se(e,t||this&&this._controller,!1,n)}}};var me=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._emit=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t._callbacks[e]||[];return a.forEach((function(e){var t=e.fn;if(t._isUserCallback)try{t.apply(void 0,r)}catch(e){throw e._isUserError=!0,e}else t.apply(void 0,r)})),t},this._once=function(e,n){return t._on(e,(function r(){t._off(e,r),n.apply(void 0,arguments)}),n)},this._removeAllListeners=function(){return t._callbacks={},t},this._on=function(e,n,r){return t._callbacks[e]=t._callbacks[e]||[],t._callbacks[e].push({original:r,fn:n}),t},this._validateUserOn=function(e,t){},this._userOn=function(e,n){if("string"!=typeof e)throw new r.a("When adding an event listener, the first argument should be a string event name.");if("function"!=typeof n)throw new r.a("When adding an event listener, the second argument should be a function callback.");return t._validateUserOn(e,n),n._isUserCallback=!0,t._on(e,n)},this._hasRegisteredListener=function(e){return t._callbacks[e]&&t._callbacks[e].length>0},this._off=function(e,n){if(n){for(var r=t._callbacks[e],o=void 0,a=0;a<r.length;a++)if((o=r[a]).fn===n||o.original===n){r.splice(a,1);break}}else delete t._callbacks[e];return t},this._callbacks={};var n,o,a,i=le(this._userOn),c=le(this._off),s=le(this._once),u=ue(this._hasRegisteredListener),l=ue(this._removeAllListeners),p=(n=this._emit,function(){try{for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.call.apply(n,[this].concat(t))}catch(e){return se(e,o||this&&this._controller,!1,a)}});this.on=this.addListener=this.addEventListener=i,this.off=this.removeListener=this.removeEventListener=c,this.once=s,this.hasRegisteredListener=u,this.removeAllListeners=l,this.emit=p},he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ye(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ve=function(e){function t(e){var n=e.type,r=e.controllerId,o=e.listenerRegistry,a=e.betas,i=e.appParams;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c._sendFAReq=function(e){var t=ee(e.tag);return new re.a((function(n,r){c._requests[t]={resolve:n,reject:r},c._send({message:{action:"stripe-frame-action",payload:{nonce:t,faReq:e}},type:"outer",frameId:c.id,controllerId:c._controllerId})}))},c.action={perform3DS2Challenge:function(e){return c._sendFAReq({tag:"PERFORM_3DS2_CHALLENGE",value:e})},perform3DS2Fingerprint:function(e){return c._sendFAReq({tag:"PERFORM_3DS2_FINGERPRINT",value:e})},show3DS2Spinner:function(e){return c._sendFAReq({tag:"SHOW_3DS2_SPINNER",value:e})},checkCanMakePayment:function(e){return c._sendFAReq({tag:"CHECK_CAN_MAKE_PAYMENT",value:e})},closeLightboxFrame:function(e){return c._sendFAReq({tag:"CLOSE_LIGHTBOX_FRAME",value:e})},openLightboxFrame:function(e){return c._sendFAReq({tag:"OPEN_LIGHTBOX_FRAME",value:e})},setFocusTarget:function(e){return c._sendFAReq({tag:"SET_FOCUS_TARGET",value:e})}},c.type=n,c.loaded=!1,c._controllerId=r,c._persistentMessages=[],c._queuedMessages=[],c._requests={},c._listenerRegistry=o,c.id=c._generateId(),c._iframe=c._createIFrame(n,a,i),c._on("load",(function(){c.loaded=!0,c._ensureMounted(),c.loaded&&(c._persistentMessages.forEach((function(e){return c._send(e)})),c._queuedMessages.forEach((function(e){return c._send(e)})),c._queuedMessages=[])})),c._on("title",(function(e){var t=e.title;c._iframe.setAttribute("title",t)})),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_e(t,[{key:"_generateId",value:function(){return ee("__privateStripeFrame")}},{key:"send",value:function(e){this._send({message:e,type:"outer",frameId:this.id,controllerId:this._controllerId})}},{key:"sendPersistent",value:function(e){this._ensureMounted();var t={message:e,type:"outer",frameId:this.id,controllerId:this._controllerId};this._persistentMessages=[].concat(ye(this._persistentMessages),[t]),this.loaded&&ie(t)}},{key:"resolve",value:function(e,t){this._requests[e]&&this._requests[e].resolve(t)}},{key:"reject",value:function(e,t){this._requests[e]&&this._requests[e].reject(t)}},{key:"_send",value:function(e){this._ensureMounted(),this.loaded?ie(e):this._queuedMessages=[].concat(ye(this._queuedMessages),[e])}},{key:"appendTo",value:function(e){this._emit("mount",{anchor:e}),e.appendChild(this._iframe)}},{key:"unmount",value:function(){this.loaded=!1,this._emit("unload")}},{key:"destroy",value:function(){this.unmount();var e=this._iframe.parentElement;e&&e.removeChild(this._iframe),this._emit("destroy")}},{key:"_ensureMounted",value:function(){this._isMounted()||this.unmount()}},{key:"_isMounted",value:function(){return!!document.body&&document.body.contains(this._iframe)}},{key:"_createIFrame",value:function(e,t,n){var r=window.location.href.toString(),o="string"==typeof n?n:Object(ne.a)(he({},n||{},{referrer:r,controllerId:this._controllerId})),a=document.createElement("iframe");a.setAttribute("name",this.id);var i=Object(X.d)(e);return Object.keys(i).forEach((function(e){a.setAttribute(e,i[e])})),n&&n.allowCamera&&a.setAttribute("allow","camera"),a.src=Object(X.e)(e)+(o?"#":"")+o,a}}]),t}(me),be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ge=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0};var we=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.autoload=e.autoload||!1,"complete"===document.readyState)n._ensureMounted();else{var r=n._ensureMounted.bind(n);n._listenerRegistry.addEventListener(document,"DOMContentLoaded",r),n._listenerRegistry.addEventListener(window,"load",r),setTimeout(r,5e3)}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),be(t,[{key:"_ensureMounted",value:function(){ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_ensureMounted",this).call(this),this._isMounted()||this._autoMount()}},{key:"_autoMount",value:function(){var e=document.body;if(e){var t=document.querySelector("#stripe-hidden-frames-container")||e;this.appendTo(t)}else if("complete"===document.readyState||"interactive"===document.readyState)throw new r.a("Stripe.js requires that your page has a <body> element.");this.autoload&&(this.loaded=!0)}},{key:"_createIFrame",value:function(e,n,r){var o=ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,e,n,r);return o.setAttribute("aria-hidden","true"),o.setAttribute("tabIndex","-1"),Object(oe.c)(o),o}}]),t}(ve),Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ke=function(e){function t(){return Pe(this,t),Se(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ee(t,[{key:"_generateId",value:function(){return this._controllerId}}]),t}(we),Oe=function(e){return/Edge\//i.test(e)},Te=function(e){return/(MSIE ([0-9]{1,}[.0-9]{0,})|Trident\/)/i.test(e)},Ae=function(e){return/SamsungBrowser/.test(e)},Ie=function(e){return/iPad|iPhone/i.test(e)&&!Te(e)},Ce=function(e){return/^((?!chrome|android).)*safari/i.test(e)&&!Ae(e)},je=function(e){return/Android/i.test(e)&&!Te(e)},Ne=window.navigator.userAgent,Re=Oe(Ne),Me=(/Edge\/((1[0-6]\.)|0\.)/i.test(Ne),Te(Ne)),xe=(function(e){/MSIE ([0-9]{1,}[.0-9]{0,})/i.test(e)}(Ne),Ie(Ne)),Le=(function(e){Ie(e)||je(e)}(Ne),je(Ne)),De=(function(e){/Android 4\./i.test(e)&&!/Chrome/i.test(e)&&je(e)}(Ne),Ce(Ne)),Be=(function(e){Ce(e)&&Ie(e)}(Ne),function(e){/Firefox\//i.test(e)}(Ne),function(e){/Firefox\/(50|51|[0-4]?\d)([^\d]|$)/i.test(e)}(Ne),Ae(Ne)),qe=(function(e){/Chrome\/(6[6-9]|[7-9]\d+|[1-9]\d{2,})/i.test(e)}(Ne),function(e){return/AppleWebKit/i.test(e)&&!/Chrome/i.test(e)&&!Oe(e)&&!Te(e)}(Ne)),Fe=function(e){return/Chrome/i.test(e)&&!Oe(e)}(Ne),Ue=(function(e){/CriOS/i.test(e)}(Ne),De&&"download"in document.createElement("a")),He=(!!window.navigator.brave&&window.navigator.brave.isBrave,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ye=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0};var ze={border:"none",margin:"0",padding:"0",width:"1px","min-width":"100%",overflow:"hidden",display:"block","user-select":"none","will-change":"transform"},Ge=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return De&&n._listenerRegistry.addEventListener(document,"transitionstart",(function(e){switch(e.propertyName){case"opacity":case"transform":case"visibility":var t=e.target;n._isMounted()&&t.contains(n._iframe)&&n._forceRepaint()}}),{passive:!0}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),He(t,[{key:"update",value:function(e){this.send({action:"stripe-user-update",payload:e})}},{key:"updateStyle",value:function(e){var t=this;Object.keys(e).forEach((function(n){t._iframe.style[n]=e[n]}))}},{key:"focus",value:function(){this.loaded&&(De?this._iframe.focus():this.send({action:"stripe-user-focus",payload:{}}))}},{key:"blur",value:function(){this.loaded&&(this._iframe.contentWindow.blur(),this._iframe.blur(),document.activeElement===this._iframe&&(window.focus(),document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()))}},{key:"clear",value:function(){this.send({action:"stripe-user-clear",payload:{}})}},{key:"collapse",value:function(){this.send({action:"stripe-user-collapse",payload:{}})}},{key:"_createIFrame",value:function(e,n,r){var o=Ye(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,e,n,r);return o.setAttribute("title","Secure payment input frame"),Object(oe.d)(o,ze),o}},{key:"_forceRepaint",value:function(){var e=this._iframe,t=e.style.display;e.style.display="none";var n=e.offsetHeight;return e.style.display=t,n}}]),t}(ve),We=n(15),Ke=n(13),Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Je={display:"block",position:"fixed","z-index":"2147483647",background:"rgba(40,40,40,0)",transition:"background 400ms ease","will-change":"background",top:"0",left:"0",right:"0",bottom:"0"},$e=Ve({},Je,{background:"rgba(40,40,40,0.75)"}),Xe=function e(t){var n=this,r=t.lockScrolling,o=t.lockFocus,a=t.lockFocusOn,i=t.listenerRegistry;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=document.createElement("div"),this._runOnHide=[],this.mount=function(){var e=Object(oe.a)();n.domElement.style.display="none",e.contains(n.domElement)||e.insertBefore(n.domElement,e.firstChild)},this.show=function(){if(Object(oe.d)(n.domElement,Je),n._lockScrolling){var e=Object(We.a)();n._runOnHide.push(e)}if(n._lockFocus){var t=Object(Ke.a)(n._lockFocusOn).restoreFocus;n._runOnHide.push(t)}},this.fadeIn=function(){setTimeout((function(){Object(oe.d)(n.domElement,$e)}))},this.fadeOut=function(){return new re.a((function(e){Object(oe.d)(n.domElement,Je),setTimeout(e,500),n._listenerRegistry.addEventListener(n.domElement,"transitionend",e)})).then((function(){for(n.domElement.style.display="none";n._runOnHide.length;)n._runOnHide.pop()()}))},this.unmount=function(){Object(oe.a)().removeChild(n.domElement)},this._lockScrolling=!!r,this._lockFocus=!!o,this._lockFocusOn=a||null,this._listenerRegistry=i},Ze=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0};var Qe={position:"absolute",left:"0",top:"0",height:"100%",width:"100%"},et=function(e){function t(e){var n=e.type,r=e.controllerId,o=e.listenerRegistry,a=e.options;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:n,controllerId:r,listenerRegistry:o,appParams:a}));return i._autoMount=function(){i.appendTo(i._backdrop.domElement),i._backdrop.mount()},i.show=function(){i._backdrop.show(),Object(oe.d)(i._iframe,Qe)},i.fadeInBackdrop=function(){i._backdrop.fadeIn()},i._backdropFadeoutPromise=null,i.fadeOutBackdrop=function(){return i._backdropFadeoutPromise||(i._backdropFadeoutPromise=i._backdrop.fadeOut()),i._backdropFadeoutPromise},i.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=i.fadeOutBackdrop().then((function(){i._backdrop.unmount(),e||Ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",i).call(i)}));return e&&Ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",i).call(i),n},i._backdrop=new Xe({lockScrolling:!0,lockFocus:!0,lockFocusOn:i._iframe,listenerRegistry:o}),i._autoMount(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(ve),tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ot=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0};function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ct={display:"block",position:"absolute","z-index":"1000",width:"1px","min-width":"100%",margin:"2px 0 0 0",padding:"0",border:"none",overflow:"hidden"},st=function(e){function t(){return at(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),rt(t,[{key:"updateStyle",value:function(e){var t=this;Object.keys(e).forEach((function(n){t._iframe.style[n]=e[n]}))}},{key:"update",value:function(e){this.send({action:"stripe-user-update",payload:e})}},{key:"_createIFrame",value:function(e,n,r){var o=ot(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_createIFrame",this).call(this,e,n,r&&"object"===(void 0===r?"undefined":nt(r))?tt({},r,{isSecondaryFrame:!0}):r);return Object(oe.d)(o,ct),o.style.height="0",o}}]),t}(ve),ut=n(11),lt=["button","checkbox","file","hidden","image","submit","radio","reset"],pt=function(e){var t=e.tagName;if(e.isContentEditable||"TEXTAREA"===t)return!0;if("INPUT"!==t)return!1;var n=e.getAttribute("type");return-1===lt.indexOf(n)},dt=function(e){var t=e.name,n=e.value,r=e.expiresIn,o=e.path,a=e.domain,i=new Date,c=r||31536e6;i.setTime(i.getTime()+c);var s=o||"/",u=(n||"").replace(/[^!#-+\--:<-[\]-~]/g,encodeURIComponent),l=encodeURIComponent(t)+"="+u+";expires="+i.toGMTString()+";path="+s+";SameSite=Lax";return a&&(l+=";domain="+a),document.cookie=l,l},ft=function(e){var t=Object(a.a)(document.cookie.split("; "),(function(t){var n=t.indexOf("=");return decodeURIComponent(t.substr(0,n))===e}));if(t){var n=t.indexOf("=");return decodeURIComponent(t.substr(n+1))}return null},mt=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ht=function(e){var t={};return e.replace(/\+/g," ").split("&").forEach((function(e,n){var r=e.split("="),o=decodeURIComponent(r[0]),a=void 0,i=t,c=0,s=o.split("]["),u=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[u])?(s[u]=s[u].replace(/\]$/,""),u=(s=s.shift().split("[").concat(s)).length-1):u=0,!(s.indexOf("__proto__")>=0))if(2===r.length)if(a=decodeURIComponent(r[1]),u)for(;c<=u;c++){if(o=""===s[c]?i.length:s[c],!mt(i,o)&&i[o])return;i[o]=c<u?i[o]||(s[c+1]&&isNaN(s[c+1])?{}:[]):a,i=i[o]}else if(Array.isArray(t[o]))t[o].push(a);else if(void 0!==t[o]){if(!mt(t,o))return;t[o]=[t[o],a]}else t[o]=a;else o&&(t[o]="")})),t},_t=n(18),yt=n.n(_t),vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var gt=function(e,t){for(var n={},r=0;r<t.length;r++)void 0!==e[t[r]]&&(n[t[r]]=e[t[r]]);return n},wt=function(e){return e&&"object"===(void 0===e?"undefined":bt(e))&&(e.constructor===Array||e.constructor===Object)},Et=function(e){return wt(e)?Array.isArray(e)?e.slice(0,e.length):vt({},e):e},Pt=function e(t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(Array.isArray(r[0])&&t)return Et(r[0]);var a=Array.isArray(r[0])?[]:{};return r.forEach((function(n){n&&Object.keys(n).forEach((function(r){var o=a[r],i=n[r],c=wt(o)&&!(t&&Array.isArray(o));"object"===(void 0===i?"undefined":bt(i))&&c?a[r]=e(t)(o,Et(i)):void 0!==i?a[r]=wt(i)?e(t)(i):Et(i):void 0!==o&&(a[r]=o)}))})),a}},St=Pt(!1),kt=Pt(!0),Ot=X.l.replace(/\/$/,"");var Tt="_1776170249",At=function(e){var t,n,r,o=(r=!0,(n=Tt)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t);try{var a=ht(e.slice(e.indexOf("?")+1));Object.keys(a).forEach((function(e){var t=yt()(e),n=a[e];switch(t){case Tt:"false"===n&&(o[t]=!1)}}))}catch(e){}return o}(function(e){try{if(e.currentScript)return e.currentScript.src;var t=e.querySelectorAll('script[src^="'+Ot+'"]'),n=Object(a.a)(t,(function(e){var t=(e.getAttribute("src")||"").split("?")[0];return new RegExp("^"+Ot+"/?$").test(t)}));return n&&n.getAttribute("src")||""}catch(e){return""}}(document))._1776170249,It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},jt=function(){var e=[];return{addEventListener:function(t,n,r,o){t.addEventListener(n,r,o),e.push([t,n,r,o])},removeEventListener:function(t,n,r,o){t.removeEventListener(n,r,o),e=e.filter((function(e){return function(e,t){var n=Ct(e,4),r=n[0],o=n[1],a=n[2],i=n[3],c=Ct(t,4),s=c[0],u=c[1],l=c[2],p=c[3];return s!==r||u!==o||l!==a||!0===("object"===(void 0===i?"undefined":It(i))&&i?i.capture:i)!=(!0===("object"===(void 0===p?"undefined":It(p))&&p?p.capture:p))}([t,n,r,o],e)}))}}},Nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Mt,xt="__privateStripeMetricsController",Lt="merchant",Dt="session",Bt="NA",qt=function(e){return 42===e.length},Ft=function(e,t,n){return n?!e||!qt(e)&&qt(t)?t:e:te()},Ut=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Rt(this,e),this._controllerFrame=null,this._latencies=[],this._handleMessage=function(e){return function(n){var r=n.data,o=n.origin;if(Object(ut.c)(o)&&"string"==typeof r)try{var a=JSON.parse(r),i=a.originatingScript,c=a.payload;if("m2"===i){var s=c.guid,u=c.muid,l=c.sid;t._guid=s,t._muid=t._getID(Lt,u),t._sid=t._getID(Dt,l),e()}}catch(e){}}},n.checkoutIds){var r=n.checkoutIds,o=r.muid,a=r.sid;this._guid=Bt,this._muid=o,this._sid=a,this._doNotPersist=!0}else this._guid=Bt,this._muid=this._getID(Lt),this._sid=this._getID(Dt),this._doNotPersist=!1;this._listenerRegistry=jt(),this._idsPromise=new re.a((function(e){t._establishMessageChannel(e)})),this._id=ee(xt),At&&(this._controllerFrame=new ke({type:X.c.METRICS_CONTROLLER,controllerId:this._id,listenerRegistry:this._listenerRegistry,autoload:!0,appParams:this._buildFrameQueryString()}),this._startIntervalCheck(),setTimeout(this._testLatency.bind(this),2e3+500*Math.random()))}return Nt(e,[{key:"ids",value:function(){return{guid:this._guid,muid:this._muid,sid:this._sid}}},{key:"idsPromise",value:function(){var e=this;return this._idsPromise.then((function(){return e.ids()}))}},{key:"_establishMessageChannel",value:function(e){if(!At)return this._guid=te(),void e();this._listenerRegistry.addEventListener(window,"message",this._handleMessage(e))}},{key:"_startIntervalCheck",value:function(){var e=this,t=window.location.href;setInterval((function(){var n=window.location.href;n!==t&&(e.send((function(e){return{action:"ping",payload:{sid:e.sid,muid:e.muid,title:document.title,referrer:document.referrer,url:document.location.href,version:6}}})),t=n)}),5e3)}},{key:"report",value:function(e,t){this.send((function(n){return{action:"track",payload:{sid:n.sid,muid:n.muid,url:document.location.href,source:e,data:t,version:6}}}))}},{key:"send",value:function(e){var t=this;this._idsPromise.then((function(){try{t._controllerFrame&&t._controllerFrame.send(e(t.ids()))}catch(e){}}))}},{key:"_testLatency",value:function(){var e=this,t=new Date;this._listenerRegistry.addEventListener(document,"mousemove",(function n(){try{var r=new Date;e._latencies.push(r-t),e._latencies.length>=10&&(e.report("mouse-timings-10",e._latencies),e._listenerRegistry.removeEventListener(document,"mousemove",n)),t=r}catch(e){}}))}},{key:"_extractMetaReferrerPolicy",value:function(){var e=document.querySelector("meta[name=referrer]");return null!=e&&e instanceof HTMLMetaElement?e.content.toLowerCase():null}},{key:"_extractUrl",value:function(e){var t=document.location.href;switch(e){case"origin":case"strict-origin":case"origin-when-cross-origin":case"strict-origin-when-cross-origin":return document.location.origin;case"unsafe-url":return t.split("#")[0];default:return t}}},{key:"_buildFrameQueryString",value:function(){var e=this._extractMetaReferrerPolicy(),t=this._extractUrl(e),n={url:t,title:document.title,referrer:document.referrer,muid:this._muid,sid:this._sid,version:6,preview:Object(ut.c)(t)};return null!=e&&(n.metaReferrerPolicy=e),Object.keys(n).map((function(e){return null!=n[e]?e+"="+encodeURIComponent(n[e].toString()):null})).join("&")}},{key:"_getID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;switch(e){case Lt:if(this._doNotPersist)return Ft(this._muid,t,At);try{var n="__stripe_mid",r=Ft(ft(n),t,At);return qt(r)&&dt({name:n,value:r,domain:"."+document.location.hostname}),r}catch(e){return Bt}case Dt:if(this._doNotPersist)return Ft(this._sid,t,At);try{var o="__stripe_sid",a=Ft(ft(o),t,At);return qt(a)&&dt({name:o,value:a,domain:"."+document.location.hostname,expiresIn:18e5}),a}catch(e){return Bt}default:throw new Error("Invalid ID type specified: "+e)}}}]),e}(),Ht=null,Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ht=new Ut(e)},zt=!1,Gt=function(){var e=Ht;e&&(zt||(zt=!0,e.send((function(e){return{action:"ping",payload:{v2:2,sid:e.sid,muid:e.muid,title:document.title,referrer:document.referrer,url:document.location.href,version:6}}})),e.send((function(t){return{action:"track",payload:{sid:t.sid,muid:t.muid,url:document.location.href,source:"mouse-timings-10-v2",data:e._latencies,version:6}}}))))},Wt=n(5),Kt={checkout_beta_2:"checkout_beta_2",checkout_beta_3:"checkout_beta_3",checkout_beta_4:"checkout_beta_4",checkout_beta_testcards:"checkout_beta_testcards",payment_intent_beta_1:"payment_intent_beta_1",payment_intent_beta_2:"payment_intent_beta_2",payment_intent_beta_3:"payment_intent_beta_3",card_payment_method_beta_1:"card_payment_method_beta_1",acknowledge_ie9_deprecation:"acknowledge_ie9_deprecation",cvc_update_beta_1:"cvc_update_beta_1",google_pay_beta_1:"google_pay_beta_1",acss_debit_beta_1:"acss_debit_beta_1",acss_debit_beta_2:"acss_debit_beta_2",afterpay_clearpay_pm_beta_1:"afterpay_clearpay_pm_beta_1",alipay_pm_beta_1:"alipay_pm_beta_1",au_bank_account_beta_1:"au_bank_account_beta_1",au_bank_account_beta_2:"au_bank_account_beta_2",bacs_debit_beta:"bacs_debit_beta",bancontact_pm_beta_1:"bancontact_pm_beta_1",boleto_pm_beta_1:"boleto_pm_beta_1",eps_pm_beta_1:"eps_pm_beta_1",fpx_bank_beta_1:"fpx_bank_beta_1",giropay_pm_beta_1:"giropay_pm_beta_1",grabpay_pm_beta_1:"grabpay_pm_beta_1",ideal_pm_beta_1:"ideal_pm_beta_1",klarna_pm_beta_1:"klarna_pm_beta_1",konbini_pm_beta_1:"konbini_pm_beta_1",line_items_beta_1:"line_items_beta_1",oxxo_pm_beta_1:"oxxo_pm_beta_1",p24_pm_beta_1:"p24_pm_beta_1",paypal_pm_beta_1:"paypal_pm_beta_1",sepa_pm_beta_1:"sepa_pm_beta_1",sofort_pm_beta_1:"sofort_pm_beta_1",tax_product_beta_1:"tax_product_beta_1",wechat_pay_pm_beta_1:"wechat_pay_pm_beta_1",wechat_pay_pm_beta_2:"wechat_pay_pm_beta_2",checkout_beta_locales:"checkout_beta_locales",stripe_js_beta_locales:"stripe_js_beta_locales",ideal_sepa_beta_1:"ideal_sepa_beta_1",sofort_sepa_beta_1:"sofort_sepa_beta_1",bancontact_sepa_beta_1:"bancontact_sepa_beta_1",upi_beta_1:"upi_beta_1",issuing_elements_1:"issuing_elements_1",issuing_elements_2:"issuing_elements_2",return_intents_beta_1:"return_intents_beta_1",netbanking_beta_1:"netbanking_beta_1",eps_bank_beta_1:"eps_bank_beta_1",card_light_beta_1:"card_light_beta_1",no_card_light_beta_1:"no_card_light_beta_1",p24_bank_beta_1:"p24_bank_beta_1",netbanking_bank_beta_1:"netbanking_bank_beta_1",instant_debits_beta_1:"instant_debits_beta_1",link_beta_1:"link_beta_1",payment_element_beta_1:"payment_element_beta_1",identity_dialog_1:"identity_dialog_1",id_bank_transfer_beta_1:"id_bank_transfer_beta_1",linked_accounts_beta_1:"linked_accounts_beta_1"},Vt=Object.freeze({netbankingBank:"netbanking_bank_beta_1",authentication:"link_beta_1",payment:"payment_element_beta_1"}),Jt=Object.keys(Kt),$t=function(e,t){return e.indexOf(t)>=0},Xt=!1,Zt=function(e){Xt||"null"===(null!=e?e:window.origin)&&(Xt=!0,console.error("Stripe.js requires 'allow-same-origin' if sandboxed."))};function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en,tn,nn=(Qt(Mt={},X.b.card,{unique:!0,conflict:[X.b.cardNumber,X.b.cardExpiry,X.b.cardCvc,X.b.postalCode],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.cardNumber,{unique:!0,conflict:[X.b.card],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.cardExpiry,{unique:!0,conflict:[X.b.card],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.cardCvc,{unique:!0,conflict:[X.b.card],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.postalCode,{unique:!0,conflict:[X.b.card],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.paymentRequestButton,{unique:!0,conflict:[],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.iban,{unique:!0,conflict:[],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.idealBank,{unique:!0,conflict:[],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.p24Bank,{unique:!0,conflict:[],beta:!1,implementation:"legacy"}),Qt(Mt,X.b.auBankAccount,{unique:!0,beta:!1,conflict:[],implementation:"legacy"}),Qt(Mt,X.b.fpxBank,{unique:!0,beta:!1,conflict:[],implementation:"legacy"}),Qt(Mt,X.b.netbankingBank,{unique:!0,beta:!0,conflict:[],implementation:"legacy"}),Qt(Mt,X.b.issuingCardNumberDisplay,{unique:!1,beta:!0,conflict:[],implementation:"legacy"}),Qt(Mt,X.b.issuingCardCvcDisplay,{unique:!1,beta:!0,conflict:[],implementation:"legacy"}),Qt(Mt,X.b.issuingCardExpiryDisplay,{unique:!1,beta:!0,conflict:[],implementation:"legacy"}),Qt(Mt,X.b.epsBank,{unique:!0,conflict:[],beta:!0,implementation:"legacy"}),Qt(Mt,X.b.afterpayClearpayMessage,{unique:!1,conflict:[],beta:!1,implementation:"afterpay_message"}),Qt(Mt,X.b.authentication,{unique:!0,conflict:[],beta:!0,implementation:"frame"}),Qt(Mt,X.b.payment,{unique:!0,conflict:[],beta:!0,implementation:"frame"}),Mt);function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var on,an="__PrivateStripeElement",cn=["brand"],sn=(rn(en={},X.b.card,cn),rn(en,X.b.cardNumber,cn),rn(en,X.b.iban,["country","bankName"]),rn(en,X.b.auBankAccount,["bankName","branchName"]),en),un=(rn(tn={},X.b.idealBank,{secondary:X.b.idealBankSecondary}),rn(tn,X.b.p24Bank,{secondary:X.b.p24BankSecondary}),rn(tn,X.b.fpxBank,{secondary:X.b.fpxBankSecondary}),rn(tn,X.b.netbankingBank,{secondary:X.b.netbankingBankSecondary}),rn(tn,X.b.epsBank,{secondary:X.b.epsBankSecondary}),tn),ln=n(4),pn=n(8);function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=an+"-input",mn=an+"-safariInput",hn="StripeElement",_n=["ready","focus","blur","escape","change"],yn=(dn(on={},ln.a.authentication,pn.a.AUTHENTICATION_ELEMENT),dn(on,ln.a.payment,pn.a.PAYMENT_ELEMENT),on),vn=dn({},ln.a.authenticationPopover,pn.a.AUTHENTICATION_POPOVER_ELEMENT),bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var En=!1,Pn={},Sn=function(e,t){return document.activeElement===e._iframe||e._iframe.parentElement&&document.activeElement===t},kn=function(e){return"object"===(void 0===e?"undefined":wn(e))&&null!==e&&"IntegrationError"===e.name?new r.a("string"==typeof e.message?e.message:""):e},On=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Tn.call(this);var r=t.listenerRegistry,o=t.stripeJsLoadTimestamp,a=t.stripeCreateTimestamp,i=t.onFirstLoad,c=t.betas,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["listenerRegistry","stripeJsLoadTimestamp","stripeCreateTimestamp","onFirstLoad","betas"]),u=s.apiKey,l=s.stripeAccount,p=s.stripeJsId,d=s.locale;this._id=ee("__privateStripeController"),this._stripeJsId=p,this._apiKey=u,this._stripeAccount=l,this._listenerRegistry=r,this._betas=c,this._flags=function(e){return{cl:!$t(e,"no_card_light_beta_1")&&($t(e,"card_light_beta_1")||Math.random()<0),clc:Math.random()<0}}(c),this._controllerFrame=new ke({type:X.c.CONTROLLER,betas:c,controllerId:this._id,listenerRegistry:r,appParams:bn({},s,{outerFlags:this._flags,betas:c,stripeJsLoadTime:o.getAsPosixTime()})}),this._stripeJsLoadTimestamp=o,this._createTimestamp=a,this._loadCount=0;var f=function(e){var t=e.anchor;n._mountTimestamp=new Wt.a,t!==document.body&&n.report("controller.mount.custom_container")};this._controllerFrame._isMounted()?f({anchor:this._controllerFrame._iframe.parentElement}):this._controllerFrame._once("mount",f),i&&this._controllerFrame._once("load",i),this._frames={},this._requests={},this._setupPostMessage(),this._handleMessage=le(this._handleMessage,this),this.action.fetchLocale({locale:d||"auto"})}return gn(e,[{key:"registerWrapper",value:function(e){this._controllerFrame.send({action:"stripe-wrapper-register",payload:{stripeWrapperLibrary:e}})}},{key:"registerAppInfo",value:function(e){this._controllerFrame.send({action:"stripe-app-info-register",payload:{wrapperLibrary:e}})}}]),e}(),Tn=function(){var e=this;this._sendCAReq=function(t){var n=ee(t.tag);return new re.a((function(r,o){e._requests[n]={resolve:r,reject:o},e._controllerFrame.send({action:"stripe-safe-controller-action-request",payload:{nonce:n,caReq:t}})}))},this.keyMode=function(){return f(e._apiKey)},this.action={retrievePaymentIntent:function(t){return e._sendCAReq({tag:"RETRIEVE_PAYMENT_INTENT",value:t})},confirmPaymentIntent:function(t){return e._sendCAReq({tag:"CONFIRM_PAYMENT_INTENT",value:t})},cancelPaymentIntentSource:function(t){return e._sendCAReq({tag:"CANCEL_PAYMENT_INTENT_SOURCE",value:t})},confirmSetupIntent:function(t){return e._sendCAReq({tag:"CONFIRM_SETUP_INTENT",value:t})},retrieveSetupIntent:function(t){return e._sendCAReq({tag:"RETRIEVE_SETUP_INTENT",value:t})},cancelSetupIntentSource:function(t){return e._sendCAReq({tag:"CANCEL_SETUP_INTENT_SOURCE",value:t})},lookupLocale:function(t){return e._sendCAReq({tag:"LOOKUP_LOCALE",value:t})},fetchLocale:function(t){return e._sendCAReq({tag:"FETCH_LOCALE",value:t})},updateCSSFonts:function(t){return e._sendCAReq({tag:"UPDATE_CSS_FONTS",value:t})},createApplePaySession:function(t){return e._sendCAReq({tag:"CREATE_APPLE_PAY_SESSION",value:t})},retrieveSource:function(t){return e._sendCAReq({tag:"RETRIEVE_SOURCE",value:t})},tokenizeWithElement:function(t){return e._sendCAReq({tag:"TOKENIZE_WITH_ELEMENT",value:t})},tokenizeCvcUpdate:function(t){return e._sendCAReq({tag:"TOKENIZE_CVC_UPDATE",value:t})},tokenizeWithData:function(t){return e._sendCAReq({tag:"TOKENIZE_WITH_DATA",value:t})},createSourceWithElement:function(t){return e._sendCAReq({tag:"CREATE_SOURCE_WITH_ELEMENT",value:t})},createSourceWithData:function(t){return e._sendCAReq({tag:"CREATE_SOURCE_WITH_DATA",value:t})},createPaymentMethodWithElement:function(t){return e._sendCAReq({tag:"CREATE_PAYMENT_METHOD_WITH_ELEMENT",value:t})},createPaymentMethodWithData:function(t){return e._sendCAReq({tag:"CREATE_PAYMENT_METHOD_WITH_DATA",value:t})},createPaymentPage:function(t){return e._sendCAReq({tag:"CREATE_PAYMENT_PAGE",value:t})},createPaymentPageWithSession:function(t){return e._sendCAReq({tag:"CREATE_PAYMENT_PAGE_WITH_SESSION",value:t})},createRadarSession:function(t){return e._sendCAReq({tag:"CREATE_RADAR_SESSION",value:t})},authenticate3DS2:function(t){return e._sendCAReq({tag:"AUTHENTICATE_3DS2",value:t})},verifyMicrodepositsForPayment:function(t){return e._sendCAReq({tag:"VERIFY_MICRODEPOSITS_FOR_PAYMENT",value:t})},verifyMicrodepositsForSetup:function(t){return e._sendCAReq({tag:"VERIFY_MICRODEPOSITS_FOR_SETUP",value:t})},retrieveIssuingCardWithoutNonce:function(t){return e._sendCAReq({tag:"RETRIEVE_ISSUING_CARD_WITHOUT_NONCE",value:t})},retrieveIssuingCard:function(t){return e._sendCAReq({tag:"RETRIEVE_ISSUING_CARD",value:t})},createEphemeralKeyNonce:function(t){return e._sendCAReq({tag:"CREATE_EPHEMERAL_KEY_NONCE",value:t})},updatePaymentIntent:function(t){return e._sendCAReq({tag:"UPDATE_PAYMENT_INTENT",value:t})},createAcssDebitSession:function(t){return e._sendCAReq({tag:"CREATE_ACSS_DEBIT_SESSION",value:t})},confirmReturnIntent:function(t){return e._sendCAReq({tag:"CONFIRM_RETURN_INTENT",value:t})},localizeError:function(t){return e._sendCAReq({tag:"LOCALIZE_ERROR",value:t})}},this.createElementFrame=function(t,n,r,o){var a=e._betas,i=new Ge({type:t,betas:a,controllerId:e._id,listenerRegistry:e._listenerRegistry,appParams:bn({},o,{componentName:n,keyMode:f(e._apiKey),apiKey:e._apiKey})});return e._setupFrame(i,t,r)},this.createSecondaryElementFrame=function(t,n,r,o,a){var i=e._betas,c=new st({type:t,betas:i,controllerId:e._id,listenerRegistry:e._listenerRegistry,appParams:bn({},a,{componentName:n,primaryElementType:r,keyMode:f(e._apiKey)})});return e._setupFrame(c,t,o)},this.createHiddenFrame=function(t,n){var r=new we({type:t,betas:e._betas,controllerId:e._id,listenerRegistry:e._listenerRegistry,appParams:n});return e._setupFrame(r,t)},this.createLightboxFrame=function(t){var n=t.type,r=t.options,o=new et({type:n,controllerId:e._id,listenerRegistry:e._listenerRegistry,options:bn({},r,{betas:e._betas})});return e._setupFrame(o,n)},this.getFlags=function(){return e._flags},this._setupFrame=function(t,n,r){return e._frames[t.id]=t,e._controllerFrame.sendPersistent({action:"stripe-user-createframe",payload:{newFrameId:t.id,frameType:n,groupId:r}}),t._on("unload",(function(){e._controllerFrame.sendPersistent({action:"stripe-frame-unload",payload:{unloadedFrameId:t.id}})})),t._on("destroy",(function(){delete e._frames[t.id],e._controllerFrame.sendPersistent({action:"stripe-frame-destroy",payload:{destroyedFrameId:t.id}})})),t._on("load",(function(){e._controllerFrame.sendPersistent({action:"stripe-frame-load",payload:{loadedFrameId:t.id}}),e._controllerFrame.loaded&&t.send({action:"stripe-controller-load",payload:{}})})),t},this.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e._controllerFrame.send({action:"stripe-controller-report",payload:{event:t,data:n}})},this.warn=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e._controllerFrame.send({action:"stripe-controller-warn",payload:{args:n}})},this.controllerFor=function(){return"outer"},this._setupPostMessage=function(){e._listenerRegistry.addEventListener(window,"message",(function(t){var n=t.data,r=t.origin,o=t.source,a=function(e){try{var t="string"==typeof e?JSON.parse(e):e;return t.__stripeJsV3?t:null}catch(e){return null}}(n);a&&(Object(ut.a)(X.i,r)?e._handleMessage(a,o):Zt(r))}))},this._nodeIsKnownElement=function(t){return t&&"IFRAME"===t.nodeName&&!!e._frames[t.getAttribute("name")||""]},this._handleMessage=function(t,n){var o=t.controllerId,a=t.frameId,i=t.message,c=e._frames[a];if(o===e._id)switch(i.action){case"stripe-frame-event":var s=i.payload.event,u=i.payload.data;if(c){if(xe){var l=c._iframe.parentElement,p=l&&l.querySelector(".__PrivateStripeElement-input");if("focus"===s&&!En&&p&&!Sn(c,p)&&!Pn[a]){p.focus(),En=!0,Pn[a]=!0,setTimeout((function(){Pn[a]=!1}),1e3);break}if("blur"===s&&En){En=!1;break}"blur"===s&&Ue&&setTimeout((function(){var t=document.activeElement;if(t&&!Sn(c,p)&&!pt(t)&&!e._nodeIsKnownElement(t)){var n=l&&l.querySelector("."+mn);if(n){var r=n;r.disabled=!1,r.focus(),r.blur(),r.disabled=!0}t.focus()}}),400)}"load"===s&&(u=bn({},u,{source:n})),c._emit(s,u)}break;case"stripe-frame-action-response":c&&c.resolve(i.payload.nonce,i.payload.faRes);break;case"stripe-frame-action-error":c&&c.reject(i.payload.nonce,kn(i.payload.faErr));break;case"stripe-frame-error":throw new r.a(i.payload.message);case"stripe-integration-error":c&&c._emit("__privateIntegrationError",{message:i.payload.message});break;case"stripe-controller-load":e._controllerFrame._emit("load",{source:n}),e._loadCount++,Object.keys(e._frames).forEach((function(t){return e._frames[t].send({action:"stripe-controller-load",payload:{}})}));var d=e._createTimestamp.getAsPosixTime(),f={stripeJsLoad:e._stripeJsLoadTimestamp.getAsPosixTime(),stripeCreate:d,create:d};e._mountTimestamp&&(f.mount=e._mountTimestamp.getAsPosixTime()),e._controllerFrame.send({action:"stripe-user-mount",payload:{timestamps:f,loadCount:e._loadCount,matchFrame:n===e._controllerFrame._iframe.contentWindow,rtl:!1,paymentRequestButtonType:null}});break;case"stripe-safe-controller-action-response":e._requests[i.payload.nonce]&&e._requests[i.payload.nonce].resolve(i.payload.caRes);break;case"stripe-safe-controller-action-error":e._requests[i.payload.nonce]&&e._requests[i.payload.nonce].reject(kn(i.payload.caErr));break;case"stripe-api-call":Gt()}}},An=On,In=function(){var e=document.querySelectorAll("meta[name=viewport][content]"),t=e[e.length-1];return t&&t instanceof HTMLMetaElement?t.content:""};var Cn=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NetworkError",e.type="network_error",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}(),jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn=function e(t){return new re.a((function(n,r){var o=t.method,a=t.url,i=t.data,c=t.headers,s=t.withCredentials,u=t.contentType,l=void 0===u?"application/x-www-form-urlencoded":u,p="";i&&"application/x-www-form-urlencoded"===l?p=Object(ne.a)(i):i&&"application/json"===l&&(p=JSON.stringify(i));var d="GET"===o&&p?a+"?"+p:a,f="GET"===o?"":p,m=new XMLHttpRequest;s&&(m.withCredentials=s),m.open(o,d,!0),m.setRequestHeader("Accept","application/json"),m.setRequestHeader("Content-Type",l),c&&Object.keys(c).forEach((function(e){var t=c[e];"string"==typeof t&&m.setRequestHeader(e,t)})),m.onreadystatechange=function(){4===m.readyState&&(m.onreadystatechange=function(){},0===m.status?s?r(new Cn):e(jn({},t,{withCredentials:!0})).then(n,r):n(m))};try{m.send(f)}catch(e){r(e)}}))},Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Mn,xn=function(e,t){var n=e.reduce((function(e,n){var o=function(e,t){var n=e.indexOf(":");if(-1===n)throw new r.a("Invalid css declaration in file from "+t+': "'+e+'"');var o=e.slice(0,n).trim(),a=X.a[o];if(!a)throw new r.a("Unsupported css property in file from "+t+': "'+o+'"');return{property:a,value:e.slice(n+1).trim()}}(n,t),a=o.property,i=o.value;return Rn({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,i))}),{});return["family","src"].forEach((function(e){if(!n[e])throw new r.a("Missing css property in file from "+t+': "'+X.h[e]+'"')})),n},Ln=function(e){return Nn({url:e,method:"GET"}).then((function(e){return e.responseText})).then((function(t){return function(e,t){var n=e.match(/@font-face[ ]?{[^}]*}/g);if(!n)throw new r.a("No @font-face rules found in file from "+t);return n}(t,e).map((function(t){var n,o=function(e,t){var n=e.replace(/\/\*.*\*\//g,"").trim(),o=(n.length&&/;$/.test(n)?n:n+";").match(/((([^;(]*\([^()]*\)[^;)]*)|[^;]+)+)(?=;)/g);if(!o)throw new r.a("Found @font-face rule containing no valid font-properties in file from "+t);return o}((n=t.match(/@font-face[ ]?{([^}]*)}/))?n[1]:"",e);return xn(o,e)}))}))},Dn=(Mn=["fil","hr","ko","vi"],function(e,t){return $t(t,Kt.stripe_js_beta_locales)||-1===Mn.indexOf(e)?e:"auto"}),Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn=function(e,t){var n,o="string"==typeof(n=e)&&Object(a.a)(Object.keys(nn),(function(e){return e===n}))||null;if(!o||!function(e,t){var n=Vt[e];return!n||$t(t,n)}(o,t)){var i="string"==typeof e?e:void 0===e?"undefined":Bn(e);throw new r.a("A valid Element name must be provided. Valid Elements are:\n  "+Object.keys(nn).filter((function(e){return!nn[e].beta})).join(", ")+"; you passed: "+i+".")}},Fn="1.2em",Un="14px",Hn=function(e){var t=e.split(" ").map((function(e){return parseInt(e.trim(),10)}));return 1===t.length||2===t.length?2*t[0]:3===t.length||4===t.length?t[0]+t[2]:0},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=Hn(n);if("string"==typeof e&&/^[0-9.]+px$/.test(e)){var o=parseFloat(e.toString().replace(/[^0-9.]/g,""));return o+r+"px"}var a=parseFloat(e.toString().replace(/[^0-9.]/g,"")),i=parseFloat(Un.replace(/[^0-9.]/g,"")),c=parseFloat(t.toString().replace(/[^0-9.]/g,"")),s=void 0;if("string"==typeof t&&/^(\d+|\d*\.\d+)px$/.test(t))s=c;else if("string"==typeof t&&/^(\d+|\d*\.\d+)em$/.test(t))s=c*i;else if("string"==typeof t&&/^(\d+|\d*\.\d+)%$/.test(t))s=c/100*i;else{if("string"!=typeof t||!/^[\d.]+$/.test(t)&&!/^\d*\.(px|em|%)$/.test(t))return"100%";s=i}var u=a*s+r,l=u+"px";return/^[0-9.]+px$/.test(l)?l:"100%"},zn=n(14),Gn=function(e,t){return e.reduce((function(e,n){return e.then((function(e){return"SATISFIED"===e.type?e:n().then((function(e){return t(e)?{type:"SATISFIED",value:e}:{type:"UNSATISFIED"}}))}))}),re.a.resolve({type:"UNSATISFIED"}))},Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn="40px",Vn={success:"success",fail:"fail",invalid_shipping_address:"invalid_shipping_address"},Jn={shipping:"shipping",delivery:"delivery",pickup:"pickup"},$n=Wn({success:"success"},{fail:"fail",invalid_payer_name:"invalid_payer_name",invalid_payer_email:"invalid_payer_email",invalid_payer_phone:"invalid_payer_phone",invalid_shipping_address:"invalid_shipping_address"}),Xn={merchantCapabilities:["supports3DS"],displayItems:[]};function Zn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Qn=V({amount:function(e,t){return F(!0)(e,t)},label:x,pending:k(D)}),er=V({amount:U,label:x,pending:k(D)}),tr=V({amount:U,label:x,pending:k(D),id:L(x,(function(){return ee("shippingOption")})),detail:L(x,(function(){return""}))}),nr=C.apply(void 0,Zn(Object.keys(Jn))),rr=V({origin:x,name:x}),or=V({displayItems:k(Y(er)),shippingOptions:k(z("id")(Y(tr))),wallets:k(Y(M)),disableWallets:k(Y(M)),total:Qn,requestShipping:k(D),requestPayerName:k(D),requestPayerEmail:k(D),requestPayerPhone:k(D),shippingType:k(nr),currency:R,country:N,jcbEnabled:k(D),__billingDetailsEmailOverride:k(x),__minApplePayVersion:k(B),__merchantDetails:k(rr),__isCheckout:k(D),__betas:k(Y(j.apply(void 0,Zn(Jt))))}),ar=K({currency:k(R),displayItems:k(Y(er)),shippingOptions:k(z("id")(Y(tr))),total:k(Qn)}),ir=V({displayItems:k(Y(er)),shippingOptions:k(z("id")(Y(tr))),total:k(Qn),status:function(e,t){return C.apply(void 0,Zn(Object.keys(Vn)))(-1!==["invalid_payer_name","invalid_payer_email","invalid_payer_phone"].indexOf(e)?"fail":e,t)}}),cr=C.apply(void 0,Zn(Object.keys($n))),sr=function(){return window.ApplePaySession?["APPLE_PAY"]:["GOOGLE_PAY","BROWSER"]},ur=function(e){var t=[];return window.ApplePaySession?l(e,u.applePay)&&t.push("APPLE_PAY"):(l(e,u.googlePay)&&(t.push("GOOGLE_PAY"),Le&&t.push("BROWSER")),l(e,u.browserCard)&&-1===t.indexOf("BROWSER")&&t.push("BROWSER")),t},lr=n(10),pr=function(){try{return window.location.origin===window.top.location.origin}catch(e){return!1}},dr=Object(lr.b)((function(e){return window.ApplePaySession.canMakePaymentsWithActiveCard(e)})),fr=function(e){if(!window.ApplePaySession)return!1;try{return window.ApplePaySession.supportsVersion(e)}catch(e){return!1}};function mr(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var hr,_r,yr,vr=["mastercard","visa"],br=["AT","AU","BE","CA","CH","DE","DK","EE","ES","FI","FR","GB","GR","HK","IE","IT","JP","LT","LU","LV","MX","NL","NO","NZ","PL","PT","SE","SG","US"],gr=function(e,t){var n="US"===e||t?["discover","diners","jcb"].concat(vr):vr;return-1!==br.indexOf(e)?["amex"].concat(mr(n)):n},wr={bif:1,clp:1,djf:1,gnf:1,jpy:1,kmf:1,krw:1,mga:1,pyg:1,rwf:1,vnd:1,vuv:1,xaf:1,xof:1,xpf:1,bhd:1e3,jod:1e3,kwd:1e3,omr:1e3,tnd:1e3},Er=function(e,t){var n=function(e){var t=wr[e.toLowerCase()]||100;return{unitSize:1/t,fractionDigits:Math.ceil(Math.log(t)/Math.log(10))}}(t),r=n.unitSize,o=n.fractionDigits;return(e*r).toFixed(o)},Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr,Or=function(e,t){return{amount:Er(e.amount,t.currency),label:e.label,type:e.pending?"pending":"final"}},Tr=function(e,t){return new window.ApplePayError(e,t)},Ar=function(e){return function(t){return t[e]&&"string"==typeof t[e]?t[e].toUpperCase():null}},Ir=(Sr(hr={},$n.success,0),Sr(hr,$n.fail,1),Sr(hr,$n.invalid_payer_name,2),Sr(hr,$n.invalid_shipping_address,3),Sr(hr,$n.invalid_payer_phone,4),Sr(hr,$n.invalid_payer_email,4),hr),Cr=(Sr(_r={},$n.success,(function(){return null})),Sr(_r,$n.fail,(function(){return null})),Sr(_r,$n.invalid_payer_name,(function(){return Tr("billingContactInvalid","name")})),Sr(_r,$n.invalid_shipping_address,(function(){return Tr("shippingContactInvalid","postalAddress")})),Sr(_r,$n.invalid_payer_phone,(function(){return Tr("shippingContactInvalid","phoneNumber")})),Sr(_r,$n.invalid_payer_email,(function(){return Tr("shippingContactInvalid","emailAddress")})),_r),jr=(Sr(yr={},Jn.pickup,"storePickup"),Sr(yr,Jn.shipping,"shipping"),Sr(yr,Jn.delivery,"delivery"),yr),Nr={total:function(e){return Or(e.total,e)},lineItems:function(e){return e.displayItems?e.displayItems.map((function(t){return Or(t,e)})):[]},shippingMethods:function(e){return e.shippingOptions?e.shippingOptions.map((function(t){return function(e,t){return{amount:Er(e.amount,t.currency),label:e.label,detail:e.detail,identifier:e.id}}(t,e)})):[]},applicationData:function(e){return e.applicationData||null}},Rr={shippingType:function(e){var t=e.shippingType;if(!t)return null;var n=jr[t];if(void 0!==n)return n;throw new r.a("Invalid value for shippingType: "+t)},requiredBillingContactFields:function(e){return e.requestPayerName?["postalAddress"]:null},requiredShippingContactFields:function(e){var t=[];return e.requestShipping&&t.push("postalAddress"),e.requestPayerEmail&&t.push("email"),e.requestPayerPhone&&t.push("phone"),t.length?t:null},countryCode:Ar("country"),currencyCode:Ar("currency"),merchantCapabilities:(kr="merchantCapabilities",function(e){return e[kr]||null}),supportedNetworks:function(e){var t,n,r=(t=e.country,n=e.jcbEnabled||!1,gr(t,n).reduce((function(e,t){return"mastercard"===t?[].concat(mr(e),["masterCard"]):"diners"===t?e:[].concat(mr(e),[t])}),[]));return fr(4)&&r.push("maestro"),r}},Mr={status:function(e){var t=Ir[e.status];return fr(3)&&t>1?1:t},error:function(e){return fr(3)?Cr[e.status]():null}},xr=Pr({},Nr,Rr),Lr=Pr({},Nr,Mr),Dr=function(e){return Object.keys(Lr).reduce((function(t,n){var r=(0,Lr[n])(e);return null!==r?Pr({},t,Sr({},n,r)):t}),{})};var Br=function(e){return"string"==typeof e?e:null},qr=function(e){return e?Br(e.phoneNumber):null},Fr=function(e){return e?Br(e.emailAddress):null},Ur=function(e){return e?[e.givenName,e.familyName].filter((function(e){return e&&"string"==typeof e})).join(" "):null},Hr=function(e){var t=e.addressLines,n=e.countryCode,r=e.postalCode,o=e.administrativeArea,a=e.locality,i=e.phoneNumber,c=Br(n);return{addressLine:Array.isArray(t)?t.reduce((function(e,t){return"string"==typeof t?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t]):e}),[]):[],country:c?c.toUpperCase():"",postalCode:Br(r)||"",recipient:Ur(e)||"",region:Br(o)||"",city:Br(a)||"",phone:Br(i)||"",sortingCode:"",dependentLocality:"",organization:""}},Yr=function(e,t){var n=e.identifier,r=e.label;return t.filter((function(e){return e.id===n&&e.label===r}))[0]},zr=function(e,t){var n=e.shippingContact,r=e.shippingMethod,o=e.billingContact;return{shippingOption:r&&t.shippingOptions&&t.shippingOptions.length?Yr(r,t.shippingOptions):null,shippingAddress:n?Hr(n):null,payerEmail:Fr(n),payerPhone:qr(n),payerName:Ur(o),walletName:"applePay",methodName:"apple-pay"}},Gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Vr={austria:"AT",sterreich:"AT",csterreich:"AT",au:"AU",australia:"AU",belgium:"BE",br:"BR",brasil:"BR",brazil:"BR",ca:"CA",canada:"CA",ch:"CH",schweiz:"CH",switzerland:"CH",china:"CN",czechrepublic:"CZ",de:"DE",deutschland:"DE",germany:"DE",danmark:"DK",denmark:"DK",es:"ES",espaa:"ES",spain:"ES",finland:"FI",suomi:"FI",fr:"FR",hk:"HK",hongkong:"HK",england:"GB",gb:"GB",uk:"GB",unitedkingdom:"GB",scotland:"GB",wales:"GB",it:"IT",italy:"IT",italia:"IT",japan:"JP",lietuva:"LT",luxembourg:"LU",netherlands:"NL",nederland:"NL",norway:"NO",poland:"PL",polska:"PL",russia:"RU",saudiarabia:"SA",se:"SE",sweden:"SE",sverige:"SE",singapore:"SG",us:"US",usa:"US",unitedstatesofamerica:"US",unitedstates:"US",estadosunidos:"US"},Jr=function(e,t){return e&&"object"===(void 0===e?"undefined":Kr(e))?t(e):null},$r=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onEvent=function(){},this.setEventHandler=function(e){n._onEvent=e},this.canMakePayment=function(){return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=Math.max(2,o);if(window.ApplePaySession){if(pr()){if(window.ApplePaySession.supportsVersion(a)){var i="merchant."+(t?[e,t]:[e]).join(".")+".stripe";return dr(i).then((function(o){if(r("pr.apple_pay.can_make_payment_native_response",{available:o}),n&&!o&&window.console){var a=t?"or stripeAccount parameter ("+t+") ":"";window.console.warn("Either you do not have a card saved to your Wallet or the current domain ("+e+") "+a+"is not registered for Apple Pay. Visit https://dashboard.stripe.com/account/apple_pay to register this domain.")}return o}))}return n&&window.console&&window.console.warn("This version of Safari does not support ApplePay JS version "+a+"."),re.a.resolve(!1)}return re.a.resolve(!1)}return re.a.resolve(!1)}(window.location.hostname,n._authentication.accountId,f(n._authentication.apiKey)===d.test,n._report,n._minimumVersion)},this.update=function(e){n._initialPaymentRequest=kt(n._paymentRequestOptions,e),n._initializeSessionState()},this.show=function(){n._initializeSessionState();var e,t,o=void 0;try{o=new window.ApplePaySession(n._minimumVersion,(e=n._paymentRequestOptions,t=Pr({},Xn,e),Object.keys(xr).reduce((function(e,n){var r=(0,xr[n])(t);return null!==r?Pr({},e,Sr({},n,r)):e}),{})))}catch(e){throw"Must create a new ApplePaySession from a user gesture handler."===e.message?new r.a("show() must be called from a user gesture handler (such as a click handler, after the user clicks a button)."):e}n._privateSession=o,n._setupSession(o,n._usesButtonElement()),o.begin(),n._isShowing=!0},this.abort=function(){n._privateSession&&n._privateSession.abort()},this._warn=function(e){},this._report=function(e,t){n._controller.report(e,Gr({},t,{backingLibrary:"APPLE_PAY",usesButtonElement:n._usesButtonElement()}))},this._validateMerchant=function(e,t){return function(r){n._controller.action.createApplePaySession({data:{validation_url:r.validationURL,domain_name:window.location.hostname,display_name:n._paymentRequestOptions.total.label},usesButtonElement:t}).then((function(t){if(n._isShowing)switch(t.type){case"object":e.completeMerchantValidation(JSON.parse(t.object.session));break;case"error":n._handleValidationError(e)(t.error);break;default:Object(o.a)(t)}}),n._handleValidationError(e))}},this._handleValidationError=function(e){return function(t){n._report("error.pr.apple_pay.session_creation_failed",{error:t}),e.abort();var r=t.message;"string"==typeof r&&n._controller.warn(r)}},this._paymentAuthorized=function(e){return function(t){var r=t.payment,o=n._usesButtonElement()?X.b.paymentRequestButton:null;n._controller.action.tokenizeWithData({type:"apple_pay",elementName:o,tokenData:Gr({},r,{billingContact:Jr(r.billingContact,n._normalizeContact)}),mids:n._mids}).then((function(t){if("error"===t.type)e.completePayment(window.ApplePaySession.STATUS_FAILURE),n._report("error.pr.create_token_failed",{error:t.error});else{var o=Jr(r.shippingContact,n._normalizeContact),a=Jr(r.billingContact,n._normalizeContact);o&&n._paymentRequestOptions.requestShipping&&!o.countryCode&&e.completePayment(window.ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS);var i=zr({shippingContact:o,billingContact:a},n._paymentRequestOptions);n._onToken(e)(Gr({},i,{shippingOption:n._privateShippingOption,token:t.object}))}}))}},this._normalizeContact=function(e){if(e.country&&"string"==typeof e.country){var t=e.country.toLowerCase().replace(/[^a-z]+/g,""),r=void 0;return e.countryCode?"string"==typeof e.countryCode&&(r=e.countryCode.toUpperCase()):(r=Vr[t])||n._report("warn.pr.apple_pay.missing_country_code",{country:e.country}),Gr({},e,{countryCode:r})}return e},this._onToken=function(e){return function(t){n._onEvent({type:"paymentresponse",payload:Gr({},t,{complete:ue(n._completePayment(e))})})}},this._completePayment=function(e){return function(t){n._paymentRequestOptions=kt(n._paymentRequestOptions,{status:t});var r=Dr(n._paymentRequestOptions),o=r.status,a=r.error;n._isShowing&&(a?e.completePayment({status:o,errors:[a]}):e.completePayment(o)),(0===o||1===o&&null==a)&&(n._isShowing=!1,n._onEvent&&n._onEvent({type:"close"}))}},this._shippingContactSelected=function(e){return function(t){n._onEvent({type:"shippingaddresschange",payload:{shippingAddress:Hr(n._normalizeContact(t.shippingContact)),updateWith:ue(n._completeShippingContactSelection(e))}})}},this._completeShippingContactSelection=function(e){return function(t){n._paymentRequestOptions=kt(n._paymentRequestOptions,t),n._paymentRequestOptions.shippingOptions&&n._paymentRequestOptions.shippingOptions.length&&(n._privateShippingOption=n._paymentRequestOptions.shippingOptions[0]);var r=Dr(n._paymentRequestOptions),o=r.status,a=r.shippingMethods,i=r.total,c=r.lineItems;e.completeShippingContactSelection(o,a,i,c)}},this._shippingMethodSelected=function(e){return function(t){if(n._paymentRequestOptions.shippingOptions){var r=Yr(t.shippingMethod,n._paymentRequestOptions.shippingOptions);n._privateShippingOption=r,n._onEvent({type:"shippingoptionchange",payload:{shippingOption:r,updateWith:ue(n._completeShippingMethodSelection(e))}})}}},this._completeShippingMethodSelection=function(e){return function(t){n._paymentRequestOptions=kt(n._paymentRequestOptions,t);var r=Dr(n._paymentRequestOptions),o=r.status,a=r.total,i=r.lineItems;e.completeShippingMethodSelection(o,a,i)}};var a=t.controller,i=t.authentication,c=t.mids,s=t.options,u=t.usesButtonElement,l=t.listenerRegistry;this._controller=a,this._authentication=i,this._mids=c,this._minimumVersion=s.__minApplePayVersion||2,this._usesButtonElement=u,this._listenerRegistry=l,this._initialPaymentRequest=s,this._isShowing=!1,this._initializeSessionState()}return Wr(e,[{key:"_initializeSessionState",value:function(){var e=btoa(this._authentication.accountId?this._authentication.apiKey+":"+this._authentication.accountId:this._authentication.apiKey);this._paymentRequestOptions=Gr({},Xn,this._initialPaymentRequest,{status:$n.success,applicationData:e}),this._privateSession=null,this._privateShippingOption=null;var t=this._paymentRequestOptions.shippingOptions;t&&t.length&&(this._privateShippingOption=t[0])}},{key:"_setupSession",value:function(e,t){var n=this;this._listenerRegistry.addEventListener(e,"validatemerchant",ue(this._validateMerchant(e,t))),this._listenerRegistry.addEventListener(e,"paymentauthorized",ue(this._paymentAuthorized(e))),this._listenerRegistry.addEventListener(e,"cancel",ue((function(){n._isShowing=!1,n._onEvent({type:"cancel"}),n._onEvent({type:"close"})}))),this._listenerRegistry.addEventListener(e,"shippingcontactselected",ue(this._shippingContactSelected(e))),this._listenerRegistry.addEventListener(e,"shippingmethodselected",ue(this._shippingMethodSelected(e)))}}]),e}(),Xr=null;var Zr=function(e){return null!==Xr?re.a.resolve(Xr):e().then((function(e){return Xr=e}))},Qr=function(e){return!(!qe&&!Fe)&&(!(!e.isCheckout&&!window.PaymentRequest)&&!(!e.isCheckout&&Le))},eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var to=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._mids=null,this._frame=null,this._initFrame=function(e){var t=n._controller.createHiddenFrame(X.c.PAYMENT_REQUEST_GOOGLE_PAY,{authentication:n._authentication,mids:n._mids,origin:n._origin});t.send({action:"stripe-pr-initialize",payload:{data:e}}),n._initFrameEventHandlers(t),n._frame=t},this._initFrameEventHandlers=function(e){e._on("pr-cancel",(function(){n._onEvent({type:"cancel"})})),e._on("pr-close",(function(){n._backdrop.fadeOut().then((function(){n._backdrop.unmount()})),n._onEvent({type:"close"})})),e._on("pr-error",(function(e){n._onEvent({type:"error",payload:{errorMessage:e.errorMessage,errorCode:e.errorCode}})})),e._on("pr-callback",(function(t){var r=t.event,o=t.options,a=t.nonce;switch(r){case"paymentresponse":n._handlePaymentResponse(e,o,a);break;case"shippingaddresschange":n._handleShippingAddressChange(e,o,a);break;case"shippingoptionchange":n._handleShippingOptionChange(e,o,a);break;default:throw new Error("Unexpected event name: "+r)}}))},this._handlePaymentResponse=function(e,t,r){n._onEvent({type:"paymentresponse",payload:eo({},t,{complete:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:r,data:{status:t}}})}})})},this._handleShippingAddressChange=function(e,t,r){n._onEvent({type:"shippingaddresschange",payload:eo({},t,{updateWith:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:r,data:t}})}})})},this._handleShippingOptionChange=function(e,t,r){n._onEvent({type:"shippingoptionchange",payload:eo({},t,{updateWith:function(t){e.send({action:"stripe-pr-callback-complete",payload:{nonce:r,data:t}})}})})},this.setEventHandler=function(e){n._onEvent=e},this.canMakePayment=function(){if(!Qr({isCheckout:n._isCheckout}))return re.a.resolve(!1);if(!n._frame)throw new Error("Frame not initialized.");var e=n._frame;return Zr((function(){return e.action.checkCanMakePayment().then((function(e){return!0===e.available}))}))},this.show=function(){n._frame&&(n._frame.send({action:"stripe-pr-show",payload:{data:{usesButtonElement:n._usesButtonElement()}}}),n._backdrop.mount(),n._backdrop.show(),n._backdrop.fadeIn())},this.update=function(e){n._frame&&n._frame.send({action:"stripe-pr-update",payload:{data:e}})},this.abort=function(){n._frame&&n._frame.send({action:"stripe-pr-abort",payload:{}})},this._controller=t.controller,this._authentication=t.authentication,this._mids=t.mids,this._origin=t.origin,this._usesButtonElement=t.usesButtonElement,this._backdrop=new Xe({lockScrolling:!1,lockFocus:!0,lockFocusOn:null,listenerRegistry:t.listenerRegistry}),this._isCheckout=!!t.options.__isCheckout,Qr({isCheckout:this._isCheckout})&&this._controller&&(this._controller.action.fetchLocale({locale:"auto"}),this._initFrame(t.options))},no=function(){if(!window.PaymentRequest)return null;if(/CriOS\/59/.test(navigator.userAgent))return null;if(/.*\(.*; wv\).*Chrome\/(?:53|54)\.\d.*/g.test(navigator.userAgent))return null;if(Be)return null;var e=window.PaymentRequest;return e.prototype.canMakePayment||(e.prototype.canMakePayment=function(){return re.a.resolve(!1)}),e}(),ro=null,oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var ao=function(){var e=this;this._onEvent=function(){},this.setEventHandler=function(t){e._onEvent=t},this.canMakePayment=function(){return t=e._prFrame,f(e._authentication.apiKey),null!==ro?re.a.resolve(ro):no&&t?t.action.checkCanMakePayment().then((function(e){var t=e.available;return ro=!0===t})):re.a.resolve(!1);var t},this.update=function(t){var n=e._prFrame;n&&n.send({action:"stripe-pr-update",payload:{data:t}})},this.show=function(){if(!e._prFrame)throw new r.a("Payment Request is not available in this browser.");e._prFrame.send({action:"stripe-pr-show",payload:{data:{usesButtonElement:e._usesButtonElement()}}})},this.abort=function(){e._prFrame&&e._prFrame.send({action:"stripe-pr-abort",payload:{}})},this._setupPrFrame=function(t,n){t.send({action:"stripe-pr-initialize",payload:{data:n}}),t._on("pr-cancel",(function(){e._onEvent({type:"cancel"})})),t._on("pr-close",(function(){e._onEvent({type:"close"})})),t._on("pr-error",(function(t){e._onEvent({type:"error",payload:{errorMessage:t.message||"",errorCode:t.code||""}})})),t._on("pr-callback",(function(n){var r=n.event,o=n.nonce,a=n.options;switch(r){case"token":e._onEvent({type:"paymentresponse",payload:oo({},a,{complete:function(e){t.send({action:"stripe-pr-callback-complete",payload:{data:{status:e},nonce:o}})}})});break;case"shippingaddresschange":e._onEvent({type:"shippingaddresschange",payload:{shippingAddress:a.shippingAddress,updateWith:function(e){t.send({action:"stripe-pr-callback-complete",payload:{nonce:o,data:e}})}}});break;case"shippingoptionchange":e._onEvent({type:"shippingoptionchange",payload:{shippingOption:a.shippingOption,updateWith:function(e){t.send({action:"stripe-pr-callback-complete",payload:{nonce:o,data:e}})}}});break;default:throw new Error("Unexpected event from PaymentRequest inner: "+r)}}))}},io=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ao.call(this);var n=t.authentication,r=t.controller,o=t.mids,a=t.origin,i=t.usesButtonElement,c=t.options;if(this._authentication=n,this._controller=r,this._usesButtonElement=i,no&&"https:"===window.location.protocol){this._controller.action.fetchLocale({locale:"auto"});var s=this._controller.createHiddenFrame(X.c.PAYMENT_REQUEST_BROWSER,{authentication:n,mids:o,origin:a});this._setupPrFrame(s,c),this._prFrame=s}else this._prFrame=null},co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function so(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var uo,lo,po,fo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));mo.call(n),n._controller=e.controller,n._authentication=e.authentication,n._mids=e.mids,n._listenerRegistry=e.listenerRegistry;var o=$(or,e.rawOptions||{},"paymentRequest()"),a=o.value,i=o.warnings;if(n._report("pr.options",{options:gt(a,["country","currency","jcbEnabled","requestPayerEmail","requestPayerName","requestPayerPhone","requestShipping","disableWallets","wallets"])}),i.forEach((function(e){return n._warn(e)})),a.__billingDetailsEmailOverride&&a.requestPayerEmail)throw new r.a("When providing `__billingDetailsEmailOverride`, `requestPayerEmail` has to be `false` so that the customer is not prompted for their email in the payment sheet.");var c=a.disableWallets,s=c?p.filter((function(e){return-1===c.indexOf(e)})):a.wallets;return n._queryStrategy=s?ur(s):e.queryStrategyOverride||sr(),n._isCustomizedQueryStrategy=!!s,n._report("pr.query_strategy",{queryStrategy:n._queryStrategy}),n._initialOptions=co({},a,{__betas:e.betas,wallets:s}),n._initBackingLibraries(n._initialOptions),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(me),mo=function(){var e=this;this._usedByButtonElement=null,this._showCalledByButtonElement=!1,this._isShowing=!1,this._backingLibraries={APPLE_PAY:null,GOOGLE_PAY:null,BROWSER:null},this._activeBackingLibraryName=null,this._buttonTypeName=null,this._activeBackingLibrary=null,this._isCustomizedQueryStrategy=!1,this._canMakePaymentAvailability={APPLE_PAY:null,GOOGLE_PAY:null,BROWSER:null},this._canMakePaymentResolved=!1,this._validateUserOn=function(t,n){"string"==typeof t&&("source"===t&&e._hasRegisteredListener("paymentmethod")||"paymentmethod"===t&&e._hasRegisteredListener("source"))&&(e._report("pr.double_callback_registration"),e._controller.warn("Do not register event listeners for both `source` or `paymentmethod`. Only one of them will succeed."))},this._report=function(t,n){e._controller.report(t,co({},n,{activeBackingLibrary:e._activeBackingLibraryName,usesButtonElement:e._usedByButtonElement||!1}))},this._warn=function(t){e._controller.warn(t)},this._registerElement=function(){e._usedByButtonElement=!0},this._elementShow=function(){e._showCalledByButtonElement=!0,e.show()},this._initBackingLibraries=function(t){e._queryStrategy.forEach((function(n){var r={controller:e._controller,authentication:e._authentication,mids:e._mids,origin:window.location.origin,options:t,usesButtonElement:function(){return!0===e._usedByButtonElement},listenerRegistry:e._listenerRegistry};switch(n){case"APPLE_PAY":e._backingLibraries.APPLE_PAY=new $r(r),e._backingLibraries.APPLE_PAY.setEventHandler(e._handleInternalEvent);break;case"GOOGLE_PAY":e._backingLibraries.GOOGLE_PAY=new to(r),e._backingLibraries.GOOGLE_PAY.setEventHandler(e._handleInternalEvent);break;case"BROWSER":e._backingLibraries.BROWSER=new io(r),e._backingLibraries.BROWSER.setEventHandler(e._handleInternalEvent);break;default:Object(o.a)(n)}}))},this._handleInternalEvent=function(t){switch(t.type){case"paymentresponse":e._emitPaymentResponse(t.payload);break;case"error":e._report("error.pr.internal_error",{error:t.payload});break;case"close":e._isShowing=!1;break;default:e._emitExternalEvent(t)}},this._emitExternalEvent=function(t){switch(t.type){case"cancel":e._emit("cancel");break;case"shippingoptionchange":case"shippingaddresschange":var n=t.type,a=t.payload,i=null,c=!1,s=!1,u=function(o){if(s&&c)return e._report("pr.update_with_called_after_timeout",{event:n}),void e._controller.warn("Call to updateWith() was ignored because it has already timed out. Please ensure that updateWith is called within 30 seconds.");if(c)return e._report("pr.update_with_double_call",{event:n}),void e._controller.warn("Call to updateWith() was ignored because it has already been called. Do not call updateWith more than once.");i&&clearTimeout(i),c=!0,e._report("pr.update_with",{event:n});var u=$(ir,o||{},n+" callback"),l=u.value;u.warnings.forEach((function(t){return e._controller.warn(t)}));var p=l,d=!1;if(e._initialOptions.__isCheckout&&"APPLE_PAY"===e._activeBackingLibraryName&&l.shippingOptions&&1===l.shippingOptions.length&&0===l.shippingOptions[0].amount){l.shippingOptions;p=so(l,["shippingOptions"]),d=!0}var f=l.shippingOptions||e._initialOptions.shippingOptions;if(!(d||"shippingaddresschange"!==t.type||l.status!==$n.success||f&&f.length))throw new r.a("When requesting shipping information, you must specify shippingOptions once a shipping address is selected.\nEither provide shippingOptions in stripe.paymentRequest(...) or listen for the shippingaddresschange event and provide shippingOptions to the updateWith callback there.");a.updateWith(p)};e._hasRegisteredListener(t.type)?(i=setTimeout((function(){s=!0,e._report("pr.update_with_timed_out",{event:n}),e._controller.warn('Timed out waiting for a call to updateWith(). If you listen to "'+t.type+'" events, then you must call event.updateWith in the "'+t.type+'" handler within 30 seconds.'),u({status:"fail"})}),29900),e._emit(n,co({},a,{updateWith:u}))):u({status:"success"});break;case"token":case"source":case"paymentmethod":var l=t.type,p=t.payload,d=null,f=!1,m=!1,h=function(t){if(f&&m)return e._report("pr.complete_called_after_timeout"),void e._controller.warn("Call to complete() was ignored because it has already timed out. Please ensure that complete is called within 30 seconds.");if(m)return e._report("pr.complete_double_call"),void e._controller.warn("Call to complete() was ignored because it has already been called. Do not call complete more than once.");d&&clearTimeout(d),m=!0;var n=$(cr,t,"status for PaymentRequest completion"),r=n.value;n.warnings.forEach((function(t){return e._controller.warn(t)})),p.complete(r)};d=setTimeout((function(){f=!0,e._report("pr.complete_timed_out"),e._controller.warn('Timed out waiting for a call to complete(). Once you have processed the payment in the "'+t.type+'" handler, you must call event.complete within 30 seconds.'),h("fail")}),29900),e._emit(l,co({},p,{complete:h}));break;default:Object(o.a)(t)}},this._maybeEmitPaymentResponse=function(t){e._isShowing&&e._emitExternalEvent(t)},this._emitPaymentResponse=function(t){e._report("pr.payment_authorized");var n=t.token,r=so(t,["token"]),o=r.payerEmail,a=r.payerPhone,i=r.complete,c=e._showCalledByButtonElement?X.b.paymentRequestButton:null;e._hasRegisteredListener("token")&&e._maybeEmitPaymentResponse({type:"token",payload:t}),e._hasRegisteredListener("source")&&e._controller.action.createSourceWithData({elementName:c,type:"card",sourceData:{token:n.id,owner:{email:e._initialOptions.__billingDetailsEmailOverride||o,phone:a}},mids:null}).then((function(t){"error"===t.type?t.error.code&&"email_invalid"===t.error.code?i("invalid_payer_email"):(e._report("fatal.pr.token_to_source_failed",{error:t.error,token:n.id}),i("fail")):e._maybeEmitPaymentResponse({type:"source",payload:co({},r,{source:t.object})})})),e._hasRegisteredListener("paymentmethod")&&e._controller.action.createPaymentMethodWithData({elementName:c,type:"card",paymentMethodData:{card:{token:n.id},billing_details:{email:e._initialOptions.__billingDetailsEmailOverride||o,phone:a}},mids:null}).then((function(t){"error"===t.type?t.error.code&&"email_invalid"===t.error.code?i("invalid_payer_email"):(e._report("fatal.pr.token_to_payment_method_failed",{error:t.error,token:n.id}),i("fail")):e._maybeEmitPaymentResponse({type:"paymentmethod",payload:co({},r,{paymentMethod:t.object})})}))},this._canMakePaymentForBackingLibrary=function(t){var n=e._backingLibraries[t];if(!n)throw new Error("Unexpectedly calling canMakePayment on uninitialized backing library.");return re.a.race([new re.a((function(e){return setTimeout(e,1e4)})).then((function(){return!1})),n.canMakePayment().then((function(e){return!!e}))]).then((function(n){return e._canMakePaymentAvailability=co({},e._canMakePaymentAvailability,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)),{backingLibraryName:t,available:n}}))},this._isGooglePayOnAndroid=function(){var t=e._initialOptions.wallets,n=t&&-1===t.indexOf("googlePay");return Le&&!n},this._constructCanMakePaymentResponse=function(){var t=e._isGooglePayOnAndroid()&&!!e._canMakePaymentAvailability.BROWSER;return{applePay:!!e._canMakePaymentAvailability.APPLE_PAY,googlePay:!!e._canMakePaymentAvailability.GOOGLE_PAY||t}},this.canMakePayment=ue((function(){if(e._report("pr.can_make_payment"),e._canMakePaymentResolved){var t=null!==e._activeBackingLibrary?e._constructCanMakePaymentResponse():null;return e._report("pr.can_make_payment_response",{response:t,cached:!0}),re.a.resolve(t)}if("https:"!==window.location.protocol)return e._controller.warn("If you are testing the PaymentRequest button (to accept Apple Pay, Google Pay, etc.) you must serve this page over HTTPS as it will not work over HTTP. Please read https://stripe.com/docs/stripe-js/elements/payment-request-button#html-js-prerequisites for more details."),e._canMakePaymentResolved=!0,re.a.resolve(null);if(e._isCustomizedQueryStrategy&&window.self!==window.top)return e._controller.warn("You must use Stripe PaymentRequest in the top level frame if you specify which wallets are available."),e._canMakePaymentResolved=!0,re.a.resolve(null);var n=e._queryStrategy.map((function(t){return function(){return e._canMakePaymentForBackingLibrary(t)}})),r=new Wt.a;return Gn(n,(function(t){var n=t.backingLibraryName,r=t.available;return r&&(e._activeBackingLibraryName=n,e._activeBackingLibrary=e._backingLibraries[n],e._buttonTypeName=e._activeBackingLibraryName,e._isGooglePayOnAndroid()&&(e._buttonTypeName="GOOGLE_PAY")),r})).then((function(t){var n=new Wt.a;e._canMakePaymentResolved=!0;var o=null;return"SATISFIED"===t.type&&(o=e._constructCanMakePaymentResponse()),e._report("pr.can_make_payment_response",{response:o,cached:!1,duration:r.getElapsedTime(n)}),o}))})),this.update=ue((function(t){if(e._isShowing)throw e._report("pr.update_called_while_showing"),new r.a("You cannot update Payment Request options while the payment sheet is showing.");var n=$(ar,t,"PaymentRequest update()"),o=n.value,a=n.warnings;e._report("pr.update"),a.forEach((function(t){return e._warn(t)})),e._activeBackingLibrary&&e._activeBackingLibrary.update(o)})),this.show=ue((function(){if(e._usedByButtonElement&&!e._showCalledByButtonElement&&(e._report("pr.show_called_with_button"),e._warn("Do not call show() yourself if you are using the paymentRequestButton Element. The Element handles showing the payment sheet.")),!e._canMakePaymentResolved)throw e._report("pr.show_called_before_can_make_payment"),new r.a("You must first check the Payment Request API's availability using paymentRequest.canMakePayment() before calling show().");if(!e._activeBackingLibrary)throw e._report("pr.show_called_with_can_make_payment_false"),new r.a("Payment Request is not available in this browser.");var t=e._activeBackingLibrary;e._report("pr.show",{listeners:Object.keys(e._callbacks).sort()}),e._isShowing=!0,t.show()})),this.abort=ue((function(){if(e._activeBackingLibrary){var t=e._activeBackingLibrary;e._report("pr.abort"),t.abort()}})),this.isShowing=function(){return e._isShowing}},ho=fo,_o={base:k(H),complete:k(H),empty:k(H),invalid:k(H),paymentRequestButton:k(H)},yo={classes:k(V({base:k(x),complete:k(x),empty:k(x),focus:k(x),invalid:k(x),webkitAutofill:k(x)})),hidePostalCode:k(D),hideIcon:k(D),showIcon:k(D),style:k(V(_o)),iconStyle:k(C("solid","default")),value:k(O(x,H)),__privateCvcOptional:k(D),__privateValue:k(O(x,H)),__privateEmitIbanValue:k(D),error:k(V({type:x,code:k(x),decline_code:k(x),param:k(x)})),locale:G("elements()"),fonts:G("elements()"),placeholder:k(x),disabled:k(D),placeholderCountry:k(x),paymentRequest:k((uo=ho,lo="stripe.paymentRequest(...)",function(e,t){return e instanceof uo?g(e):P("a "+lo+" instance",e,t)})),supportedCountries:k(Y(x)),accountHolderType:k(C("individual","company")),issuingCard:k(x)},vo=V(yo);function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var go=(bo(po={},ln.a.card,pn.a.CARD_ELEMENT),bo(po,ln.a.cardNumber,pn.a.CARD_ELEMENT),bo(po,ln.a.cardExpiry,pn.a.CARD_ELEMENT),bo(po,ln.a.cardCvc,pn.a.CARD_ELEMENT),bo(po,ln.a.postalCode,pn.a.CARD_ELEMENT),bo(po,ln.a.paymentRequestButton,pn.a.PAYMENT_REQUEST_ELEMENT),bo(po,ln.a.iban,pn.a.IBAN_ELEMENT),bo(po,ln.a.idealBank,pn.a.IDEAL_BANK_ELEMENT),bo(po,ln.a.p24Bank,pn.a.P24_BANK_ELEMENT),bo(po,ln.a.auBankAccount,pn.a.AU_BANK_ACCOUNT_ELEMENT),bo(po,ln.a.fpxBank,pn.a.FPX_BANK_ELEMENT),bo(po,ln.a.issuingCardNumberDisplay,pn.a.ISSUING_CARD_NUMBER_DISPLAY_ELEMENT),bo(po,ln.a.issuingCardCvcDisplay,pn.a.ISSUING_CARD_CVC_DISPLAY_ELEMENT),bo(po,ln.a.issuingCardExpiryDisplay,pn.a.ISSUING_CARD_EXPIRY_DISPLAY_ELEMENT),bo(po,ln.a.epsBank,pn.a.EPS_BANK_ELEMENT),bo(po,ln.a.netbankingBank,pn.a.NETBANKING_BANK_ELEMENT),bo(po,ln.a.afterpayClearpayMessageModal,pn.a.AFTERPAY_MESSAGE_MODAL_ELEMENT),po),wo=function(e,t){return function(e){return e===ln.a.cardNumber||e===ln.a.cardExpiry||e===ln.a.cardCvc}(e)&&t.cl?pn.a.CARD_LIGHT_ELEMENT:go[e]},Eo={margin:"0",padding:"0",border:"none",display:"block",background:"transparent",position:"relative",opacity:"1"},Po={border:"none",display:"block",position:"absolute",height:"1px",top:"-1px",left:"0",padding:"0",margin:"0",width:"100%",opacity:"0",background:"transparent","pointer-events":"none","font-size":"16px"},So=function(e){var t=Object(zn.a)(e,null);return!!t&&"rtl"===t.getPropertyValue("direction")},ko=function(e){var t=document.createElement("input");return t.className=e,t.setAttribute("aria-hidden","true"),t.setAttribute("aria-label"," "),t.setAttribute("autocomplete","false"),t.maxLength=1,t.disabled=!0,Object(oe.d)(t,Po),t},Oo=function(){return ko(fn)},To=function(){var e=ko(mn);return e.setAttribute("tabindex","-1"),e},Ao=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur()},Io=["test_id"],Co=function(e){switch(e.type){case"object":return Io.push(e.object.id),{issuingCard:e.object};case"error":return{error:e.error};default:return Object(o.a)(e)}},jo=function(e){switch(e.type){case"object":return{nonce:e.object.public_nonce};case"error":return{error:e.error};default:return Object(o.a)(e)}},No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Mo(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var xo={base:"StripeElement",focus:"StripeElement--focus",invalid:"StripeElement--invalid",complete:"StripeElement--complete",empty:"StripeElement--empty",webkitAutofill:"StripeElement--webkit-autofill"},Lo="#faffbd",Do=function(e){return parseFloat(e.toFixed(1))},Bo=function(e){return/^\d+(\.\d*)?px$/.test(e)},qo=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.focus=function(){if(n._isIssuingElement())throw new r.a("Cannot call focus() on an "+n._componentName+" Element.");document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),n._fakeInput.focus()},this._formSubmit=function(){for(var e=n._component.parentElement;e&&"FORM"!==e.nodeName;)e=e.parentElement;if(e){var t=document.createEvent("Event");t.initEvent("submit",!0,!0),e.dispatchEvent(t)}};var o=t.options,a=t.component,i=t.listenerRegistry,c=t.elementTimings,s=t.emitEvent,u=t.getParent,l=o.controller,p=o.componentName,d=o.publicOptions;this._componentName=p,this._component=a,this._controller=l,this._listenerRegistry=i,this._emitEvent=s,this._getParent=u;var f=$(vo,d||{},"create()"),m=f.value;f.warnings.forEach((function(e){return n._controller.warn(e)}));var h,_=m.paymentRequest,y=m.classes,v=m.issuingCard,b="paymentRequestButton"===this._componentName;if(b){if(!_)throw new r.a("You must pass in a stripe.paymentRequest object in order to use this Element.");this._paymentRequest=_,this._paymentRequest._registerElement()}if(this._isIssuingElement()){if(!v)throw new Error("You must pass in an ID to the issuingCard option in order to use this Element.");if(h=v,-1===Io.indexOf(h))throw new Error("Issuing card "+v+" has not been retrieved.")}this._createElement(o,m,c),this._classes=xo,this._computeCustomClasses(y||{}),this._lastBackgroundColor="",this._focused=!1,this._empty=!b,this._invalid=!1,this._complete=!1,this._autofilled=!1,this._lastSubmittedAt=null}return Ro(e,[{key:"update",value:function(e){var t=this,n=$(vo,e||{},"element.update()"),r=n.value;if(n.warnings.forEach((function(e){return t._controller.warn(e)})),r){var o=r.classes,a=Mo(r,["classes"]);o&&(this._removeClasses(),this._computeCustomClasses(o),this._updateClasses()),this._updateFrameHeight(r),Object.keys(a).length&&(this._frame.update(a),this._secondaryFrame&&this._secondaryFrame.update(a))}}},{key:"blur",value:function(){if(this._isIssuingElement())throw new r.a("Cannot call blur() on an "+this._componentName+" Element.");this._frame.blur(),this._fakeInput.blur()}},{key:"clear",value:function(){this._frame.clear()}},{key:"unmount",value:function(){var e=this._getParent(),t=this._label;e&&(this._listenerRegistry.removeEventListener(e,"click",this.focus),this._removeClasses()),t&&(this._listenerRegistry.removeEventListener(t,"click",this.focus),this._label=null),this._secondaryFrame&&(this._secondaryFrame.unmount(),this._listenerRegistry.removeEventListener(window,"click",this._handleOutsideClick)),this._fakeInput.disabled=!0,this._frame.unmount()}},{key:"mount",value:function(){if(Object(oe.b)(document,this._component)){this._controller.report("user_error.shadow_dom_mount",{element:this._componentName});var e=function(){throw new r.a("Elements cannot be mounted in a ShadowRoot. Please mount in the Light DOM.")};"test"===this._controller.keyMode()?e():setTimeout(e,0)}if(this._paymentRequest){if(!this._paymentRequest._canMakePaymentResolved)throw new r.a("For the paymentRequestButton Element, you must first check availability using paymentRequest.canMakePayment() before mounting the Element.");if(!this._paymentRequest._activeBackingLibraryName)throw new r.a("The paymentRequestButton Element is not available in the current environment.")}this._mountTimestamp=new Wt.a,this._findPossibleLabel(),this._updateClasses()}},{key:"_isIssuingElement",value:function(){return"issuingCardNumberDisplay"===this._componentName||"issuingCardCvcDisplay"===this._componentName||"issuingCardExpiryDisplay"===this._componentName}},{key:"_updateClasses",value:function(){var e=this._getParent();e&&Object(oe.f)(e,[[this._classes.base,!0],[this._classes.empty,this._empty],[this._classes.focus,this._focused],[this._classes.invalid,this._invalid],[this._classes.complete,this._complete],[this._classes.webkitAutofill,this._autofilled]])}},{key:"_removeClasses",value:function(){var e=this._getParent();e&&Object(oe.f)(e,[[this._classes.base,!1],[this._classes.empty,!1],[this._classes.focus,!1],[this._classes.invalid,!1],[this._classes.complete,!1],[this._classes.webkitAutofill,!1]])}},{key:"_findPossibleLabel",value:function(){var e=this._getParent();if(e){var t=e.getAttribute("id"),n=void 0;if(t&&(n=document.querySelector("label[for='"+t+"']")),n)this._listenerRegistry.addEventListener(e,"click",this.focus);else for(n=n||e.parentElement;n&&"LABEL"!==n.nodeName;)n=n.parentElement;n?(this._label=n,this._listenerRegistry.addEventListener(n,"click",this.focus)):this._listenerRegistry.addEventListener(e,"click",this.focus)}}},{key:"_computeCustomClasses",value:function(e){var t={};return Object.keys(e).forEach((function(n){if(!xo[n])throw new r.a(n+" is not a customizable class name.\nYou can customize: "+Object.keys(xo).join(", "));var o=e[n]||xo[n];t[n]=o.replace(/\./g," ")})),this._classes=No({},this._classes,t),this}},{key:"_setupEvents",value:function(e){var t=this,n=e.stripeJsLoadTimestamp,r=(e.stripeCreateTimestamp,e.groupCreateTimestamp),o=e.createTimestamp,a=0,i=0,c={stripeJsLoad:n.getAsPosixTime(),stripeCreate:o.getAsPosixTime(),groupCreate:r.getAsPosixTime(),create:o.getAsPosixTime()};if(this._frame._on("load",(function(e){var n=e.source;a++;var r=t._getParent(),o=So(r),i=t._paymentRequest?t._paymentRequest._buttonTypeName:null;t._mountTimestamp&&(c.mount=t._mountTimestamp.getAsPosixTime()),t._frame.send({action:"stripe-user-mount",payload:{timestamps:c,loadCount:a,matchFrame:n===t._frame._iframe.contentWindow,rtl:o,paymentRequestButtonType:i}})})),this._secondaryFrame){var s=this._secondaryFrame;s._on("load",(function(e){var n=e.source;i++,t._mountTimestamp&&(c.mount=t._mountTimestamp.getAsPosixTime()),s.send({action:"stripe-user-mount",payload:{timestamps:c,loadCount:i,matchFrame:n===s._iframe.contentWindow,rtl:!1,paymentRequestButtonType:null}})}))}this._frame._on("redirectfocus",(function(e){var n=e.focusDirection,r=Object(Ke.b)(t._component,n);r&&r.focus()})),this._frame._on("focus",(function(){t._focused=!0,t._updateClasses()})),this._frame._on("blur",(function(){t._focused=!1,t._updateClasses(),t._lastSubmittedAt&&"paymentRequestButton"===t._componentName&&(t._controller.report("payment_request_button.sheet_visible",{latency:t._lastSubmittedAt.getElapsedTime()}),t._lastSubmittedAt=null)})),this._frame._on("submit",(function(){if("paymentRequestButton"===t._componentName){t._lastSubmittedAt=new Wt.a;var e=!1,n=!1;Gt(),t._emitEvent("click",{preventDefault:function(){t._controller.report("payment_request_button.default_prevented"),e&&t._controller.warn("event.preventDefault() was called after the payment sheet was shown. Make sure to call it synchronously when handling the `click` event."),n=!0}}),!n&&t._paymentRequest&&(t._paymentRequest._elementShow(),e=!0)}else t._emitEvent("submit"),t._formSubmit()})),["ready","focus","blur","escape"].forEach((function(e){t._frame._on(e,(function(){t._emitEvent(e)}))})),this._frame._on("change",(function(e){Gt();var n={},r=sn[t._componentName]||[];["error","value","empty","complete"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)).forEach((function(t){return n[t]=e[t]})),t._emitEvent("change",n),t._empty=n.empty,t._invalid=!!n.error,t._complete=n.complete,t._updateClasses()})),this._frame._on("__privateIntegrationError",(function(e){var n=e.message;t._emitEvent("__privateIntegrationError",{message:n})})),this._frame._on("dimensions",(function(e){var n=t._getParent();if(n){var r=Object(zn.a)(n,null);if(r){var o=parseFloat(r.getPropertyValue("height")),a=e.height;if("border-box"===r.getPropertyValue("box-sizing")){var i=parseFloat(r.getPropertyValue("padding-top")),c=parseFloat(r.getPropertyValue("padding-bottom"));o=o-parseFloat(r.getPropertyValue("border-top"))-parseFloat(r.getPropertyValue("border-bottom"))-i-c}var s=Do(o),u=Do(a);0!==o&&s<u&&t._controller.report("wrapper_height_mismatch",{height:u,outer_height:s});var l=t._component.getBoundingClientRect().height,p=Do(l);0!==l&&0!==a&&p!==u&&(t._frame.updateStyle({height:a+"px"}),t._controller.report("iframe_height_update",{height:u,calculated_height:p}))}}})),this._frame._on("autofill",(function(){var e=t._getParent();if(e){var n=e.style.backgroundColor,r=n===Lo||"rgb(250, 255, 189)"===n;t._lastBackgroundColor=r?t._lastBackgroundColor:n,e.style.backgroundColor=Lo,t._autofilled=!0,t._updateClasses()}})),this._frame._on("autofill-cleared",(function(){var e=t._getParent();t._autofilled=!1,e&&(e.style.backgroundColor=t._lastBackgroundColor),t._updateClasses()})),this._frame._on("update-outer-style",(function(e){Object.keys(e).forEach((function(n){t._component.style.setProperty(n,e[n])}))}))}},{key:"_handleOutsideClick",value:function(){this._secondaryFrame&&this._secondaryFrame.send({action:"stripe-outside-click",payload:{}})}},{key:"_updateFrameHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.style;if("paymentRequestButton"===this._componentName){var r=n&&n.paymentRequestButton||{},o=r.height,a="string"==typeof o?o:void 0;(t||a)&&(this._frame.updateStyle({height:a||this._lastHeight||Kn}),this._lastHeight=a||this._lastHeight)}else{var i=n&&n.base||{},c=i.lineHeight,s=i.fontSize,u=i.padding,l="string"!=typeof c||isNaN(parseFloat(c))?void 0:c,p="string"==typeof s?s:void 0,d="string"==typeof u?u:void 0;if(p&&!Bo(p)&&this._controller.warn("The fontSize style you specified ("+p+") is not in px. We do not recommend using relative css units, as they will be calculated relative to our iframe's styles rather than your site's."),t||l||p){var f=-1===X.j.indexOf(this._componentName)?void 0:d||this._lastPadding,m=Yn(l||this._lastHeight,p||this._lastFontSize,f);this._frame.updateStyle({height:m}),this._lastFontSize=p||this._lastFontSize,this._lastHeight=l||this._lastHeight,this._lastPadding=f}}}},{key:"_createElement",value:function(e,t,n){var r=this,o=(e.controller,e.publicOptions,e.componentName),a=e.groupId,i=Mo(e,["controller","publicOptions","componentName","groupId"]),c=(t.classes,t.paymentRequest,Mo(t,["classes","paymentRequest"])),s=this._component,u=Oo();Object(oe.d)(s,Eo);var l=So(document.body),p=wo(o,this._controller.getFlags()),d=No({},i,c,{rtl:l}),f=this._controller.createElementFrame(p,o,a,d);if(f._on("load",(function(){u.disabled=!1})),this._listenerRegistry.addEventListener(u,"focus",(function(){f.focus()})),f.appendTo(s),un[o]){var m=un[o].secondary,h=this._controller.createSecondaryElementFrame(p,m,o,a,d);h&&h.on&&h.on("height-change",(function(e){h.updateStyle({height:e.height+"px"})})),this._secondaryFrame=h,h.appendTo(s),this._listenerRegistry.addEventListener(window,"click",(function(){return r._handleOutsideClick()}))}if(s.appendChild(u),xe&&o!==X.b.paymentRequestButton){var _=To();s.appendChild(_)}this._frame=f,this._fakeInput=u,this._setupEvents(n),this._updateFrameHeight(t,!0)}}]),e}(),Fo={amount:B,currency:C("USD","AUD","CAD","GBP","NZD","EUR"),badgeTheme:k(C("black-on-mint","black-on-white","mint-on-black","white-on-black")),introText:k(C("In","in","Or","or","Pay","pay","Pay in","pay in")),isEligible:k(D),isCartEligible:k(D),lockupTheme:k(C("black","white","mint")),logoType:k(C("badge","lockup")),max:k(B),min:k(B),modalLinkStyle:k(C("circled-info-icon","more-info-text","learn-more-text")),modalTheme:k(C("mint","white")),showInterestFree:k(D),showLowerLimit:k(D),showUpperLimit:k(D),showWith:k(D)},Uo=V(Fo),Ho=function(e){var t=!1;window.Promise||(t=!0,window.Promise=re.a);var n=e();return t&&window.Promise===re.a&&delete window.Promise,n},Yo=function(){return Ho((function(){return n.e(2).then(n.bind(null,33))}))},zo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Go,Wo=function(e){var t=e.emitEvent,o=e.options,a=o.controller,i=o.locale,c=o.publicOptions,s=new Wt.a,u=function(e){var t=$(Uo,e||{},"create()"),n=t.value;return t.warnings.forEach((function(e){return a.warn(e)})),n},l=u(c),p=void 0,d=function(e,t){return e.apply(void 0,[p].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))},f=[],m=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];p?d(e,n):f.push([e,n])}},h=function(){};re.a.all([Ho((function(){return n.e(1).then(n.bind(null,32))})),Yo()]).then((function(n){var r=zo(n,2),o=r[0],c=r[1],u=o.default;h=c.unmountModal;var m=e.component,_=e.listenerRegistry;p=u({component:m,mountModal:function(e,t){return c.mountModal({controller:a,listenerRegistry:_,locale:e,modalTheme:t})},locale:i,listenerRegistry:_}),a.report("afterpay_message.loaded",{load_time:s.getElapsedTime(),locale:i,currency:l.currency}),function(){for(;f.length;){var e=f.shift(),t=zo(e,2),n=t[0],r=t[1];d(n,r)}}(),t("ready")}),(function(e){a.report("afterpay_message.import_error",{error:e})}));var _=function(e){return function(){throw new r.a(e)}};return{mount:m((function(e){e.mount(l)})),unmount:m((function(e){h(),e.unmount()})),update:m((function(e,t){var n=St(l,t);l=u(n),e.update(l)})),focus:_("Focus is not supported by afterpayClearpayMessage."),blur:_("Blur is not supported by afterpayClearpayMessage."),clear:_("Clear is not supported by afterpayClearpayMessage.")}},Ko={_componentName:x,_implementation:V({_frame:V({id:x})})},Vo=V(Ko),Jo=function(e){var t=J(Vo,e,"");return"error"===t.type?null:t.value};function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo={alipay:"alipay",afterpay_clearpay:"afterpay_clearpay",au_becs_debit:"au_becs_debit",acss_debit:"acss_debit",bacs_debit:"bacs_debit",bancontact:"bancontact",boleto:"boleto",card:"card",eps:"eps",fpx:"fpx",giropay:"giropay",grabpay:"grabpay",ideal:"ideal",klarna:"klarna",konbini:"konbini",oxxo:"oxxo",p24:"p24",paypal:"paypal",sepa_debit:"sepa_debit",sofort:"sofort",three_d_secure:"three_d_secure",upi:"upi",wechat_pay:"wechat_pay",netbanking:"netbanking",id_bank_transfer:"id_bank_transfer"},Zo=($o(Go={},X.b.auBankAccount,Xo.au_becs_debit),$o(Go,X.b.card,Xo.card),$o(Go,X.b.cardNumber,Xo.card),$o(Go,X.b.cardExpiry,Xo.card),$o(Go,X.b.cardCvc,Xo.card),$o(Go,X.b.postalCode,Xo.card),$o(Go,X.b.iban,Xo.sepa_debit),$o(Go,X.b.idealBank,Xo.ideal),$o(Go,X.b.fpxBank,Xo.fpx),$o(Go,X.b.p24Bank,Xo.p24),$o(Go,X.b.netbankingBank,Xo.netbanking),$o(Go,X.b.epsBank,Xo.eps),Go),Qo=function(e){return-1===X.k.indexOf(e)},ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ta=function(e,t){switch(e.type){case"object":return{paymentIntent:e.object};case"error":return{error:ea({},t?{payment_intent:t}:{},e.error)};default:return Object(o.a)(e)}},na=function(e){switch(e.type){case"error":return{error:e.error};case"object":return{setupIntent:e.object};default:return Object(o.a)(e)}},ra=function(e){return"payment_intent"===e.object?{id:e.id,clientSecret:e.client_secret,type:"PAYMENT_INTENT"}:{id:e.id,clientSecret:e.client_secret,type:"SETUP_INTENT"}},oa=function(e){return"requires_source_action"===e||"requires_action"===e},aa=function(e){return"requires_source_action"===e.status||"requires_action"===e.status?e.next_action:null},ia=function(e){var t=atob(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,(function(e){return e.charCodeAt(0)}))},ca=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function la(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function pa(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var da=function(e,t){if("string"!=typeof e)return P("a client_secret string",e,t);var n,r=(n=e.trim().match(/^((seti|pi)_[^_]+)_secret_[^-]+$/))?"pi"===n[2]?{id:n[1],clientSecret:n[0],type:"PAYMENT_INTENT"}:{id:n[1],clientSecret:n[0],type:"SETUP_INTENT"}:null;return null===r?P("a client secret of the form ${id}_secret_${secret}",e,t):g(r,[])},fa=function(e,t){var n=da(e,t);return"error"===n.type?n:n.value.type===X.g.SETUP_INTENT?w(new r.a(b("a PaymentIntent client secret","a SetupIntent client secret",t))):g(n.value,[])},ma=function(e,t){var n=da(e,t);return"error"===n.type?n:n.value.type===X.g.PAYMENT_INTENT?w(new r.a(b("a SetupIntent client secret","a PaymentIntent client secret",t))):g(n.value,[])},ha=function(e,t){if(null===e)return E("object","null",t);if("object"!==(void 0===e?"undefined":ua(e)))return E("object",void 0===e?"undefined":ua(e),t);var n=e.client_secret,r=e.status,o=e.next_action,a=da(n,S(t,"client_secret"));return"error"===a.type?a:"string"!=typeof r?E("string",void 0===r?"undefined":ua(r),S(t,"status")):"requires_source_action"!==r&&"requires_action"!==r||"object"===(void 0===o?"undefined":ua(o))?(e.object,g(e,[])):E("object",void 0===o?"undefined":ua(o),S(t,"next_action"))},_a=function(e){return function(t,n){if("object"!==(void 0===t?"undefined":ua(t)))return E("object",void 0===t?"undefined":ua(t),n);if(null===t)return E("object","null",n);var o=t.type,a=pa(t,["type"]),i=void 0;if(null===e){if("string"!=typeof o)return E("string",void 0===o?"undefined":ua(o),S(n,"type"));i=o}else{if(void 0!==o&&o!==e)return"string"!=typeof o?E("string",void 0===o?"undefined":ua(o),S(n,"type")):E('"'+o+'"','"'+e+'"',S(n,"type"));i=e}var c=a[i],s=(a[i],pa(a,[i]));if(-1!==["acss_debit","afterpay_clearpay","alipay","bancontact","eps","giropay","grabpay","klarna","konbini","oxxo","p24","paypal","wechat_pay"].indexOf(i)&&void 0===c&&(c={}),"object"!==(void 0===c?"undefined":ua(c)))return E("object or element",ua(t[i]),S(n,i));if(null===c)return E("object or element","null",S(n,i));var u=Jo(c);if(u){var l=u._componentName;if(Zo[l]!==i){var p=[].concat(la(n.path),[i]).join("."),d=n.label,f=new r.a("Invalid value for "+d+": "+p+" was `"+l+"` Element, which cannot be used to create "+i+" PaymentMethods.");return w(f)}return g({type:i,element:u,data:s})}return g({type:i,element:null,data:a})}},ya=L(V({handleActions:L(D,(function(){return!0}))}),(function(){return{handleActions:!0}})),va=function(e,t){return function(n,o){if(void 0===n)return g({paymentMethodData:null,paymentMethodOptions:null,source:null,paymentMethod:null,otherParams:{}});if("object"!==(void 0===n?"undefined":ua(n)))return E("object",void 0===n?"undefined":ua(n),o);if(null===n)return E("object","null",o);var a=n.source,i=n.source_data,c=n.payment_method_data,s=n.payment_method_options,u=n.payment_method,l=pa(n,["source","source_data","payment_method_data","payment_method_options","payment_method"]);if(null!=i)throw new r.a(t+": Expected payment_method, or source, not source_data.");if(null!=c)throw new r.a(t+": Expected payment_method, or source, not payment_method_data.");if(null!=a&&null!=u)throw new r.a(t+": Expected either payment_method or source, but not both.");if(null===e&&null!=u&&"string"!=typeof u)throw new r.a(t+": Expected payment_method[type] to be set if payment_method is passed.");if(null!=a){if("string"!=typeof a)return E("string",void 0===a?"undefined":ua(a),S(o,"source"));if("updatePaymentIntent"===t)throw new r.a(t+": Expected payment_method, not source to be passed.");return g({source:a,paymentMethodData:null,paymentMethodOptions:null,paymentMethod:null,otherParams:l})}if(null!=u&&"string"!=typeof u&&"object"!==(void 0===u?"undefined":ua(u)))return E("string or object",void 0===u?"undefined":ua(u),S(o,"payment_method"));var p,d=J((p=e,function(e,t){if(null==e)return g(null);if("object"!==(void 0===e?"undefined":ua(e)))return E("object",void 0===e?"undefined":ua(e),t);var n=e.card,r=pa(e,["card"]);if(!n||"object"!==(void 0===n?"undefined":ua(n)))return g(e);var o=n.cvc,a=pa(n,["cvc"]);if(null==o)return g(e);var i=Jo(o),c=i?i._componentName:"";return X.b.cardCvc!==c?E("`"+X.b.cardCvc+"` Element",c?"`"+c+"` Element":void 0===o?"undefined":ua(o),S(t,(p||"card")+".cvc")):g(sa({},r,{card:sa({},a,{cvc:i})}))}),s,t,{path:[].concat(la(o.path),["payment_method_options"])});if("error"===d.type)return d;if("string"==typeof u)return g({source:null,paymentMethodData:null,paymentMethodOptions:d.value,paymentMethod:u,otherParams:l});if("object"===(void 0===u?"undefined":ua(u))&&null!==u){var f=J(_a(e),u,t,{path:[].concat(la(o.path),["payment_method"])});if("error"===f.type)return f;var m=f.value;return g({source:null,paymentMethod:null,paymentMethodOptions:d.value,paymentMethodData:m,otherParams:l})}return g({source:null,paymentMethodData:null,paymentMethodOptions:null,paymentMethod:null,otherParams:l})}},ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ga(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var wa={locale:G("elements()"),fonts:G("elements()"),appearance:k(H)},Ea=V(wa),Pa={locale:G("elements()"),fonts:G("elements()"),clientSecret:da,business:k(V({name:x})),appearance:k(H)},Sa=ba({},Pa,{clientSecret:k(da)}),ka=V(Pa),Oa=V(Sa),Ta=function(e,t,n,r){switch(e){case"authentication":var a=$(Ea,t,n),i=a.value;i.locale,i.fonts;return{value:ga(i,["locale","fonts"]),warnings:a.warnings};case"payment":var c=$(r?Oa:ka,t,n),s=c.value,u=(s.locale,s.fonts,s.clientSecret),l=ga(s,["locale","fonts","clientSecret"]),p=c.warnings;return{value:ba({parsedIntentSecret:u},l),warnings:p};default:return Object(o.a)(e)}},Aa=["card","afterpay_clearpay","alipay","eps","giropay","ideal","bancontact"],Ia=Object(lr.c)((function(e){return Aa.filter((function(t){return-1!==e.indexOf(t)}))})),Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var ja=function(e){e.parsedIntentSecret;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["parsedIntentSecret"])},Na=function(e){var t=e.controller,n=e.componentName,r=e.groupId,o=e.locale,a=e.fonts,i=e.wait,c=e.publicOptions,s={locale:o,fonts:a,wait:i,rtl:So(document.body),publicOptions:ja(c)},u=yn[n],l=t.createElementFrame(u,n,r,s),p=Oo(),d=ko("__PrivateStripeElement-inputAfter"),f=null;return xe&&(f=To()),{frame:l,hiddenInputBefore:p,hiddenInputAfter:d,hiddenSafariQuirkFixInput:f}},Ra=function(e){var t=e.component,n=e.listenerRegistry,a=e.elementTimings,i=e.getParent,c=e.emitEvent,s=e.options,u=e.selfDestruct,l=null,p=[],d=Na(s),f=d.frame,m=d.hiddenSafariQuirkFixInput,h=d.hiddenInputBefore,_=d.hiddenInputAfter;if("payment"===s.componentName){var y=s.publicOptions.parsedIntentSecret,v=Ca({hosted:!1,intentSecret:y},e.options.locale?{locale:e.options.locale}:{});if("PAYMENT_INTENT"!==v.intentSecret.type)throw new r.a("You passed a client secret for a SetupIntent to the Payment Element, but the Payment Element does not support SetupIntents yet. Please pass a PaymentIntent client secret instead.");s.controller.action.retrievePaymentIntent(v).then((function(e){if("error"===e.type)return c("loaderror",{error:e.error}),void u();var t,r,o,a=(t=e.object,r=s.publicOptions,0===Ia(t.payment_method_types).length?{type:"validation_error",code:"unsupported_parameter",param:"payment_method_types",message:"The PaymentIntent you passed doesn't have any payment_method_types that are supported by the Payment Element. Please use a PaymentIntent with a least one of the following payment_method_types:\n\n"+Aa.join("\n")}:"off_session"!==t.setup_future_usage||r.business&&r.business.name?null:{type:"validation_error",code:"parameter_missing",param:"business[name]",message:"The PaymentIntent you passed has setup_future_usage set, but a business name was not passed to the Payment Element at creation. Please pass the business[name] option when calling elements.create('payment', options)."});if(a)return c("loaderror",{error:a}),void u();-1!==e.object.payment_method_types.indexOf(Xo.afterpay_clearpay)&&(o=Yo().then((function(e){var t=e.mountModal,n=e.unmountModal;return p.push((function(){n()})),t})),f._on("mount-afterpay-modal",(function(e){var t=e.locale,r=e.modalTheme;o.then((function(e){e({controller:s.controller,listenerRegistry:n,locale:t,modalTheme:r})}))}))),f.send({action:"stripe-intent-retrieved",payload:"payment_intent"===e.object.object?{type:"PAYMENT_INTENT",paymentIntent:e.object}:{type:"SETUP_INTENT",setupIntent:e.object}})}))}Object(oe.d)(t,Eo),t.appendChild(h),f.appendTo(t),t.appendChild(_),m&&t.appendChild(m),f.updateStyle(function(e){switch(e){case"authentication":return{height:"46px"};case"payment":return{height:"0"};default:return Object(o.a)(e)}}(s.componentName));var b="first";n.addEventListener(h,"focus",(function(){f.action.setFocusTarget(b).then((function(){f.focus()})),b="first"})),n.addEventListener(_,"focus",(function(){b="last",h.focus()})),f._on("load",(function(){h.disabled=!1,_.disabled=!1,p.push((function(){h.disabled=!0,_.disabled=!0})),f.send({action:"stripe-user-mount",payload:{timestamps:{stripeJsLoad:a.stripeJsLoadTimestamp.getAsPosixTime(),stripeCreate:a.stripeCreateTimestamp.getAsPosixTime(),groupCreate:a.groupCreateTimestamp.getAsPosixTime(),create:a.createTimestamp.getAsPosixTime(),mount:l?l.getAsPosixTime():0},rtl:So(i())}})})),_n.forEach((function(e){f._on(e,(function(t){return c(e,t)}))}));var g={};f._on("add_overlay",(function(e){var n=e.style,r=e.nonce,o=e.elementType,a=s.controller.createElementFrame(vn[o],o,s.groupId,{locale:s.locale,rtl:So(document.body)});g[r]=a,a.updateStyle(Ca({"min-width":"0","z-index":"1000"},n)),a.appendTo(t),a._on("ready",(function(){a.focus()})),p.push((function(){g[r]&&(a.destroy(),delete g[r])}))})),f._on("remove_overlay",(function(e){var t=e.nonce;g[t]&&(g[t].destroy(),delete g[t])})),f._on("set_styles",(function(e){f.updateStyle(e)})),f._on("redirectfocus",(function(e){var n=e.focusDirection;_.disabled=!0;var r=Object(Ke.b)(t,n);_.disabled=!1,r&&r.focus()}));return{update:function(e){f.update(e)},focus:function(){b="first_input",Ao(),h.focus()},blur:function(){f.blur(),h.blur()},clear:function(){f.clear()},mount:function(){l=new Wt.a;var e=i();if(e){Object(oe.f)(e,[[hn,!0]]),p.push((function(){Object(oe.f)(e,[[hn,!1]])}));var t=function(){Ao(),h.focus()};(function(e,t){for(var n=e.parentElement;n;){if(n&&t(n))return n;n=n.parentElement}return null})(e,(function(e){return"LABEL"===e.nodeName}))||(n.addEventListener(e,"click",t),p.push((function(){n.removeEventListener(e,"click",t)})));var r=e.getAttribute("id"),o=r?document.querySelector("label[for='"+r+"']"):null;o&&(n.addEventListener(o,"click",t),p.push((function(){n.removeEventListener(o,"click",t)})))}},unmount:function(){for(;p.length;)p.pop()();f.unmount()},collapse:function(){f.collapse()},_frame:f}},Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function xa(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var La=function(e){var t=e.options,n=xa(e,["options"]),r=t.controller,o=t.componentName,a=t.publicOptions,i=xa(t,["controller","componentName","publicOptions"]),c=function(e){switch(e){case"authentication":case"payment":return e;default:throw new Error("Unexpected element type for implementation")}}(o),s=Ta(c,a||{},"elements.create('"+c+"')",!1);s.warnings.forEach((function(e){return r.warn(e)}));var u=Ra(Ma({},n,{options:Ma({},i,{controller:r,componentName:c,publicOptions:s.value})})),l=u.update,p=xa(u,["update"]);return Ma({update:function(e){var t=Ta(c,e||{},c+".update()",!0);t.warnings.forEach((function(e){return r.warn(e)})),l(t.value)}},p)},Da=function(e,t){var n=function(e){if(!nn[e])throw new Error("Unexpected Element type: "+e+".");return nn[e].implementation}(e);switch(n){case"legacy":return new qo(t);case"afterpay_message":return Wo(t);case"frame":return La(t);default:return Object(o.a)(n,"Unexpected implementation type: "+n+".")}},Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Fa=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));Ua.call(o);var a=e.controller,i=e.componentName;o._controller=a,o._componentName=i,o._destroyed=!1;var c=document.createElement("div");return c.className=an,o._component=c,o._implementation=Da(o._componentName,{options:e,component:c,listenerRegistry:n,elementTimings:r,emitEvent:o._emitEvent,getParent:o._getParent,selfDestruct:function(){o.destroy()}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qa(t,[{key:"_checkDestroyed",value:function(){if(this._destroyed)throw new r.a("This Element has already been destroyed. Please create a new one.")}},{key:"_isMounted",value:function(){return!!document.body&&document.body.contains(this._component)}},{key:"_unmount",value:function(){var e=this._component.parentElement;e&&e.removeChild(this._component),this._implementation.unmount(),this._parent=null}},{key:"_mountToParent",value:function(e){var t=this._component.parentElement,n=this._isMounted();if(e===t){if(n)return;this.unmount(),this._mountTo(e)}else if(t){if(n)throw new r.a("This Element is already mounted. Use `unmount()` to unmount the Element before re-mounting.");this.unmount(),this._mountTo(e)}else this._mountTo(e)}},{key:"_mountTo",value:function(e){for(this._parent=e;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(this._component),this._implementation.mount()}}]),t}(me),Ua=function(){var e=this;this.mount=ue((function(t){e._checkDestroyed();var n=void 0;if(!t)throw new r.a("Missing argument. Make sure to call mount() with a valid DOM element or selector.");if("string"==typeof t){var o=document.querySelectorAll(t);if(o.length>1&&e._controller.warn("The selector you specified ("+t+") applies to "+o.length+" DOM elements that are currently on the page.\nThe Stripe Element will be mounted to the first one."),!o.length)throw new r.a("The selector you specified ("+t+") applies to no DOM elements that are currently on the page.\nMake sure the element exists on the page before calling mount().");n=o[0]}else{if(!t.appendChild)throw new r.a("Invalid DOM element. Make sure to call mount() with a valid DOM element or selector.");n=t}if("INPUT"===n.nodeName)throw new r.a("Stripe Elements must be mounted in a DOM element that\ncan contain child nodes. `input` elements are not permitted to have child\nnodes. Try using a `div` element instead.");n.children.length&&e._controller.warn("This Element will be mounted to a DOM element that contains child nodes."),e._mountToParent(n)})),this.update=ue((function(t){return e._checkDestroyed(),e._implementation.update(t),e})),this.focus=ue((function(t){return e._checkDestroyed(),t&&t.preventDefault(),e._implementation.focus(),e})),this.blur=ue((function(){return e._checkDestroyed(),e._implementation.blur(),e})),this.clear=ue((function(){return e._checkDestroyed(),e._implementation.clear(),e})),this.collapse=ue((function(){if(e._checkDestroyed(),!e._implementation.collapse)throw new r.a("Collapse is not supported by the "+e._componentName+" Element.");return e._implementation.collapse(),e})),this.unmount=ue((function(){return e._checkDestroyed(),e._unmount(),e})),this.destroy=ue((function(){return e._checkDestroyed(),e.unmount(),e._destroyed=!0,e._emitEvent("destroy"),e})),this._getParent=function(){return e._parent},this._emitEvent=function(t,n){return"loaderror"!==t||e._hasRegisteredListener("loaderror")||e._controller.keyMode()!==d.test||console.error("Unhandled "+e._componentName+" Element loaderror",n),e._emit(t,Ba({elementType:e._componentName},n))}},Ha=function(e,t){e._controller.report("legacy_private_property_used",{prop:t,componentName:e._componentName})};["_autofilled","_classes","_complete","_empty","_fakeInput","_focused","_frame","_invalid","_lastBackgroundColor","_lastFontSize","_lastHeight","_lastPadding","_lastSubmittedAt","_listenerRegistry","_paymentRequest"].forEach((function(e){Object.defineProperty(Fa.prototype,e,{enumerable:!1,get:function(){return Ha(this,e),this._implementation[e]}})}));["_formSubmit","_isIssuingElement"].forEach((function(e){Object.defineProperty(Fa.prototype,e,{enumerable:!1,writable:!1,value:function(){return Ha(this,e),this._implementation[e]()}})}));var Ya=Fa,za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ga(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Wa(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ka,Va={locale:k(x),fonts:k(Y(H)),betas:k(Y(j.apply(void 0,Wa(Jt))))},Ja=V(Va),$a=function(){var e=this;this.getElement=ue((function(t){var n,r=(null!=(n=t)&&n.__elementType&&"string"==typeof n.__elementType&&"function"==typeof n?n.__elementType:null)||t;return qn(r,e._betas),Object(a.a)(e._elements,(function(e){return e._componentName===r}))||null})),this.create=le((function(t,n){var o=new Wt.a;!function(e,t,n){if(qn(e,n),nn[e].unique&&-1!==t.indexOf(e))throw new r.a("Can only create one Element of type "+e+".");var o=nn[e].conflict,i=Object(a.e)(t,o);if(i.length){var c=i[0];throw new r.a("Cannot create an Element of type "+e+" after an Element of type "+c+" has already been created.")}}(t,e._elements.map((function(e){return e._componentName})),e._betas);var i=za({},n,e._commonOptions,{componentName:t,groupId:e._id}),c=(i.paymentRequest,Ga(i,["paymentRequest"])),s=(Re||Me)&&Object(ne.a)(c).length>2e3,u=!!e._pendingFonts||s,l=new Ya(za({publicOptions:n},e._commonOptions,{componentName:t,groupId:e._id,fonts:s?null:e._commonOptions.fonts,controller:e._controller,wait:u}),e._listenerRegistry,za({},e._timings,{createTimestamp:o}));return e._elements=[].concat(Wa(e._elements),[l]),l._on("destroy",(function(){e._elements=e._elements.filter((function(e){return e._componentName!==t}))})),s&&l._implementation.update({fonts:e._commonOptions.fonts}),l}))},Xa=function e(t,n,r,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$a.call(this);var i,c=new Wt.a,s=$(Ja,o||{},"elements()"),u=s.value;s.warnings.forEach((function(e){return t.warn(e)})),i=t.warn,In().match(/width=device-width/)||i('Elements requires "width=device-width" be set in your page\'s viewport meta tag.\n       For more information: https://stripe.com/docs/js/appendix/viewport_meta_requirements'),t.report("elements",{options:u});var l=u.betas,p=void 0===l?[]:l,d=u.fonts,f=void 0===d?[]:d,h=u.locale,_=Ga(u,["betas","fonts","locale"]);this._elements=[],this._id=ee("elements"),this._timings=za({},r,{groupCreateTimestamp:c}),this._controller=t,this._betas=p,this._listenerRegistry=n;var y=Dn(h,p);this._controller.action.fetchLocale({locale:y||"auto"});var v=f.filter((function(e){return!e.cssSrc||"string"!=typeof e.cssSrc})).map((function(e){return za({},e,{__resolveFontRelativeTo:window.location.href})})),b=f.map((function(e){return e.cssSrc})).reduce((function(e,t){return"string"==typeof t?[].concat(Wa(e),[t]):e}),[]).map((function(e){return Object(m.b)(e)?e:Object(m.c)(window.location.href,e)}));return this._pendingFonts=b.length,this._commonOptions=za({},_,{betas:p,locale:y,fonts:v}),b.forEach((function(e){if("string"==typeof e){var t=new Wt.a;Ln(e).then((function(n){a._controller.report("font.loaded",{load_time:t.getElapsedTime(),font_count:n.length,css_src:e});var r=n.map((function(t){return za({},t,{__resolveFontRelativeTo:e})}));a._controller.action.updateCSSFonts({fonts:r,groupId:a._id}),a._commonOptions=za({},a._commonOptions,{fonts:[].concat(Wa(a._commonOptions.fonts?a._commonOptions.fonts:[]),Wa(r))})})).catch((function(n){a._controller.report("error.font.not_loaded",{load_time:t.getElapsedTime(),message:n&&n.message&&n.message,css_src:e}),a._controller.warn("Failed to load CSS file at "+e+".")}))}})),this},Za=function(e,t,n,r,o,a,i){return new ho({controller:e,authentication:t,mids:n,rawOptions:r,betas:o,queryStrategyOverride:a,listenerRegistry:i})},Qa=V({name:C("react-stripe-js","stripe-js","react-stripe-elements"),version:(Ka=x,function(e,t){return null===e?g(e):Ka(e,t)}),startTime:k(B)}),ei=K({name:I(1,30),partner_id:k(A("pp_partner_")),version:k(I(5,15)),url:k(I(4,60))}),ti="publishable",ni="secret",ri="ephemeral",oi="restricted",ai="unknown",ii=function(e){if(""===e)throw new r.a("Please call Stripe() with your publishable key. You used an empty string.");switch(function(e){switch(e.split("_",1)[0]){case"pk":return ti;case"sk":return ni;case"ek":return ri;case"rk":return oi;default:return ai}}(e)){case ni:throw new r.a("You should not use your secret key with Stripe.js.\n          Please pass a publishable key instead.");case ri:throw new r.a("You should not use an ephemeral key with Stripe.js.\n          Please pass a publishable key instead.");case oi:throw new r.a("You should not use a restricted key with Stripe.js.\n          Please pass a publishable key instead.")}},ci=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var si=["elements","createToken","createPaymentMethod"],ui=["elements","createSource","createToken","createPaymentMethod"],li=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._gets=[],this._didDetect=!1,this._onDetection=function(e){n._didDetect=!0,t(e)},window.Stripe&&window.Stripe.__cachedInstances&&this._onDetection("react-stripe-elements")}return ci(e,[{key:"got",value:function(e){this._didDetect||("elements"===e?this._gets=["elements"]:this._gets.push(e),this._checkForWrapper())}},{key:"called",value:function(e){this._didDetect||(this._gets=this._gets.filter((function(t){return t!==e})))}},{key:"_checkForWrapper",value:function(){Object(a.c)(this._gets,si)?this._onDetection("react-stripe-js"):Object(a.c)(this._gets,ui)&&this._onDetection("react-stripe-elements")}}]),e}(),pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var di=function(e){if(!e||"object"!==(void 0===e?"undefined":pi(e)))return null;var t=e.type;return{type:"string"==typeof t?t:null,data:function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type"])}},fi=function(e){switch(e.type){case"object":return{source:e.object};case"error":return{error:e.error};default:return Object(o.a)(e)}},mi={source:V({id:A("src_"),client_secret:A("src_client_secret_")})},hi=V(mi),_i=function(e){switch(e.type){case"object":return{paymentMethod:e.object};case"error":return{error:e.error};default:return Object(o.a)(e)}},yi=function(e,t,n,o,a){if("string"==typeof n)return function(e,t,n,o,a){var i=Jo(o),c=di(i?a:o),s=c||{type:null,data:{}},u=s.type,l=s.data;if(u&&n!==u)return re.a.reject(new r.a("The type supplied in payment_method_data is not consistent."));if(i){var p=i._implementation._frame.id,d=i._componentName;return e.action.createPaymentMethodWithElement({frameId:p,elementName:d,type:n,paymentMethodData:l,mids:t}).then(_i)}return c?e.action.createPaymentMethodWithData({elementName:null,type:n,paymentMethodData:l,mids:t}).then(_i):re.a.reject(new r.a("Please provide either an Element or PaymentMethod creation parameters to createPaymentMethod."))}(e,t,n,o,a);try{var i=(d=n,$(_a(null),d,"createPaymentMethod").value),c=i.element,s=i.type,u=i.data;if(c){var l=c._implementation._frame.id,p=c._componentName;return e.action.createPaymentMethodWithElement({frameId:l,elementName:p,type:s,paymentMethodData:u,mids:t}).then(_i)}return e.action.createPaymentMethodWithData({elementName:null,type:s,paymentMethodData:u,mids:t}).then(_i)}catch(e){return re.a.reject(e)}var d},vi=function(e){return new re.a((function(t,n){var r=setTimeout((function(){t({type:"error",error:{code:"redirect_error",message:"Failed to redirect to "+e},locale:"en"})}),6e4);window.addEventListener("pagehide",(function(){clearTimeout(r)})),window.top.location.href=e}))},bi=function(e,t,n){e.report("redirect_error",{initiator:t,error:n.error})},gi=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei=function(e){return"https://stripe.com/docs/stripe-js/reference#stripe-"+e.split(/(?=[A-Z])/).join("-").toLowerCase()},Pi=function(e,t){return $(fa,e,"stripe."+t+" intent secret").value},Si=function(e,t){return $(ma,e,"stripe."+t+" intent secret").value},ki=function(e,t){return $(ya,t,e).value},Oi=function(e,t,n,o){if("valid"===J(Vo,n,t).type)throw new r.a("Do not pass an Element to stripe."+t+"() directly.\nFor more information: "+Ei(t));var a=$(va(e,t),n,t).value,i=a.source,c=a.paymentMethodData,s=a.paymentMethodOptions,u=a.paymentMethod,l=a.otherParams;if(null!=i&&(null!=c||null!=u))throw new r.a(t+": Expected either source or payment_method, but not both.");if(c){if(c.element)return{mode:{tag:"paymentMethod-from-element",type:e,elementName:c.element._componentName,frameId:c.element._implementation._frame.id,data:c.data,options:s,intentSecret:o},otherParams:l};if(e)return{mode:{tag:"paymentMethod-from-data",type:e,data:c.data,options:s,intentSecret:o},otherParams:l}}else{if(u)return{mode:{tag:"paymentMethod",paymentMethod:u,options:s,intentSecret:o},otherParams:l};if(i)return{mode:{tag:"source",source:i,intentSecret:o},otherParams:l}}return{mode:{tag:"none",intentSecret:o},otherParams:l}},Ti=function(e,t){var n={skipFingerprint:!1,sandboxFingerprintFrame:!1,sandboxChallengeFrame:!1};return-1!==e.indexOf("Y")&&(t.report("3ds2.optimization.Y"),n.skipFingerprint=!0),-1!==e.indexOf("k")&&(t.report("3ds2.optimization.k"),n.sandboxFingerprintFrame=!0),-1!==e.indexOf("5")&&(t.report("3ds2.optimization.5"),n.sandboxChallengeFrame=!0),n},Ai=function(e){return{american_express:"amex",visa:"visa",mastercard:"mastercard",discover:"discover"}[e]||"unknown"},Ii=function(e,t,n){if(!e)return null;if("use_stripe_sdk"===e.type){var r=e.use_stripe_sdk;switch(r.type){case"stripe_3ds2_fingerprint":return{type:"3ds2-fingerprint",threeDS2Source:r.three_d_secure_2_source,merchant:r.merchant,cardBrand:Ai(r.directory_server_name),transactionId:r.server_transaction_id,optimizations:Ti(r.three_ds_optimizations,n),methodUrl:r.three_ds_method_url,securePaymentConfirmation:r.secure_payment_confirmation};case"stripe_3ds2_challenge":return{type:"3ds2-challenge",threeDS2Source:r.stripe_js.three_d_secure_2_source,cardBrand:Ai(r.stripe_js.directory_server_name),transactionId:r.stripe_js.server_transaction_id,optimizations:Ti(r.stripe_js.three_ds_optimizations,n),acsTransactionId:r.stripe_js.acs_transaction_id,acsUrl:r.stripe_js.acs_url,creq:r.stripe_js.creq};case"three_d_secure_redirect":return{type:"3ds1-modal",url:r.stripe_js,source:r.source}}}if("redirect_to_url"===e.type)return{type:"redirect",redirectUrl:e.redirect_to_url.url};if("alipay_handle_redirect"===e.type)return{type:"redirect",redirectUrl:e.alipay_handle_redirect.url};if("boleto_display_details"===e.type)return{type:"boleto-display",hostedVoucherUrl:e.boleto_display_details.hosted_voucher_url};if("display_oxxo_details"===e.type)return{type:"oxxo-display",hostedVoucherUrl:e.display_oxxo_details.hosted_voucher_url};if("konbini_display_details"===e.type)return{type:"konbini-display",hostedVoucherUrl:e.konbini_display_details.hosted_voucher_url};if("oxxo_display_details"===e.type)return{type:"oxxo-display",hostedVoucherUrl:e.oxxo_display_details.hosted_voucher_url};if("authorize_with_url"===e.type){n.report("unexpected_action_type",{action:"authorize_with_url"});var o=e.authorize_with_url.url;if(!t)return{type:"redirect",redirectUrl:o};switch(t){case Xo.card:return{type:"3ds1-modal",url:o,source:null};case Xo.ideal:return{type:"redirect",redirectUrl:o}}}return"upi_await_notification"===e.type?{type:"upi_await_notification"}:"wechat_pay_display_qr_code"===e.type?{type:"wechat_pay_display_qr_code",qrCodeUrl:e.wechat_pay_display_qr_code.image_data_url}:null},Ci=function(e){switch(e.type){case"error":return{error:e.error};case"object":switch(e.object.object){case"payment_intent":return{paymentIntent:e.object};case"setup_intent":return{setupIntent:e.object};default:return Object(o.a)(e.object)}default:return Object(o.a)(e)}},ji=function(e,t,n,r){return t===X.g.PAYMENT_INTENT?n.action.retrievePaymentIntent({hosted:false,intentSecret:e,locale:r,asErrorIfNotSucceeded:true}).then(Ci):n.action.retrieveSetupIntent({hosted:false,intentSecret:e,locale:r,asErrorIfNotSucceeded:true}).then(Ci)},Ni=function(e,t,n,r,o){return t===X.g.PAYMENT_INTENT?n.action.cancelPaymentIntentSource({intentSecret:e,locale:o,sourceId:r}).then(Ci):n.action.cancelSetupIntentSource({intentSecret:e,locale:o,sourceId:r}).then(Ci)},Ri=function(e){return(e.error?e.error.payment_intent||e.error.setup_intent:e.paymentIntent||e.setupIntent)||null},Mi=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li=function(e,t,n,r,o){var a=In(),i=new Wt.a,c=function(e,t,n,r,o){return e.createLightboxFrame({type:X.c.AUTHORIZE_WITH_URL,options:xi({url:t,locale:o,intentId:n},r?{source:r}:{})})}(r,e.url,t.id,e.source,o);return c.show(),r.report("authorize_with_url.loading",{viewport:a,intentId:t.id}),c._on("load",(function(){r.report("authorize_with_url.loaded",{loadDuration:i.getElapsedTime(),intentId:t.id}),c.fadeInBackdrop()})),c._on("challenge_complete",(function(){c.fadeOutBackdrop()})),new re.a((function(a,s){var u=e.source;u&&c._once("cancel",(function(){re.a.all([Ni(t,n,r,u,o),c.destroy()]).then((function(e){var t=Mi(e,1)[0];return a(t)}))})),c._once("authorize_with_url_done",(function(){var e=c.destroy();!function(e,t,n,r,o){var a=!0,i=3,c=void 0,s=0;(function u(){s+=1,ji(e,t,n,r).then((function(e){if(a){var t=Ri(e);if(null!==t)switch(i=3,t.status){case"requires_action":case"requires_source_action":return void(c=setTimeout(u,5e3));case"processing":return void(c=setTimeout(u,1e3));default:o(e,s)}else if(i>0){var n=500*Math.pow(2,3-i);c=setTimeout(u,n),i-=1}else o(e,s)}}))})()}(t,n,r,o,(function(n,o){e.then((function(){r.report("authorize_with_url.done",{shownDuration:i.getElapsedTime(),success:!("error"in n),intentId:t.id,iterations:o}),a(n)}))}))}))}))},Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Bi=function(e,t){var n=t.intentSecret,r=t.controller,o=t.locale,a=t.hosted,i=r.createLightboxFrame({type:X.c.STRIPE_3DS2_CHALLENGE,options:{intentId:n.id,hosted:a,locale:o}});r.report("3ds2.challenge_frame.loading",{intentId:n.id,hosted:a}),i._on("challenge_complete",(function(){i.fadeOutBackdrop()}));var c=function(e){return new re.a((function(t){e._on("load",(function(){return t(e)}))}))}(i);return c.then((function(){return r.report("3ds2.challenge_frame.loaded",{intentId:n.id,hosted:a})})),a&&(i.show(),i.action.show3DS2Spinner({cardBrand:e.cardBrand})),c},qi=function(e,t,n){var r=n.challengeFrame,o=t.controller,a=t.intentSecret,i=t.intentType,c=t.locale,s=t.hosted;return new re.a((function(t){r.then((function(n){n._once("cancel",(function(){n.fadeOutBackdrop(),Ni(a,i,o,e.threeDS2Source,c).then(t)})),s||(n.show(),n.fadeInBackdrop());e.type;var r=e.optimizations,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","optimizations"]);n.action.perform3DS2Challenge(Di({},u,{shouldSandbox:r.sandboxChallengeFrame})).then((function(){t()}))}))}))},Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yi=function(e){if(!e||"object"!==(void 0===e?"undefined":Ui(e))||!e.type&&!e.code)return e;var t=function(t){return e[t]&&"string"==typeof e[t]?Hi({},t+"_id",e[t]):e[t]&&"object"===Ui(e[t])&&"string"==typeof e[t].id?Hi({},t+"_id",e[t].id):null};return Fi({type:e.type,code:e.code,param:e.param},t("payment_intent"),t("setup_intent"),t("payment_method"),t("source"))},zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Wi=function(e,t){var n=t.existingPayload,r=t.challengeFrame,o=t.startTimestamp,a=e.intentSecret,i=e.intentType,c=e.controller,s=e.locale,u=e.hosted,l=n?re.a.resolve(n):ji(a,i,c,s);return re.a.all([l,r.then((function(e){return e.destroy()}))]).then((function(e){var t=Gi(e,1)[0];return c.report("3ds2.done",zi({intentId:a.id,hosted:u,totalDuration:o.getElapsedTime()},t.error?{error:Yi(t.error),success:!1}:{success:!0})),t}))},Ki=function(e){var t=e.intentSecret,n=e.controller,r=e.hosted,o=e.locale,a=n.createHiddenFrame(X.c.STRIPE_3DS2_FINGERPRINT,{intentId:t.id,locale:o,hosted:r});n.report("3ds2.fingerprint_frame.loading",{hosted:r,intentId:t.id});var i=function(e){return new re.a((function(t){e._on("load",(function(){return t(e)}))}))}(a);return i.then((function(){n.report("3ds2.fingerprint_frame.loaded",{hosted:r,intentId:t.id})})),i},Vi=function(e,t){var n=t.intentSecret,r=t.controller,o=t.hosted;return e.optimizations.skipFingerprint?re.a.resolve({fingerprintAttempted:!1,fingerprintData:null}):""===e.methodUrl?(r.report("3ds2.fingerprint.no_method_url",{hosted:o,intentId:n.id}),re.a.resolve({fingerprintAttempted:!1,fingerprintData:null})):Ki(t).then((function(t){return t.action.perform3DS2Fingerprint({threeDS2Source:e.threeDS2Source,merchant:e.merchant,transactionId:e.transactionId,methodUrl:e.methodUrl,shouldSandbox:e.optimizations.sandboxFingerprintFrame}).then((function(e){return t.destroy(),e}))}))},Ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i=function(e,t,n){var r=t.controller,o=n.startTimestamp,a=e.securePaymentConfirmation;if(void 0===window.PaymentCredential||!a||0===a.credentials.length)return re.a.resolve(null);try{var i=[{supportedMethods:"secure-payment-confirmation",data:{action:"authenticate",credentialIds:a.credentials.map(ia),networkData:ia(a.challenge),timeout:6e4,fallbackUrl:window.location.toString()}}],c={total:{label:"Total",amount:a.amount}};return new window.PaymentRequest(i,c).show().then((function(t){t.complete("success"),r.report("3ds2.secure_payment_confirmation.completed",{source:e.threeDS2Source,timeToCompleteSecurePaymentConfirmation:o.getElapsedTime()});var n={type:"public-key",id:t.details.info.id,rawId:t.details.info.id,response:{authenticatorData:ca(t.details.info.authenticator_data),clientDataJSON:ca(t.details.info.client_data_json),signature:ca(t.details.signature),userHandle:ca(t.details.user_handle)},paymentData:JSON.parse(t.details.challenge)};return JSON.stringify(n)})).catch((function(t){return r.report("3ds2.secure_payment_confirmation.payment_request_error",{source:e.threeDS2Source,error:Ji({name:t.name,message:t.message},t)}),null}))}catch(t){r.report("3ds2.secure_payment_confirmation.unexpected_error",{source:e.threeDS2Source,error:Ji({name:t.name,message:t.message},t)})}return re.a.resolve(null)},Xi=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Zi=function(e,t){var n=new Wt.a,r=Bi(e,t);switch(e.type){case"3ds2-challenge":return qi(e,t,{challengeFrame:r}).then((function(e){return Wi(t,{existingPayload:e,challengeFrame:r,startTimestamp:n})}));case"3ds2-fingerprint":return re.a.all([Vi(e,t),$i(e,t,{startTimestamp:n})]).then((function(n){var r=Xi(n,2),o=r[0],a=r[1];return function(e,t,n){var r=n.fingerprintResult,o=n.securePaymentConfirmationCryptogram,a=t.controller,i=t.hosted,c=t.intentSecret;return a.report("3ds2.authenticate",{hosted:i,intentId:c.id}),a.action.authenticate3DS2({threeDS2Source:e.threeDS2Source,outerWindowWidth:window.innerWidth,hosted:i,fingerprintResult:r,securePaymentConfirmationCryptogram:o}).then((function(e){return"error"===e.type?a.report("3ds2.authenticate.error",{error:e.error,hosted:i,intentId:c.id}):a.report("3ds2.authenticate.success",{hosted:i,intentId:c.id}),e}))}(e,t,{fingerprintResult:o,securePaymentConfirmationCryptogram:a})})).then((function(n){return function(e,t,n){var r=n.authenticationResult,o=n.challengeFrame,a=t.controller,i=t.hosted,c=t.intentSecret;if("error"===r.type)return re.a.resolve();var s=r.object,u=s.state,l=s.ares,p=s.creq;return"delegated"===u?(a.report("3ds2.secure_payment_confirmation_authenticated",{hosted:i,intentId:c.id}),re.a.resolve()):null===l?re.a.resolve():"C"!==l.transStatus||null==p?(a.report("3ds2.frictionless",{hosted:i,intentId:c.id}),re.a.resolve()):qi({type:"3ds2-challenge",threeDS2Source:e.threeDS2Source,cardBrand:e.cardBrand,transactionId:e.transactionId,acsUrl:l.acsURL,acsTransactionId:l.acsTransID,optimizations:e.optimizations,creq:p},t,{challengeFrame:o})}(e,t,{authenticationResult:n,challengeFrame:r})})).then((function(e){return Wi(t,{existingPayload:e,challengeFrame:r,startTimestamp:n})}));default:return Object(o.a)(e)}},Qi=function(e,t){var n=e.createLightboxFrame({type:X.c.LIGHTBOX_APP,options:t});return n.show(),n._on("nested-frame-loaded",(function(){n.fadeInBackdrop(),setTimeout((function(){n.action.openLightboxFrame()}),200)})),n},ec=function(e){return e.action.closeLightboxFrame(),e.destroy()};var tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc=function(e){switch(e.type){case"error":var t=e.error;if("payment_intent_unexpected_state"===t.code&&"object"===tc(t.payment_intent)&&null!=t.payment_intent&&"string"==typeof t.payment_intent.status&&oa(t.payment_intent.status)){var n=t.payment_intent;return{type:"object",locale:e.locale,object:n}}return e;case"object":return e;default:return Object(o.a)(e)}},rc=function(e,t,n,o,a){var i=Ii(aa(t),n,e),c=ra(t);if(!i)return re.a.resolve({paymentIntent:t});switch(i.type){case"3ds1-modal":return Li(i,c,X.g.PAYMENT_INTENT,e,o);case"3ds2-fingerprint":case"3ds2-challenge":return Zi(i,{intentSecret:c,intentType:X.g.PAYMENT_INTENT,controller:e,locale:o,hosted:a});case"redirect":return function(e,t,n){return vi(t).then((function(t){return bi(n,"next_action redirect",t),ta(t,e)}))}(t,i.redirectUrl,e);case"boleto-display":if(void 0===i.hostedVoucherUrl)throw new r.a("Expect `next_action.boleto_display_details.hosted_voucher_url` of `PaymentIntent` to be not undefined. Please refer to \n\nhttps://stripe.com/docs/api/payment_intents/object#payment_intent_object-next_action-boleto_display_details-hosted_voucher_url");return function(e){var t=e.controller,n=e.url,r=e.intent,o=e.locale,a=Qi(t,{url:n,size:"600x700",locale:o,frameTitle:"boleto.voucher_frame_title",useLightboxHostedCloseButton:!1});return new re.a((function(e){a._on("request-close",(function(){ec(a).then((function(){e({paymentIntent:r})}))}))}))}({controller:e,locale:o,url:i.hostedVoucherUrl,intent:t});case"konbini-display":if(void 0===i.hostedVoucherUrl)throw new r.a("Expected option `handleActions` to be `false`. The Konbini pilot does not handle the next actions for you automatically yet (e.g. displaying Konbini payment details). Please refer to the Stripe Konbini integration guide for more info: \n\nhttps://stripe.com/docs/payments/konbini");return function(e){var t=e.controller,n=e.url,r=e.intent,o=e.locale,a=Qi(t,{url:n,size:"600x900",locale:o,frameTitle:"konbini.voucher_frame_title",useLightboxHostedCloseButton:!1});return new re.a((function(e){a._on("request-close",(function(){ec(a).then((function(){e({paymentIntent:r})}))}))}))}({controller:e,locale:o,url:i.hostedVoucherUrl,intent:t});case"oxxo-display":if(void 0===i.hostedVoucherUrl)throw new r.a("To handle the next actions automatically, set the API version to oxxo_beta=v2. Please refer to the Stripe OXXO integration guide for more info: \n\nhttps://stripe.com/docs/payments/oxxo");return function(e){var t=e.controller,n=e.url,r=e.intent,o=e.locale,a=Qi(t,{url:n,size:"600x700",locale:o,frameTitle:"oxxo.voucher_frame_title",useLightboxHostedCloseButton:!1});return new re.a((function(e){a._on("request-close",(function(){ec(a).then((function(){e({paymentIntent:r})}))}))}))}({controller:e,locale:o,url:i.hostedVoucherUrl,intent:t});case"upi_await_notification":return function(e){var t=e.controller,n=e.intentSecret,r=e.intentType,o=e.locale;return new re.a((function(e){setTimeout((function a(){ji(n,r,t,o).then((function(t){var n=Ri(t);if(null!==n)switch(n.status){case"requires_action":return void setTimeout(a,1e4);default:e(t)}}))}),5e3)}))}({controller:e,intentSecret:c,intentType:X.g.PAYMENT_INTENT,locale:o});case"wechat_pay_display_qr_code":return function(e){var t=e.controller,n=e.intent,r=e.intentType,o=e.intentSecret,a=e.locale,i=aa(n);if(!i||"wechat_pay_display_qr_code"!==i.type)throw new Error("Expected next_action.wechat_pay_display_qr_code");var c=t.createLightboxFrame({type:X.c.WECHAT_PAY_INNER,options:{qrCodeImageDataUrl:i.wechat_pay_display_qr_code.image_data_url,qrCodeUrl:i.wechat_pay_display_qr_code.data,locale:a}}),s=null;return new re.a((function(e,i){c._on("load",(function(){c.show(),c.fadeInBackdrop()})),c._once("request-close",(function(){ec(c).then((function(){s&&clearTimeout(s),e({paymentIntent:n})}))})),c._on("complete",(function(t){ec(c).then((function(){s&&clearTimeout(s),e(t)}))})),s=setTimeout((function n(){ji(o,r,t,a).then((function(t){var r=Ri(t);if(null!==r)switch(r.status){case"requires_action":return void(s=setTimeout(n,2e3));default:c.destroy(!0).then((function(){"payment_intent"===r.object?e({paymentIntent:r}):e({setupIntent:r})}))}}))}),5e3)}))}({controller:e,locale:o,intent:t,intentSecret:c,intentType:X.g.PAYMENT_INTENT});default:return re.a.resolve({paymentIntent:t})}},oc=function(e,t,n,r,o){return rc(e,t,n,r,o).then((function(e){if(e.setupIntent)throw new Error("Got unexpected SetupIntent response");return e}))},ac=function(e,t,n,r){return function(a){var i=nc(a);switch(i.type){case"error":var c=i.error,s=c.payment_intent;return n&&s&&"payment_intent_unexpected_state"===c.code&&("succeeded"===s.status||"requires_capture"===s.status)?re.a.resolve({paymentIntent:s}):re.a.resolve(ta(a));case"object":var u=i.object;return oc(e,u,t,i.locale,r);default:return Object(o.a)(i)}}},ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var cc=function(e,t){return function(n,r,o,a,i){var c=Pi(o,e),s=Oi(t,e,a,c),u=ki(e,i),l="none"===s.mode.tag,p=n.action.confirmPaymentIntent(ic({},s,{expectedType:t,options:u,mids:r}));return u.handleActions?p.then(ac(n,t,l,!1)):p.then(ta)}},sc=cc("confirmAcssDebitPayment",Xo.acss_debit),uc=cc("confirmAfterpayClearpayPayment",Xo.afterpay_clearpay),lc=cc("confirmAuBecsDebitPayment",Xo.au_becs_debit),pc=cc("confirmBacsDebitPayment",Xo.bacs_debit),dc=cc("confirmBancontactPayment",Xo.bancontact),fc=cc("confirmBoletoPayment",Xo.boleto),mc=cc("confirmCardPayment",Xo.card),hc=cc("confirmEpsPayment",Xo.eps),_c=cc("confirmFpxPayment",Xo.fpx),yc=cc("confirmGiropayPayment",Xo.giropay),vc=cc("confirmGrabPayPayment",Xo.grabpay),bc=cc("confirmIdealPayment",Xo.ideal),gc=cc("confirmKlarnaPayment",Xo.klarna),wc=cc("confirmKonbiniPayment",Xo.konbini),Ec=cc("confirmOxxoPayment",Xo.oxxo),Pc=cc("confirmAlipayPayment",Xo.alipay),Sc=cc("confirmP24Payment",Xo.p24),kc=cc("confirmPayPalPayment",Xo.paypal),Oc=cc("confirmSepaDebitPayment",Xo.sepa_debit),Tc=cc("confirmSofortPayment",Xo.sofort),Ac=cc("confirmIdBankTransferPayment",Xo.id_bank_transfer),Ic=cc("confirmUpiPayment",Xo.upi),Cc=function(e,t,n,o,a){if(a&&!0===a.handleActions)throw new r.a("Expected option `handleActions` to be `false`.");var i=ic({},o,{payment_method:ic({},o&&o.payment_method||{}),payment_method_options:ic({},o&&o.payment_method_options||{},{wechat_pay:ic({},o&&o.payment_method_options&&o.payment_method_options.wechat_pay||{},{client:"web"})})});return cc("confirmWechatPayPayment",Xo.wechat_pay)(e,t,n,i,a)},jc=function(e,t,n,o,a){if(!o||!o.payment_method_options||!o.payment_method_options.wechat_pay||"web"!==o.payment_method_options.wechat_pay.client&&"mobile_web"!==o.payment_method_options.wechat_pay.client)throw new r.a("Expected client value `web` or `mobile_web` in payment_method_options.");var i=ic({},o,{payment_method:ic({},o&&o.payment_method||{}),payment_method_options:ic({},o&&o.payment_method_options||{},{wechat_pay:ic({},o&&o.payment_method_options&&o.payment_method_options.wechat_pay||{})})});return cc("confirmWechatPayPayment",Xo.wechat_pay)(e,t,n,i,a)},Nc=cc("confirmNetbankingPayment",Xo.netbanking),Rc=function(e,t,n,r){var o=Pi(n,"updatePaymentIntent"),a=function(e){if(!e||!e.payment_method||!e.payment_method.type||"string"!=typeof e.payment_method.type)return null;var t=e.payment_method.type;return Xo[t]||null}(r),i=Oi(a,"updatePaymentIntent",r,o);return e.action.updatePaymentIntent(ic({},i,{expectedType:a,mids:t,options:null})).then(ta)},Mc=function(e,t,n){var o=$(V({clientSecret:k(x),element:k(H),confirmParams:H}),n,"stripe.confirmPayment()"),a=o.value,i=a.element,c=a.confirmParams,s=a.clientSecret;o.warnings.forEach((function(t){return e.warn(t)}));var u,l=$(V({return_url:x,payment_method_data:k(H),payment_method_options:k(H),setup_future_usage:(u="stripe.confirmPayment(): do not pass setup_future_usage at confirm time. Instead, pass setup_future_usage when the PaymentIntent is created.",function(e,t){return void 0===e?g(void 0):w(new r.a(u))})}),c,"stripe.confirmPayment()",{path:["confirmParams"]}).value,p=ic({},c,l);if(s&&i)throw new r.a("stripe.confirmPayment(): Expected either `element` or `clientSecret`, but not both.");if(i){var d=$(Vo,i,"stripe.confirmPayment()").value;if("payment"!==d._componentName)throw new r.a('stripe.confirmPayment() only works with the "payment" element');var f=p.payment_method_data,m=p.payment_method_options,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(p,["payment_method_data","payment_method_options"]);return e.action.confirmPaymentIntent({mode:{tag:"payment-element",frameId:d._implementation._frame.id,data:f||{},options:m||{}},otherParams:h,expectedType:null,mids:t,options:{handleActions:!0}}).then(ac(e,null,!1,!1)).then((function(t){return t.paymentIntent?vi(function(e,t){var n=e.split("#"),r=gi(n,2),o=r[0],a=r[1],i=o.split("?"),c=gi(i,2),s=c[0],u=c[1],l="?";(u||"").split("&").forEach((function(e,t){var n=e.split("="),r=gi(n,1)[0];-1===["payment_intent","payment_intent_client_secret","redirect_status"].indexOf(r)&&(l+=("?"===l?"":"&")+e)})),l+=("?"===l?"":"&")+"payment_intent="+t.id,l+="&payment_intent_client_secret="+t.client_secret;var p=s+(l+="&redirect_status=succeeded");return a?p+"#"+a:p}(p.return_url,t.paymentIntent)).then((function(n){return bi(e,"confirmPayment redirect",n),ta(n,t.paymentIntent)})):t}))}throw s?new r.a("stripe.confirmPayment(): With a `clientSecret` is not supported yet. Please use the payment element."):new r.a("stripe.confirmPayment(): Expected either `element` or `clientSecret`, but got neither.")},xc=function(e,t,n){var r=Pi(t,"verifyMicrodepositsForPayment"),o=$(H,n,"stripe.verifyMicrodepositsForPayment");return e.action.verifyMicrodepositsForPayment({intentSecret:r,data:o.value}).then(ta)},Lc=function(e,t){var n=Pi(e,"handleCardAction");return t.action.retrievePaymentIntent({intentSecret:n,hosted:!1}).then((function(e){var n=nc(e);switch(n.type){case"error":return re.a.resolve(ta(e));case"object":var a=n.object;if(oa(a.status)){if("manual"!==a.confirmation_method)throw new r.a("handleCardAction: The PaymentIntent supplied does not require manual server-side confirmation. Please use confirmCardPayment instead to complete the payment.");return oc(t,a,Xo.card,n.locale,!1)}throw new r.a("handleCardAction: The PaymentIntent supplied is not in the requires_action state.");default:return Object(o.a)(n)}}))},Dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc={type:"validation_error",code:"incomplete_payment_details"},Fc=function(e,t){if("object"===(void 0===e?"undefined":wi(e))&&null!==e&&void 0!==e.handleActions)throw new r.a("stripe."+t+" does not support a handleActions option. For more information, see "+Ei(t))},Uc=function(e){var t=e.mode;return!("paymentMethod-from-data"===t.tag&&t.data.acss_debit)},Hc=function(e){return null!==e&&"object"===(void 0===e?"undefined":Bc(e))&&!0===e.skipMandate},Yc=function(e){var t=e.controller,n=e.intentSecret,r=e.mode,o=e.confirmIntentData;return t.action.createAcssDebitSession({intentSecret:n,confirmIntentData:o,mode:r}).then((function(e){if("error"===e.type)return{type:"error",error:e.error};var n=Qi(t,{url:e.object.url,size:"400x600",locale:e.locale,frameTitle:"acss.dialog_frame_title",useLightboxHostedCloseButton:!1});return new re.a((function(e){n._on("request-close",(function(){ec(n).then((function(){return t.action.localizeError(qc)})).then((function(t){e({type:"error",error:t})}))})),n._on("session-complete",(function(t){var r=t.paymentMethod;ec(n).then((function(){e({type:"success",paymentMethod:r})}))}))}))}))},zc=function(e,t,n,r,a){var i="confirmAcssDebitPayment",c=Xo.acss_debit,s=Pi(n,i),u=Oi(c,i,r,s);return Fc(a,i),Hc(a)||!Uc(u)?e.action.confirmPaymentIntent(Dc({},u,{expectedType:c,options:{handleActions:!1},mids:t})).then(ta):Yc({controller:e,intentSecret:s,mode:"payment",confirmIntentData:u}).then((function(n){switch(n.type){case"error":return{error:n.error};case"success":return e.action.confirmPaymentIntent({mode:{tag:"paymentMethod",paymentMethod:n.paymentMethod,options:u.mode.options||{},intentSecret:s},otherParams:u.otherParams,expectedType:c,options:{handleActions:!1},mids:t}).then(ta);default:return Object(o.a)(n.type)}}))},Gc=function(e,t,n,r,a){var i="confirmAcssDebitSetup",c=Xo.acss_debit,s=Si(n,i),u=Oi(c,i,r,s);return Fc(a,i),Hc(a)||!Uc(u)?e.action.confirmSetupIntent(Dc({},u,{expectedType:c,options:{handleActions:!1},mids:t})).then(na):Yc({controller:e,intentSecret:s,mode:"setup",confirmIntentData:u}).then((function(n){switch(n.type){case"error":return{error:n.error};case"success":return e.action.confirmSetupIntent({mode:{tag:"paymentMethod",paymentMethod:n.paymentMethod,options:u.mode.options||{},intentSecret:s},otherParams:u.otherParams,expectedType:c,options:{handleActions:!1},mids:t}).then(na);default:return Object(o.a)(n.type)}}))},Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc={type:"validation_error",code:"errors.code.unexpected"},Vc={type:"validation_error",code:"errors.code.incomplete_payment_details"},Jc=function(e,t,n,r,o){var a="confirmInstantDebitsPilotPayment",i=Pi(n,a),c=ki(a,o),s=Oi(null,a,r,i),u=e.createLightboxFrame({type:X.c.INSTANT_DEBITS_APP,options:{intentId:i.id,clientSecret:i.clientSecret,apiKey:e._apiKey,returnOnConfirm:!1===c.handleActions}});return u.show(),u.fadeInBackdrop(),new re.a((function(n){var r=function(e){u.fadeOutBackdrop().then((function(){n(e)}))};u._once("cancel",(function(){u.fadeOutBackdrop(),e.action.localizeError(Vc).then((function(e){r({error:e})}))})),u._on("instant-debits-fetch-payment-intent",(function(){e.action.retrievePaymentIntent({intentSecret:i,hosted:!1}).then((function(t){if(t.object){var o=t.object;u.send({action:"stripe-instant-debits-received-payment-intent",payload:{paymentIntent:o}}),!1===c.handleActions&&setTimeout((function(){u.fadeOutBackdrop(),r(ta(t))}),2e3)}else{var a=t.error;e.action.localizeError(a).then((function(e){n({error:e})}))}}))})),u._on("instant-debits-attempt-payment",(function(n){e.action.confirmPaymentIntent(Wc({},s,{mode:{tag:"none",intentSecret:i},expectedType:null,options:c,mids:t})).then((function(t){t.object?(u.send({action:"stripe-instant-debits-successful-payment-intent",payload:{paymentIntent:t.object}}),setTimeout((function(){r(ta(t))}),2e3)):e.action.localizeError(t.error).then((function(e){r({error:e})}))}))})),u._on("instant-debits-flow-error",(function(t){e.action.localizeError(Kc).then((function(e){r({error:e})}))}))}))},$c=(A("bcsess_"),function(e){return"linked-accounts."+e}),Xc={CLOSE:$c("close"),COMPLETE:$c("complete")},Zc=function(e,t,n,r){return r.report("link-accounts.launched",{linkAccountSessionCreatorType:t,linkAccountSessionCreatorId:n}),new re.a((function(a){var i=void 0;try{i=r.createLightboxFrame({type:X.c.LINKED_ACCOUNTS_INNER,options:{clientSecret:e,linkAccountSessionCreatorType:t,linkAccountSessionCreatorId:n,apiKey:r._apiKey}})}catch(e){return a({error:{message:e.message}})}return i.show(),i.fadeInBackdrop(),i._on(Xc.CLOSE,(function(){i.fadeOutBackdrop()})),i._on(Xc.COMPLETE,(function(e){i.destroy(!0).then((function(){var t={};e.error&&(t.errorMessage=e.error.message),r.report("link-accounts.complete",t),a(function(e){switch(e.type){case"object":return{linkedAccounts:e.object.data};case"error":return{error:{message:e.error.message||"stripe.linkAccounts: an unknown error occurred."}};default:return Object(o.a)(e)}}(e))}))})),null}))},Qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function ts(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ns=function(e,t){if(null==e)return g(null);var n=e.type,r=ts(e,["type"]),o=L(x,(function(){return null}))(n,S(t,"type"));return"error"===o.type?o:g({type:o.value,data:r})},rs=function(e,t,n,o){if(null===e){if(null===t){var a=o?"source_data":"payment_method_data";throw new r.a(n+": you must additionally specify the type of payment method to create within "+a+".")}return t}if(null===t)return e;if(t!==e)throw new r.a(n+": you specified `type: "+t+"`, but "+n+" will create a "+e+" payment method.");return e},os=function(e){return function(t,n){if("object"===(void 0===t?"undefined":es(t))&&null!==t){var r=t.source,o=t.source_data,a=t.payment_method,i=t.payment_method_data,c=ts(t,["source","source_data","payment_method","payment_method_data"]);if(null!=r&&"string"!=typeof r)return E("string",void 0===r?"undefined":es(r),S(n,"source"));if(null!=a&&"string"!=typeof a)return E("string",void 0===a?"undefined":es(a),S(n,"payment_method"));if(null!=o&&"object"!==(void 0===o?"undefined":es(o)))return E("object",void 0===o?"undefined":es(o),S(n,"source_data"));if(null!=i&&"object"!==(void 0===i?"undefined":es(i)))return E("object",void 0===i?"undefined":es(i),S(n,"payment_method_data"));var s=ns(o,S(n,"source_data"));if("error"===s.type)return s;var u=s.value,l=ns(i,S(n,"payment_method_data"));if("error"===l.type)return l;var p=l.value;return g({sourceData:u,source:null==r?null:r,paymentMethodData:p,paymentMethod:null==a?null:a,otherParams:Qc({},e,c)})}return E("object",null===t?"null":void 0===t?"undefined":es(t),n)}},as=function(e){return function(t,n){if(void 0===t)return g({sourceData:null,paymentMethodData:null,source:null,paymentMethod:null,otherParams:{}});if("object"!==(void 0===t?"undefined":es(t)))return E("object",void 0===t?"undefined":es(t),n);if(null===t)return E("object","null",n);if(e){if(!t.payment_intent)return g({sourceData:null,paymentMethodData:null,source:null,paymentMethod:null,otherParams:t});var o=t.payment_intent,a=ts(t,["payment_intent"]);return os(a)(o,S(n,"payment_intent"))}return t.payment_intent?w(new r.a("The payment_intent parameter has been removed. To fix, move everything nested under the payment_intent parameter to the top-level object.")):os({})(t,n)}},is=function(e,t,n,o,a,i,c){var s=J(Vo,a,o);if("error"===s.type)return null;var u=s.value,l=$(as(t),i,o).value,p=l.sourceData,d=l.source,f=l.paymentMethodData,m=l.paymentMethod,h=l.otherParams;if(!e&&p)throw new r.a(o+": Expected payment_method_data, not source_data.");if(null!=d)throw new r.a("When calling "+o+" on an Element, you can't pass in a pre-existing source ID, as a source will be created using the Element.");if(null!=m)throw new r.a("When calling "+o+" on an Element, you can't pass in a pre-existing PaymentMethod ID, as a PaymentMethod will be created using the Element.");var _=u._componentName,y=u._implementation._frame.id,v=p||f||{type:null,data:{}},b=v.type,g=v.data,w=function(e,t){return null!=t?t:Qo(e)?null:Zo[e]||null}(_,b),E=e&&!f,P={elementName:_,frameId:y,type:rs(n,w,o,E),data:g};return E?{mode:Qc({tag:"source-from-element",intentSecret:c},P),otherParams:h}:{mode:Qc({tag:"paymentMethod-from-element",options:null,intentSecret:c},P),otherParams:h}},cs=function(e,t,n,o,a){return function(i,c){var s=is(e,t,n,o,i,c,a);if(s)return s;var u=function(e,t,n,o,a,i,c){var s=$(as(t),a,o).value,u=s.sourceData,l=s.source,p=s.paymentMethodData,d=s.paymentMethod,f=s.otherParams;if(!e&&u)throw new r.a(o+": Expected payment_method, source, or payment_method_data, not source_data.");if(null!==l&&null!==u)throw new r.a(o+": Expected either source or source_data, but not both.");if(null!==d&&null!==p)throw new r.a(o+": Expected either payment_method or payment_method_data, but not both.");if(null!==d&&null!==l)throw new r.a(o+": Expected either payment_method or source, but not both.");if(u||p){var m=u||p||{},h=m.type,_=m.data,y=e&&!p,v=rs(n,h,o,y);return y?{mode:{tag:"source-from-data",intentSecret:c,type:v,data:_},otherParams:f}:{mode:{tag:"paymentMethod-from-data",type:v,data:_,intentSecret:c,options:null},otherParams:f}}return null!==l?{mode:{tag:"source",intentSecret:c,source:l},otherParams:f}:null!==d?{mode:{tag:"paymentMethod",paymentMethod:d,intentSecret:c,options:null},otherParams:f}:{mode:{tag:"none",intentSecret:c},otherParams:f}}(e,t,n,o,i,0,a);if(u)return u;throw new r.a("Expected: stripe."+o+"(intentSecret, element[, data]) or stripe."+o+"(intentSecret[, data]). Please see the docs for more usage examples https://stripe.com/docs/payments/dynamic-authentication")}},ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us=function(e,t,n,r,o,a){var i=$(fa,r,"stripe.confirmPaymentIntent intent secret").value,c=cs(e,!1,null,"confirmPaymentIntent",i)(o,a);return t.action.confirmPaymentIntent(ss({},c,{expectedType:null,options:{handleActions:!1},mids:n})).then(ta)},ls=function(e,t,n,r,o,a,i){var c=$(fa,o,"stripe.handleCardPayment intent secret").value,s=Xo.card,u=cs(e,r,s,"handleCardPayment",c)(a,i),l=!a&&!i;return t.action.confirmPaymentIntent(ss({},u,{expectedType:s,options:{handleActions:!0},mids:n})).then(ac(t,s,l,!1))},ps=function(e,t,n,r,o,a){var i=$(fa,r,"stripe.handleSepaDebitPayment intent secret").value,c=Xo.sepa_debit,s=cs(!1,n,c,"handleSepaDebitPayment",i)(o,a),u=!o&&!a;return e.action.confirmPaymentIntent(ss({},s,{expectedType:c,options:{handleActions:!0},mids:t})).then(ac(e,c,u,!1))},ds=function(e,t,n,r,o,a,i){var c=$(fa,o,"stripe.handleIdealPayment intent secret").value,s=Xo.ideal,u=cs(e,r,s,"handleIdealPayment",c)(a,i),l=!a&&!i;return t.action.confirmPaymentIntent(ss({},u,{expectedType:s,options:{handleActions:!0},mids:n})).then(ac(t,s,l,!1))},fs=function(e,t,n,r,o,a){var i=$(fa,r,"stripe.handleFpxPayment intent secret").value,c=Xo.fpx,s=cs(!1,n,c,"handleFpxPayment",i)(o,a),u=!o&&!a;return e.action.confirmPaymentIntent(ss({},s,{expectedType:c,options:{handleActions:!0},mids:t})).then(ac(e,c,u,!1))},ms=function(e){switch(e.type){case"object":return{returnIntent:e.object};case"error":return{error:e.error};default:return Object(o.a)(e)}},hs=function(e,t,n){return e.action.confirmReturnIntent({returnIntentId:t,data:n}).then(ms)},_s=function(e,t,n,r,o){var a=Ii(aa(t),n,e),i=ra(t);if(!a)return re.a.resolve({setupIntent:t});switch(a.type){case"3ds1-modal":return Li(a,i,X.g.SETUP_INTENT,e,r);case"3ds2-fingerprint":case"3ds2-challenge":return Zi(a,{intentSecret:i,intentType:X.g.SETUP_INTENT,controller:e,locale:r,hosted:o});case"redirect":return function(e,t,n){return vi(t).then((function(e){return bi(n,"next_action redirect",e),na(e)}))}(0,a.redirectUrl,e);default:return re.a.resolve({setupIntent:t})}},ys=function(e,t,n,r,o){return _s(e,t,n,r,o).then((function(e){if(e.paymentIntent)throw new Error("Got unexpected PaymentIntent response");return e}))},vs=function(e,t,n,r){return function(a){switch(a.type){case"error":var i=a.error,c=i.setup_intent;return n&&c&&"succeeded"===c.status?re.a.resolve({setupIntent:c}):re.a.resolve({error:i});case"object":var s=a.object;return ys(e,s,t,a.locale,r);default:return Object(o.a)(a)}}},bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gs=function(e,t){return function(n,r,o,a,i){var c=Si(o,e),s=Oi(t,e,a,c),u=ki(e,i),l="none"===s.mode.tag,p=n.action.confirmSetupIntent(bs({},s,{expectedType:t,options:u,mids:r}));return u.handleActions?p.then(vs(n,t,l,!1)):p.then(na)}},ws=gs("confirmAcssDebitSetup",Xo.acss_debit),Es=gs("confirmCardSetup",Xo.card),Ps=gs("confirmSepaDebitSetup",Xo.sepa_debit),Ss=gs("confirmAuBecsDebitSetup",Xo.au_becs_debit),ks=gs("confirmBacsDebitSetup",Xo.bacs_debit),Os=gs("confirmIdealSetup",Xo.ideal),Ts=gs("confirmAlipaySetup",Xo.alipay),As=gs("confirmSofortSetup",Xo.sofort),Is=gs("confirmBancontactSetup",Xo.bancontact),Cs=gs("confirmIdBankTransferSetup",Xo.id_bank_transfer),js=gs("confirmPayPalSetup",Xo.paypal),Ns=function(e,t,n){var r=Si(t,"verifyMicrodepositsForSetup"),o=$(H,n,"stripe.verifyMicrodepositsForSetup");return e.action.verifyMicrodepositsForSetup({intentSecret:r,data:o.value}).then(na)},Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms=function(e,t,n,r,o){var a=$(ma,n,"stripe.handleCardSetup intent secret").value,i=Xo.card,c=cs(!1,!1,i,"handleCardSetup",a)(r,o),s=!r&&!o;return e.action.confirmSetupIntent(Rs({},c,{expectedType:i,options:{handleActions:!0},mids:t})).then(vs(e,i,s,!1))},xs=function(e,t,n,r,o){var a=$(ma,n,"stripe.handleSepaDebitSetup intent secret").value,i=Xo.sepa_debit,c=cs(!1,!1,i,"handleSepaDebitSetup",a)(r,o),s=!r&&!o;return e.action.confirmSetupIntent(Rs({},c,{expectedType:i,options:{handleActions:!0},mids:t})).then(vs(e,i,s,!1))},Ls=function(e,t,n,r,o){var a=$(ma,n,"stripe.confirmSetupIntent intent secret").value,i=cs(!1,!1,null,"confirmSetupIntent",a)(r,o);return e.action.confirmSetupIntent(Rs({},i,{otherParams:Rs({},i.otherParams),expectedType:null,options:{handleActions:!1},mids:t})).then(na)},Ds=function(e,t){var n=function(e){if("string"==typeof e){var t=e.trim().match(/^((vi|vs)_[0-9a-zA-Z]+)_secret_([0-9a-zA-Z]+)$/);if(!t)throw new r.a("stripe.verifyIdentity: Could not parse client secret.");return{identityClientSecret:t[0],id:t[1],token:t[3]}}throw new r.a("stripe.verifyIdentity: Could not parse client secret.")}(e),o=n.id;return function(e){var t=e.controller,n=e.url,r=(e.id,e.locale),o=Qi(t,{url:n,size:"1100x800",frameTitle:"identity.verification_frame_title",locale:void 0===r?"en-US":r,useLightboxHostedCloseButton:!0,allowCamera:!0,appType:"identity"});return new re.a((function(e){var t={type:"user_action",code:"session_cancelled"};o._on("identity-frame-close",(function(){ec(o).then((function(){e({error:t})}))})),o._on("identity-frame-error",(function(e){var n=e.type,r=e.code;t={type:n,code:r}})),o._on("identity-frame-session-complete",(function(){t=null})),o._on("request-close",(function(n){ec(o).then((function(){e({error:t})}))}))}))}({controller:t,url:function(e){return X.f+"start/"+e}(n.token),id:o})},Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs=function(e,t){if("string"!=typeof e)return P("an Issuing card ID of the form ic_xxx",e,t);var n,r=(n=e.trim().match(/ic_[a-zA-Z0-9_]+$/))?n[0]:null;return null===r?P("an Issuing card ID of the form ic_xxx",e,t):g(r,[])},Fs=function(e,t){return $(qs,e,"stripe."+t+" cardId").value},Us=function(e,t){if("string"!=typeof e)return P("an ephemeral key secret of the form ek_xxx",e,t);var n,r=(n=e.trim().match(/ek_[a-zA-Z0-9_]+$/))?n[0]:null;return null===r?P("an ephemeral key secret of the form ek_xxx",e,t):g(r,[])},Hs=function(e,t){return $(Us,e,"stripe."+t+" ephemeral key secret").value},Ys=function(e,t){if("string"!=typeof e)return P("an ephemeral key nonce of the form ephkn_xxx",e,t);var n,r=(n=e.trim().match(/ephkn_[a-zA-Z0-9_]+$/))?n[0]:null;return null===r?P("an ephemeral key nonce of the form ephkn_xxx",e,t):g(r,[])},zs=function(e){var t;if("object"===(void 0===e?"undefined":Bs(e))&&e&&e.ephemeralKeySecret&&e.nonce)return{ephemeralKeySecret:Hs(e.ephemeralKeySecret,"retrieveIssuingCard"),publicNonce:(t=e.nonce,$(Ys,t,"stripe."+"retrieveIssuingCard"+" ephemeral key nonce").value)};throw new r.a("When retrieving an Issuing card, you must specify an ephemeral key secret and an ephemeral key nonce in the options argument of stripe.retrieveIssuingCard.")},Gs=function(e,t){var n=function(e){if("object"===(void 0===e?"undefined":Bs(e))&&e&&e.issuingCard)return{issuingCard:Fs(e.issuingCard,"createEphemeralKeyNonce")};throw new r.a("When creating an ephemeral key nonce, you must specify an Issuing card ID in the options argument of stripe.createEphemeralKeyNonce.")}(e);return t.action.createEphemeralKeyNonce({cardId:n.issuingCard}).then(jo)},Ws=[Kt.checkout_beta_2,Kt.checkout_beta_3,Kt.checkout_beta_4],Ks=[Kt.checkout_beta_2,Kt.checkout_beta_3,Kt.checkout_beta_4,Kt.checkout_beta_locales,Kt.checkout_beta_testcards],Vs={bg:"bg",cs:"cs",da:"da",de:"de",el:"el",en:"en","en-GB":"en-GB",es:"es","es-419":"es-419",et:"et",fi:"fi",fr:"fr","fr-CA":"fr-CA",hu:"hu",id:"id",it:"it",ja:"ja",lt:"lt",lv:"lv",ms:"ms",mt:"mt",nb:"nb",nl:"nl",pl:"pl",pt:"pt","pt-BR":"pt-BR",ro:"ro",ru:"ru",sk:"sk",sl:"sl",sv:"sv",th:"th",tr:"tr",zh:"zh","zh-HK":"zh-HK","zh-TW":"zh-TW"},Js={"pt-PT":"pt-PT"},$s=Object.keys(Vs),Xs=Object.keys(Js),Zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Qs(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function eu(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var tu={sku:k(x),plan:k(x),clientReferenceId:k(x),locale:k(C.apply(void 0,["auto"].concat(eu($s)))),customerEmail:k(x),billingAddressCollection:k(C("required","auto")),submitType:k(C("auto","pay","book","donate")),allowIncompleteSubscriptions:k(D),shippingAddressCollection:k(K({allowedCountries:Y(x)}))},nu=/cs_(test|live)_.+/,ru=function(e,t){var n=K(Zs({},tu,{items:k(O(Y(K({type:C("plan"),quantity:q(0),id:x})),Y(K({type:C("sku"),quantity:q(0),id:x})))),successUrl:x,cancelUrl:x})),o=$(n,t,"stripe.redirectToCheckout").value,a=o.sku,i=o.plan,c=o.items,s=Qs(o,["sku","plan","items"]),u=function(e,t,n){if(e&&t||(e||t)&&n)throw new r.a("stripe.redirectToCheckout: Expected only one of sku, plan, or items.");if("string"==typeof e)return[{sku:e,quantity:1}];if("string"==typeof t)return[{plan:t,quantity:1}];if(n)return n.map((function(e){return"sku"===e.type?{sku:e.id,quantity:e.quantity}:{plan:e.id,quantity:e.quantity}}));throw new r.a("stripe.redirectToCheckout: You must provide either sku, plan, or items.")}(a,i,c);return Zs({tag:"no-session",items:u},s)},ou=function(e,t,n){var o=K(Zs({},tu,{sessionId:k(x),successUrl:k(x),cancelUrl:k(x),mode:k(C("subscription","payment")),items:k(O(Y(K({quantity:q(0),plan:x})),Y(K({quantity:q(0),sku:x})))),lineItems:k(Y(K({quantity:q(0),price:x})))},-1!==e.indexOf("checkout_beta_locales")?{locale:k(C.apply(void 0,["auto"].concat(eu($s),eu(Xs))))}:{})),a=$(o,t,"stripe.redirectToCheckout").value;if(a.sessionId){var i=a.sessionId;if(Object.keys(a).length>1)throw new r.a("stripe.redirectToCheckout: Do not provide other parameters when providing sessionId. Specify all parameters on your server when creating the CheckoutSession.");if(!/^cs_/.test(i))throw new r.a("stripe.redirectToCheckout: Invalid value for sessionId. You specified '"+i+"'.");if("live"===n&&/^cs_test_/.test(i))throw new r.a("stripe.redirectToCheckout: the provided sessionId is for a test mode Checkout Session, whereas Stripe.js was initialized with a live mode publishable key.");if("test"===n&&/^cs_live_/.test(i))throw new r.a("stripe.redirectToCheckout: the provided sessionId is for a live mode Checkout Session, whereas Stripe.js was initialized with a test mode publishable key.");return{tag:"session",sessionId:i}}a.sessionId,a.sku,a.plan;var c=a.items,s=a.lineItems,u=a.successUrl,l=a.cancelUrl,p=a.mode,d=Qs(a,["sessionId","sku","plan","items","lineItems","successUrl","cancelUrl","mode"]);if(!s&&!c)throw new r.a("stripe.redirectToCheckout: You must provide one of lineItems, items, or sessionId.");if(!u||!l)throw new r.a("stripe.redirectToCheckout: You must provide successUrl and cancelUrl.");return Zs({tag:"no-session",items:c,lineItems:s,successUrl:u,cancelUrl:l,mode:p},d)},au=function(e,t,n){var o=ou(e,t,n);if("no-session"===o.tag){var a=o.successUrl,i=o.cancelUrl;if(!Object(m.b)(a))throw new r.a("stripe.redirectToCheckout: successUrl must start with either http:// or https://.");if(!Object(m.b)(i))throw new r.a("stripe.redirectToCheckout: cancelUrl must start with either http:// or https://.");return o}return o},iu=function(e,t){return"session"===t.tag||null==e||t.locale||-1===["auto"].concat(eu($s)).indexOf(e)?t:Zs({},t,{locale:e})},cu=function(e,t,n){var o=Object(a.a)(Ws,(function(t){return $t(e,t)}));if(t&&t.lineItems&&o)throw new r.a("Prices cannot be used with "+o);if("string"==typeof t&&nu.test(t))throw new r.a("stripe.redirectToCheckout: Checkout Session IDs must be passed in as an object with a key of `sessionId` and the Session ID as the value.");switch(o){case"checkout_beta_2":return ru(0,t);case"checkout_beta_3":return ou(e,t,n);case"checkout_beta_4":default:return au(e,t,n)}},su=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unknown";return iu(t,cu(e,n,r))},uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var lu=function(e,t){return vi(t).then((function(t){return bi(e,"redirectToCheckout",t),{error:t.error}}))},pu=function(e,t,n,r,o){var a=su(t,r,o,e.keyMode());if(e.report("redirect_to_checkout.options",{betas:t,options:gt(a,["mode","sessionId"]),globalLocale:r}),"session"===a.tag){var i=a.sessionId;return e.action.createPaymentPageWithSession({betas:t,mids:n(),sessionId:i}).then((function(t){if("error"===t.type)return{error:t.error};var n=t.object.url;return lu(e,n)}))}var c=a,s=(c.tag,c.items),u=c.lineItems,l=c.mode,p=c.successUrl,d=c.cancelUrl,f=c.clientReferenceId,m=c.customerEmail,h=c.billingAddressCollection,_=c.submitType,y=c.allowIncompleteSubscriptions,v=c.shippingAddressCollection,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(c,["tag","items","lineItems","mode","successUrl","cancelUrl","clientReferenceId","customerEmail","billingAddressCollection","submitType","allowIncompleteSubscriptions","shippingAddressCollection"]),g=[];if(u&&s)throw new Error("Only one of items, lineItems can be passed in.");if(u){if(!l)throw new Error("Expected `mode`");g=u.map((function(e){if(e.price)return{type:"price",id:e.price,quantity:e.quantity};throw new Error("Unexpected item shape.")}))}else{if(!s)throw new Error("An items field must be passed in.");g=s.map((function(e){if(e.sku)return{type:"sku",id:e.sku,quantity:e.quantity};if(e.plan)return{type:"plan",id:e.plan,quantity:e.quantity};throw new Error("Unexpected item shape.")}))}return e.action.createPaymentPage(uu({betas:t,mids:n(),items:g,mode:l,success_url:p,cancel_url:d,client_reference_id:f,customer_email:m,billing_address_collection:h,submit_type:_,allow_incomplete_subscriptions:y,shipping_address_collection:v&&{allowed_countries:v.allowedCountries}},b)).then((function(t){if("error"===t.type)return{error:t.error};var n=t.object.url;return lu(e,n)}))},du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu=function(e){switch(e.type){case"object":return{token:e.object};case"error":return{error:e.error};default:return Object(o.a)(e)}},mu=function(e){return"object"===(void 0===e?"undefined":du(e))&&null!==e?e:{}},hu=function(e){switch(e.type){case"object":return{radarSession:e.object};case"error":return{error:e.error};default:return Object(o.a)(e)}},_u="securitypolicyviolation",yu=window,vu=/^require-trusted-types-for/,bu="LOAD_ERROR",gu="REPORT_ONLY",wu="BLOCKED",Eu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Su(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ku=new Wt.a,Ou=document?document.readyState:"unknown",Tu=!1;switch(Ou){case"loading":Tu=!0;break;case"interactive":try{var Au=function(){Tu=!0};setTimeout((function(){document.removeEventListener("DOMContentLoaded",Au)}),0),document.addEventListener("DOMContentLoaded",Au)}catch(e){}}var Iu,Cu=!1,ju=function e(t,r,o,a){if(!Cu||a){Cu=!0;var i=a||new Wt.a;if("complete"===document.readyState){var c=null,s=null,u=null,l=null,p=null;if(window.performance){if(window.performance.timing){var d=window.performance.timing,f=d.fetchStart;c=d.domLoading-f,s=d.domInteractive-f,u=d.domComplete-f,l=Wt.a.fromPosixTime(f).getElapsedTime(ku)}if(window.performance.getEntriesByType){var m=window.performance.getEntriesByType("resource"),h="https://js.stripe.com/v3/".replace(/\/$/,"");p=m.reduce((function(e,t){if(0===t.name.indexOf(h)){var n=t.name.match(/\/([^/#?]*)\/?(?:$|[#?])/);if(n&&n[1]){var r=n[1].replace(/-[0-9a-f]{32}\./,".");return"v3"===r&&(r="stripe.js"),Pu({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,{transfer_size:t.transferSize,duration:Math.round(t.duration)}))}}return e}),{})}}t.report("timings",{element:t.controllerFor(),dom_loading:c,dom_interactive:s,dom_complete:u,since_fetch:l,load_count:1,load_before_dom_content_loaded:Tu,load_ready_state:Ou,first_create_ready_state:r,first_mount_readyState:o,until_first_create:ku.getElapsedTime(t._createTimestamp),until_first_mount:t._mountTimestamp?ku.getElapsedTime(t._mountTimestamp):null,until_first_load:ku.getElapsedTime(i),resource_timings:p}),setTimeout((function(){new re.a((function(e){if(yu.trustedTypes&&yu.Promise){var t=!1,r=function(e){(vu.test(e.effectiveDirective)||vu.test(e.violatedDirective))&&(Object(ut.b)(e.blockedURI)||Object(ut.b)(e.sourceFile))&&(t=!0)},o=function(){return t?wu:bu};yu.addEventListener(_u,r);var a=void 0;try{a=n.e(5).then(n.bind(null,31)).then((function(e){return(e.loaded&&t?gu:"ALLOWED")||bu}),o)}catch(e){a=new re.a((function(e){return setTimeout(e,0)})).then(o)}a.then((function(){yu.removeEventListener(_u,r)})),e(a)}else e("NOT_SUPPORTED")})).then((function(e){t.report("trusted_types_check",{result:e}),function(e){switch(e){case gu:case wu:return!0}return!1}(e)&&t.warn("We noticed that you are using Trusted Types. Nothing has broken, but we plan to add dynamic loading to parts of Stripe.js. Please allow scripts from 'https://js.stripe.com' in your default Trusted Types policy. For more information: https://stripe.com/docs/security/guide#content-security-policy")}))}),5e3)}else window.addEventListener("load",(function(){try{e(t,r,o,i)}catch(e){}}))}},Nu=V({apiKey:x,stripeAccount:k(x),locale:k(x),apiVersion:k(x),__privateApiUrl:k(x),__checkout:k(V({mids:V({muid:x,sid:x})})),__hosted3DS:k(D),canCreateRadarSession:k(D),betas:k(Y(j.apply(void 0,Su(Jt))))}),Ru=function(e){return"You have an in-flight "+e+"! Please be sure to disable your form submit button when "+e+" is called."},Mu=function(e){return function(){throw new r.a("You cannot call `stripe."+e+"` without supplying an appropriate beta flag when initializing Stripe.js.")}},xu=function(e){return function(){throw new r.a("You cannot call `stripe."+e+"` without supplying an Issuing beta flag when initializing Stripe.js.")}},Lu=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Du.call(this);var o=new Wt.a,a=$(Nu,t||{},"Stripe()"),i=a.value,c=a.warnings,s=i.apiKey,u=i.stripeAccount,l=i.apiVersion,p=i.locale,d=i.__privateApiUrl,m=i.__checkout,h=i.__hosted3DS,_=i.canCreateRadarSession,y=i.betas;ii(s),m&&m.mids&&(e._ec=Yt({checkoutIds:m.mids})),this._apiKey=s.trim(),this._keyMode=f(this._apiKey),this._betas=y||[],this._locale=Dn(p,this._betas)||null,this._stripeAccount=u||null,this._isCheckout=!!m,this._attachControllerGetter(l,d,u,o),c.forEach((function(e){return r._controller.warn(e)})),Zt(),this._ensureHTTPS(),this._ensureStripeHosted(n),this._attachPaymentIntentMethods(this._betas,!!h),this._attachLegacyPaymentIntentMethods(this._betas),this._attachCheckoutMethods(this._betas),this._attachPrivateMethodsForCheckout(this._isCheckout),this._attachCreateRadarSession(_||!1),this._attachGetters(),this._attachIssuingCardMethods(this._betas),this._attachIdentityMethods(this._betas),this._attachLinkedAccounts(this._betas),this._attachAppInfo()}return Eu(e,[{key:"_attachCreateRadarSession",value:function(e){var t,n,r,o=this;e&&(this.createRadarSession=(t=function(){return o._midsPromise().then((function(e){return t=o._controller,n=e,t.action.createRadarSession({mids:n}).then(hu);var t,n}))},function(){var e=this;try{return t.call(this).catch((function(t){return se(t,n||e&&e._controller,!0,r)}))}catch(e){return se(e,n||this&&this._controller,!1,r)}}))}},{key:"_attachPaymentIntentMethods",value:function(e,t){var n,r,o,a=this,i=function(){return a._mids()};this.createPaymentMethod=(n=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return yi.apply(void 0,[a._controller,i()].concat(t))},r=void 0,o="createPaymentMethod",function(e,t,a){try{return n.call(this,e,t,a)}catch(e){return se(e,r||this&&this._controller,!1,o)}}),this._createPaymentMethod=this.createPaymentMethod,this.retrievePaymentIntent=pe((function(e){return function(e,t){var n=Pi(e,"retrievePaymentIntent");return t.action.retrievePaymentIntent({intentSecret:n,hosted:!1}).then(ta)}(e,a._controller)}),void 0,"retrievePaymentIntent"),this.retrieveSetupIntent=pe((function(e){return function(e,t){var n=Si(e,"retrieveSetupIntent");return t.action.retrieveSetupIntent({intentSecret:n,hosted:!1}).then(na)}(e,a._controller)}),void 0,"retrieveSetupIntent"),this.updatePaymentIntent=Mu("updatePaymentIntent"),($t(this._betas,Kt.line_items_beta_1)||$t(this._betas,Kt.tax_product_beta_1))&&(this.updatePaymentIntent=de((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"updatePaymentIntent"));var c=Object(lr.a)(Lc,Ru("handleCardAction"));this.handleCardAction=pe((function(e){return c(e,a._controller)}),void 0,"handleCardAction");var s=Object(lr.a)(mc,Ru("confirmCardPayment"));this.confirmCardPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmCardPayment");var u=Object(lr.a)(Es,Ru("confirmCardSetup"));this.confirmCardSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmCardSetup"),this.confirmIdealPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return bc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmIdealPayment"),this.confirmSepaDebitPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Oc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmSepaDebitPayment"),this.confirmSepaDebitSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ps.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmSepaDebitSetup"),this.confirmFpxPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _c.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmFpxPayment"),this.confirmAlipayPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAlipayPayment"),this.confirmAlipaySetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ts.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAlipaySetup"),this.confirmAuBecsDebitPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return lc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAuBecsDebitPayment"),this.confirmAuBecsDebitSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ss.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAuBecsDebitSetup"),this.confirmBacsDebitPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return pc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmBacsDebitPayment"),this.confirmBacsDebitSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ks.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmBacsDebitSetup"),this.confirmBancontactPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return dc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmBancontactPayment"),this.confirmBoletoPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmBoletoPayment"),this.confirmEpsPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return hc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmEpsPayment"),this.confirmGiropayPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return yc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmGiropayPayment"),this.confirmOxxoPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ec.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmOxxoPayment"),this.confirmP24Payment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmP24Payment"),this.confirmSofortPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmSofortPayment"),this.confirmIdealSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Os.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmIdealSetup"),this.confirmSofortSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return As.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmSofortSetup"),this.confirmBancontactSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Is.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmBancontactSetup"),this.confirmGrabPayPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return vc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmGrabPayPayment"),this.confirmAfterpayClearpayPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return uc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAfterpayClearpayPayment"),this.verifyMicrodepositsForPayment=de((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return xc.apply(void 0,[a._controller].concat(t))}),void 0,"verifyMicrodepositsForPayment"),this.verifyMicrodepositsForSetup=de((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ns.apply(void 0,[a._controller].concat(t))}),void 0,"verifyMicrodepositsForSetup"),$t(this._betas,Kt.acss_debit_beta_1)?(this.confirmAcssDebitPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return sc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAcssDebitPayment"),this.confirmAcssDebitSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ws.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAcssDebitSetup")):(this.confirmAcssDebitPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return zc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAcssDebitPayment"),this.confirmAcssDebitSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmAcssDebitSetup")),$t(this._betas,Kt.return_intents_beta_1)&&(this.confirmReturnIntent=de((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return hs.apply(void 0,[a._controller].concat(t))}),void 0,"confirmReturnIntent")),this.confirmKlarnaPayment=Mu("confirmKlarnaPayment"),$t(this._betas,Kt.klarna_pm_beta_1)&&(this.confirmKlarnaPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return gc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmKlarnaPayment")),this.confirmKonbiniPayment=Mu("confirmKonbiniPayment"),$t(this._betas,Kt.konbini_pm_beta_1)&&(this.confirmKonbiniPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return wc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmKonbiniPayment")),$t(this._betas,Kt.oxxo_pm_beta_1)&&(this.confirmOxxoPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ec.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmOxxoPayment")),this.confirmWechatPayPayment=Mu("confirmWechatPayPayment"),$t(this._betas,Kt.wechat_pay_pm_beta_1)&&(this.confirmWechatPayPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmWechatPayPayment")),$t(this._betas,Kt.wechat_pay_pm_beta_2)&&(this.confirmWechatPayPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return jc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmWechatPayPayment")),this.confirmPayPalPayment=Mu("confirmPayPalPayment"),$t(this._betas,Kt.paypal_pm_beta_1)&&(this.confirmPayPalPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return kc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmPayPalPayment")),$t(this._betas,Kt.paypal_pm_beta_1)&&(this.confirmPayPalSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return js.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmPayPalSetup")),this.confirmUpiPayment=Mu("confirmUpiPayment"),$t(this._betas,Kt.upi_beta_1)&&(this.confirmUpiPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ic.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmUpiPayment")),this.confirmNetbankingPayment=Mu("confirmNetbankingPayment"),$t(this._betas,Kt.netbanking_beta_1)&&(this.confirmNetbankingPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmNetbankingPayment")),this.confirmInstantDebitsPilotPayment=Mu("confirmInstantDebitsPilotPayment"),$t(this._betas,Kt.instant_debits_beta_1)&&(this.confirmInstantDebitsPilotPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jc.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmInstantDebitsPilotPayment")),this.confirmIdBankTransferPayment=Mu("confirmIdBankTransferPayment"),this.confirmIdBankTransferSetup=Mu("confirmIdBankTransferSetup"),$t(this._betas,Kt.id_bank_transfer_beta_1)&&(this.confirmIdBankTransferPayment=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ac.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmIdBankTransferPayment"),this.confirmIdBankTransferSetup=fe((function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cs.apply(void 0,[a._controller,i()].concat(t))}),void 0,"confirmIdBankTransferSetup")),($t(this._betas,Kt.link_beta_1)||$t(this._betas,Kt.payment_element_beta_1))&&(this.confirmPayment=pe((function(e){return Mc(a._controller,i(),e)}),void 0,"confirmPayment")),t&&(this.handleHosted3DS2Payment=pe((function(e){return function(e,t){var n=Pi(e,"handleHosted3DS2Setup [internal]");return t.action.retrievePaymentIntent({intentSecret:n,hosted:!0}).then(ac(t,Xo.card,!1,!0))}(e,a._controller)})),this.handleHosted3DS2Setup=pe((function(e){return function(e,t){var n=Si(e,"handleHosted3DS2Setup [internal]");return t.action.retrieveSetupIntent({intentSecret:n,hosted:!0}).then(vs(t,Xo.card,!1,!0))}(e,a._controller)})))}},{key:"_attachLegacyPaymentIntentMethods",value:function(e){var t=this,n=$t(this._betas,Kt.payment_intent_beta_1)||$t(this._betas,Kt.payment_intent_beta_2),r=function(){return t._mids()},o=fe((function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return us.apply(void 0,[!0,t._controller,r()].concat(n))}),void 0,"confirmPaymentIntent"),a=fe((function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return us.apply(void 0,[!1,t._controller,r()].concat(n))}),void 0,"confirmPaymentIntent"),i=Object(lr.a)(ls,Ru("handleCardPayment")),c=fe((function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return i.apply(void 0,[!0,t._controller,r(),n].concat(o))}),void 0,"handleCardPayment"),s=fe((function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return i.apply(void 0,[!1,t._controller,r(),n].concat(o))}),void 0,"handleCardPayment"),u=Object(lr.a)(Ms,Ru("handleCardSetup")),l=fe((function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return u.apply(void 0,[t._controller,r()].concat(n))}),void 0,"handleCardSetup"),p=fe((function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return Ls.apply(void 0,[t._controller,r()].concat(n))}),void 0,"confirmSetupIntent"),d=fe((function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return ps.apply(void 0,[t._controller,r(),n].concat(o))}),void 0,"handleSepaDebitPayment"),f=fe((function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return xs.apply(void 0,[t._controller,r()].concat(n))}),void 0,"handleSepaDebitSetup"),m=fe((function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return ds.apply(void 0,[!0,t._controller,r(),n].concat(o))}),void 0,"handleIdealPayment"),h=fe((function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return ds.apply(void 0,[!1,t._controller,r(),n].concat(o))}),void 0,"handleIdealPayment"),_=fe((function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return fs.apply(void 0,[t._controller,r(),n].concat(o))}),void 0,"handleFpxPayment");this.handleCardPayment=s,this.confirmPaymentIntent=a,this.handleCardSetup=l,this.confirmSetupIntent=p,this.fulfillPaymentIntent=Mu("fulfillPaymentIntent"),this.handleSepaDebitPayment=Mu("handleSepaDebitPayment"),this.handleSepaDebitSetup=Mu("handleSepaDebitSetup"),this.handleIdealPayment=Mu("handleIdealPayment"),this.handleFpxPayment=Mu("handleFpxPayment"),$t(this._betas,Kt.payment_intent_beta_1)?this.fulfillPaymentIntent=c:($t(this._betas,Kt.payment_intent_beta_3)||$t(this._betas,Kt.payment_intent_beta_2))&&(this.handleCardPayment=c),$t(this._betas,Kt.payment_intent_beta_3)&&(this.confirmPaymentIntent=o,this.handleIdealPayment=m,this.handleSepaDebitPayment=d),$t(this._betas,Kt.fpx_bank_beta_1)&&(this.handleFpxPayment=_),$t(this._betas,Kt.ideal_pm_beta_1)&&(this.handleIdealPayment=h),$t(this._betas,Kt.sepa_pm_beta_1)&&(this.handleSepaDebitPayment=d,this.handleSepaDebitSetup=f)}},{key:"_attachPrivateMethodsForCheckout",value:function(e){var t=this;e&&(this.sendInteractionEvent=Gt,this.tryNextAction=de((function(e,n){var r=$(ha,e,"Payment Intent").value,o=Object.keys(Xo).map((function(e){return Xo[e]})),a=$(C.apply(void 0,Su(o)),n,"Source type").value;return"payment_intent"===r.object?oc(t._controller,r,a,"auto",!1):ys(t._controller,r,a,"auto",!1)})))}},{key:"_attachCheckoutMethods",value:function(e){var t=this,n=function(){return t._mids()},r=e.reduce((function(e,t){var n=Object(a.a)(Ks,(function(e){return e===t}));return n?[].concat(Su(e),[n]):e}),[]);this.redirectToCheckout=function(e){return pu(t._controller,r,n,t._locale,e)}}},{key:"_attachGetters",value:function(){var e=this,t=new li((function(t){e._registerWrapper({name:t,version:null})}));["elements","createToken","createSource","createPaymentMethod"].forEach((function(n){if(e.hasOwnProperty(n)){var r=e[n],o=function(){t.called(n);for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return r.apply(this,o)};Object.defineProperty(e,n,{enumerable:!0,get:function(){return t.got(n),o}})}}))}},{key:"_attachIssuingCardMethods",value:function(e){var t=this;this.retrieveIssuingCard=xu("retrieveIssuingCard"),this.createEphemeralKeyNonce=xu("createEphemeralKeyNonce"),$t(this._betas,Kt.issuing_elements_1)?this.retrieveIssuingCard=de((function(e,n){return function(e,t,n){var r=Fs(e,"retrieveIssuingCard"),o=Hs(t,"retrieveIssuingCard");return n.action.retrieveIssuingCardWithoutNonce({cardId:r,ephemeralKeySecret:o}).then(Co)}(e,n,t._controller)})):$t(this._betas,Kt.issuing_elements_2)&&(this.retrieveIssuingCard=de((function(e,n){return function(e,t,n){var r=Fs(e,"retrieveIssuingCard"),o=zs(t);return n.action.retrieveIssuingCard({cardId:r,ephemeralKeySecret:o.ephemeralKeySecret,publicNonce:o.publicNonce}).then(Co)}(e,n,t._controller)})),this.createEphemeralKeyNonce=pe((function(e){return Gs(e,t._controller)})))}},{key:"_attachIdentityMethods",value:function(e){var t=this;this.verifyIdentity=pe((function(e){return Ds(e,t._controller)}))}},{key:"_attachControllerGetter",value:function(t,n,r,o){var a=this,i=[],c=document.readyState,s=void 0;Object.defineProperties(this,{_registerWrapper:{enumerable:!1,configurable:!0,writable:!1,value:function(e){i.push(e)}},_controller:{enumerable:!0,configurable:!0,get:function(){return function(){if(s)return s;var u=document.readyState;return s=new An(Pu({apiKey:a._apiKey,apiVersion:t,__privateApiUrl:n,stripeAccount:r,betas:a._betas,stripeJsId:e.stripeJsId,stripeJsLoadTimestamp:ku,stripeCreateTimestamp:o,onFirstLoad:function(){try{ju(s,c,u)}catch(e){}},listenerRegistry:a._listenerRegistry},a._locale?{locale:a._locale}:{})),Object.defineProperties(a,{_registerWrapper:{value:Bu,writable:!1,enumerable:!1,configurable:!0},_controller:{value:s,writable:!0,enumerable:!0,configurable:!0}}),i.forEach((function(e){return a._registerWrapper(e)})),i.splice(0),s}()}}})}},{key:"_attachLinkedAccounts",value:function(e){var t=this;this.linkAccounts=function(){throw new r.a("You cannot call `stripe.linkAccounts` without supplying a LinkedAccounts beta flag when initializing Stripe.js.")},$t(e,Kt.linked_accounts_beta_1)&&(this.linkAccounts=pe((function(e){return n=e,r=t._controller,Zc(n,"link_account_session",null,r);var n,r})))}},{key:"_attachAppInfo",value:function(){var e=this;this.registerAppInfo=ue((function(t){var n=J(ei,t,"WrapperLibrary");"error"!==n.type?e._controller.registerAppInfo(n.value):e._controller.warn("Failed to register your library: "+n.error.message)}))}},{key:"_ensureHTTPS",value:function(){var e=window.location.protocol,t=-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.hostname),n=!0===window.isSecureContext&&!t||-1!==["https:","file:","ionic:","httpsionic:","chrome-extension:","moz-extension:"].indexOf(e),o=this._keyMode===d.live,a="Live Stripe.js integrations must use HTTPS. For more information: https://stripe.com/docs/security/guide#tls";if(!n){if(o&&!t)throw this._controller.report("user_error.non_https_error",{protocol:e}),new r.a(a);!o||t?window.console&&console.warn("You may test your Stripe.js integration over HTTP. However, live Stripe.js integrations must use HTTPS."):window.console&&console.warn(a)}}},{key:"_ensureStripeHosted",value:function(e){if(!e)throw this._controller.report("user_error.self_hosted"),new r.a("Stripe.js must be loaded from js.stripe.com. For more information https://stripe.com/docs/stripe-js/reference#including-stripejs")}},{key:"_mids",value:function(){return e._ec?e._ec.ids():null}},{key:"_midsPromise",value:function(){return e._ec?e._ec.idsPromise():re.a.resolve(this._mids())}}]),e}();Lu.version=3,Lu.stripeJsId=te(),Lu._ec=(Iu=new RegExp(document.location.protocol+"//"+document.location.host),"https://checkout.stripe.com/".match(Iu)?null:Yt());var Du=function(){var e=this;this._listenerRegistry=jt(),this.elements=ue((function(t){return new Xa(e._controller,e._listenerRegistry,{stripeJsLoadTimestamp:ku,stripeCreateTimestamp:e._controller._createTimestamp},Pu({},e._locale?{locale:e._locale}:{},t,{betas:e._betas}))}),void 0,"elements"),this.createToken=de((function(t,n){var o=e._mids();return"cvc_update"===t?function(e,t,n){var o=Jo(t);if(o&&"cardCvc"===o._componentName){var a=o._implementation._frame.id;return e.action.tokenizeCvcUpdate({frameId:a,mids:n}).then(fu)}throw new r.a("You must provide a `cardCvc` Element to create a `cvc_update` token.")}(e._controller,n,o):function(e,t){return function(n,o){var a=Jo(n);if(a){var i=a._implementation._frame.id,c=a._componentName,s=mu(o);return e.action.tokenizeWithElement({frameId:i,elementName:c,tokenData:s,mids:t}).then(fu)}if("string"==typeof n){var u=n,l=mu(o);return e.action.tokenizeWithData({elementName:null,type:u,tokenData:l,mids:t}).then(fu)}throw new r.a("You must provide a Stripe Element or a valid token type to create a Token.")}}(e._controller,o)(t,n)}),void 0,"createToken"),this.createSource=de((function(t,n){var o=Jo(t),a=di(o?n:t),i=a||{type:null,data:{}},c=i.type,s=i.data;if(o){var u=o._implementation._frame.id,l=o._componentName;return!a&&Qo(l)?re.a.reject(new r.a("Please provide Source creation parameters to createSource.")):e._controller.action.createSourceWithElement({frameId:u,elementName:l,type:c,sourceData:s,mids:e._mids()}).then(fi)}return a?c?e._controller.action.createSourceWithData({elementName:null,type:c,sourceData:s,mids:e._mids()}).then(fi):re.a.reject(new r.a("Please provide a source type to createSource.")):re.a.reject(new r.a("Please provide either an Element or Source creation parameters to createSource."))}),void 0,"createSource"),this.retrieveSource=pe((function(t){var n=$(hi,{source:t},"retrieveSource"),r=n.value;return n.warnings.forEach((function(t){return e._controller.warn(t)})),e._controller.action.retrieveSource(r).then(fi)}),void 0,"retrieveSource"),this.paymentRequest=le((function(t,n){!function(e){if(e===d.unknown)throw new r.a("It looks like you're using an older Stripe key. In order to use this API, you'll need to use a modern API key, which is prefixed with 'pk_live_' or 'pk_test_'.\n    You can roll your publishable key here: https://dashboard.stripe.com/account/apikeys")}(e._keyMode);var o=e._isCheckout&&n?n:null;return Za(e._controller,{apiKey:e._apiKey,accountId:e._stripeAccount},e._mids(),t,e._betas,o,e._listenerRegistry)}),void 0,"paymentRequest")},Bu=function(e){var t=J(Qa,e,"StripeWrapperLibrary");if("error"!==t.type){var n=t.value,r=n.name,o=n.version,a=n.startTime;this._controller.registerWrapper({name:r,version:o,startTime:a})}else this._controller.report("register_wrapper.error",{error:t.error.message})},qu=Lu,Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu=function(){if(document.currentScript){var e=Object(m.d)(document.currentScript.src);return!e||Object(ut.c)(e.origin)}return!0}(),Yu=function(e,t){return new qu(Uu({apiKey:e},t&&"object"===(void 0===t?"undefined":Fu(t))?t:{}),Hu)};Yu.version=qu.version,window.Stripe&&2===window.Stripe.version&&!window.Stripe.StripeV3?window.Stripe.StripeV3=Yu:window.Stripe?window.console&&console.warn("It looks like Stripe.js was loaded more than one time. Please only load it once per page."):window.Stripe=Yu;t.default=Yu}]);