var AD=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=234)}([function(t,e,n){"use strict";n(24),n(21),n(46),n(56),n(25),n(20),n(38),n(22),n(31),n(11);var i=n(112),r=n.n(i),o=n(65),a=n.n(o),s=n(2);function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=a()("the bad place"),d=a()("the good place"),h=a()("the medium place"),p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=s.a.init("shared/subscriptions.js"),this.subscriptions=[],this.subscribables=new r.a}var e,n,i;return e=t,(n=[{key:"subscribe",value:function(t,e){return this.subscribables.has(t)?(this.subscribables.get(t)===d?(this.log("immediately executing callback for ".concat(t," as it has already fired.")),e.call(window)):this.subscriptions.push({event:t,callback:e}),!0):(s.a.error("An attempt to subscribe to the event ".concat(t," failed. Available subscriptions are ").concat(c(this.subscribables.keys()).join(", "))),!1)}},{key:"create",value:function(t,e){if("string"==typeof t)this.subscribables.set(t,e?h:f);else for(var n in t)this.subscribables.set(n,t[n])}},{key:"publishWithData",value:function(t){var e=this;Object.keys(t).forEach((function(n){if(!e.subscribables.has(n))return s.a.error("An attempt to publish ".concat(n," failed. Event has not been created.")),!1;e.log("Publishing ".concat(JSON.stringify(t)," to all subscribers.")),e.subscribables.set(n,t[n]),e.subscriptions.filter((function(t){return t.event===n})).forEach((function(t){return t.callback.call(null,e.subscribables.get(n))}))}))}},{key:"publish",value:function(t){if(!this.subscribables.has(t))return s.a.error("An attempt to publish ".concat(t," failed. Event has not been created.")),!1;var e=this.subscribables.get(t);if(e===f)this.log("Publishing ".concat(t," to all subscribers.")),this.subscribables.set(t,d);else if(e===d)return!1;this.subscriptions.filter((function(e){return e.event===t})).forEach((function(t){return t.callback.call()}))}},{key:"listAvailableSubscriptions",value:function(){return c(this.subscribables.keys()||[]).join(" ,")}}])&&u(e.prototype,n),i&&u(e,i),t}();e.a=new p},,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=Date.now(),o=[],a=!1;function s(t,e,n){var i="".concat(Date.now()-r,"ms");return n?[t,["".concat(i," %c").concat(e," %c(").concat(n,")"),"font-style:none;","font-style: italic; color: #888;"]]:[t,["".concat(i,": ").concat(e)]]}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this;return function(n){e.log(n,t)}}},{key:"debug",value:function(){a=!0}},{key:"report",value:function(){o.forEach((function(t){"ERROR"===t[0]?console.error(null,t[1]):console.log.apply(null,t[1])}))}},{key:"log",value:function(t,e){var n=s("LOG",t,e);o.push(n),a&&console.log.apply(null,n[1])}},{key:"error",value:function(t){var e=s("ERROR",t);o.push(e),a&&console.error.apply(null,e[1])}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=new c},function(t,e,n){"use strict";e.a={breakpoints:{small:{name:"mobile",class:"is-small",start:0,end:727,query:"(max-width: 727px)"},large:{name:"desktop",class:"is-large",start:728,end:1e7,query:"(min-width: 728px)"}},concertKey:"concertAdConfig",concertMarketingUrl:"https://concert.io/",inViewThreshold:.5,disclaimerHeight:20,videoBuffer:15,standardEvents:{DFP_IMPRESSION_VIEWABLE:"impressionViewable",FEEDBACK_LOOP_OPEN:"feedbackFormOpen",FEEDBACK_LOOP_CLOSE:"feedbackFormExit",IN_VIEW_EVENT:"inView",OUT_OF_VIEW_EVENT:"exitViewport",READY_EVENT:"ready",RESIZE_EVENT:"resize",SCROLL_EVENT:"scroll"}}},,,function(t,e,n){"use strict";n(54),n(22),n(31),n(11),n(38);var i=n(3),r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o="URLSearchParams"in r,a="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),c="FormData"in r,l="ArrayBuffer"in r;if(l)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return a&&(e[Symbol.iterator]=function(){return e}),e}function v(t){this.map={},t instanceof v?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:s&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:c&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():l&&s&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(t)||f(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=g(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var t,e,n,i=g(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=y(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}v.prototype.append=function(t,e){t=d(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},v.prototype.delete=function(t){delete this.map[d(t)]},v.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},v.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},v.prototype.set=function(t,e){this.map[d(t)]=h(e)},v.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},v.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),p(t)},v.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),p(t)},v.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),p(t)},a&&(v.prototype[Symbol.iterator]=v.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(t,e){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,r=(e=e||{}).body;if(t instanceof x){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new v(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new v(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),k.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}})),e}function E(t,e){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new v(e.headers),this.url=e.url||"",this._initBody(t)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},w.call(x.prototype),w.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];E.redirect=function(t,e){if(-1===C.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})};var S=r.DOMException;try{new S}catch(t){(S=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),S.prototype.constructor=S}function A(t,e){return new Promise((function(n,i){var o=new x(t,e);if(o.signal&&o.signal.aborted)return i(new S("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,i={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new v,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}})),e)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;setTimeout((function(){n(new E(r,i))}),0)},a.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){i(new S("Aborted","AbortError"))}),0)},a.open(o.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":l&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof v?o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){a.setRequestHeader(t,h(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=v,r.Request=x,r.Response=E);e.a={randomFrom:function(t){return t[Math.floor(Math.random()*t.length)]},getHtmlFromString:function(t){var e=document.createElement("section");return e.innerHTML=t,e.firstChild},clone:function(t){return JSON.parse(JSON.stringify(t))},createEl:function(t,e){var n=document.createElement(t);if(e)for(var i in e)n.setAttribute(i,e[i]);return n},applyStyle:function(t,e){Object.keys(e).forEach((function(n){t.style[n]=e[n]}))},throttle:function(t,e){var n=this,i=null,r=null,o=function(){t.apply(n,r),i=null};return function(){i||(r=arguments,i=setTimeout(o,e))}},inViewport:function(t){var e=null,n=t.viewportTop,r=t.frameTopPositionOnPage,o=t.frameBottomPositionOnPage,a=t.windowHeight,s=t.frameHeight,c=n+a,l=n-r,u=o-c;return n>o||r>c?e=0:(e=1,l>0&&(e-=l/s),u>0&&(e-=u/s)),Boolean(e>i.a.inViewThreshold)},scrollPercent:function(t){var e=t.viewportTop,n=t.frameTopPositionOnPage,i=t.frameBottomPositionOnPage,r=n-t.windowHeight,o=(e-r)/(i-r);return o},currentIframeWidth:function(t){return t&&window.frameElement?window.frameElement.getBoundingClientRect().width:window.innerWidth},currentIframeHeight:function(t){return t&&window.frameElement?window.frameElement.getBoundingClientRect().height:window.innerHeight},fetchWithTimeout:function(t,e){return new Promise((function(n,i){var r=setTimeout((function(){i("Response took too long.")}),e);fetch(t).then((function(t){return clearTimeout(r),t.json()})).then((function(t){n(t)})).catch((function(t){clearTimeout(r),i(t)}))}))}}},,,,function(t,e,n){var i=n(58)("wks"),r=n(48),o=n(13).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){"use strict";var i=n(61),r={};r[n(10)("toStringTag")]="z",r+""!="[object z]"&&n(23)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},,function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(13),r=n(27),o=n(29),a=n(23),s=n(30),c=function(t,e,n){var l,u,f,d,h=t&c.F,p=t&c.G,v=t&c.S,g=t&c.P,y=t&c.B,m=p?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,b=p?r:r[e]||(r[e]={}),w=b.prototype||(b.prototype={});for(l in p&&(n=e),n)f=((u=!h&&m&&void 0!==m[l])?m:n)[l],d=y&&u?s(f,i):g&&"function"==typeof f?s(Function.call,f):f,m&&a(m,l,f,t&c.U),b[l]!=f&&o(b,l,d),g&&w[l]!=f&&(w[l]=f)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(18)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(16),r=n(94),o=n(66),a=Object.defineProperty;e.f=n(17)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var i=n(13),r=n(28),o=n(17),a=n(15),s=n(23),c=n(77).KEY,l=n(18),u=n(58),f=n(52),d=n(48),h=n(10),p=n(105),v=n(104),g=n(143),y=n(106),m=n(16),b=n(14),w=n(35),k=n(34),x=n(66),_=n(47),E=n(55),C=n(144),S=n(68),A=n(74),O=n(19),T=n(33),P=S.f,I=O.f,R=C.f,D=i.Symbol,L=i.JSON,j=L&&L.stringify,M=h("_hidden"),V=h("toPrimitive"),H={}.propertyIsEnumerable,B=u("symbol-registry"),N=u("symbols"),U=u("op-symbols"),F=Object.prototype,z="function"==typeof D&&!!A.f,W=i.QObject,q=!W||!W.prototype||!W.prototype.findChild,Z=o&&l((function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=P(F,e);i&&delete F[e],I(t,e,n),i&&t!==F&&I(F,e,i)}:I,G=function(t){var e=N[t]=E(D.prototype);return e._k=t,e},J=z&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Q=function(t,e,n){return t===F&&Q(U,e,n),m(t),e=x(e,!0),m(n),r(N,e)?(n.enumerable?(r(t,M)&&t[M][e]&&(t[M][e]=!1),n=E(n,{enumerable:_(0,!1)})):(r(t,M)||I(t,M,_(1,{})),t[M][e]=!0),Z(t,e,n)):I(t,e,n)},X=function(t,e){m(t);for(var n,i=g(e=k(e)),r=0,o=i.length;o>r;)Q(t,n=i[r++],e[n]);return t},$=function(t){var e=H.call(this,t=x(t,!0));return!(this===F&&r(N,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(N,t)||r(this,M)&&this[M][t])||e)},Y=function(t,e){if(t=k(t),e=x(e,!0),t!==F||!r(N,e)||r(U,e)){var n=P(t,e);return!n||!r(N,e)||r(t,M)&&t[M][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=R(k(t)),i=[],o=0;n.length>o;)r(N,e=n[o++])||e==M||e==c||i.push(e);return i},tt=function(t){for(var e,n=t===F,i=R(n?U:k(t)),o=[],a=0;i.length>a;)!r(N,e=i[a++])||n&&!r(F,e)||o.push(N[e]);return o};z||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(U,n),r(this,M)&&r(this[M],t)&&(this[M][t]=!1),Z(this,t,_(1,n))};return o&&q&&Z(F,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",(function(){return this._k})),S.f=Y,O.f=Q,n(67).f=C.f=K,n(50).f=$,A.f=tt,o&&!n(49)&&s(F,"propertyIsEnumerable",$,!0),p.f=function(t){return G(h(t))}),a(a.G+a.W+a.F*!z,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var it=T(h.store),rt=0;it.length>rt;)v(it[rt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=D(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!z,"Object",{create:function(t,e){return void 0===e?E(t):X(E(t),e)},defineProperty:Q,defineProperties:X,getOwnPropertyDescriptor:Y,getOwnPropertyNames:K,getOwnPropertySymbols:tt});var ot=l((function(){A.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return A.f(w(t))}}),L&&a(a.S+a.F*(!z||l((function(){var t=D();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!J(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),i[1]=e,j.apply(L,i)}}),D.prototype[V]||n(29)(D.prototype,V,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(t,e,n){"use strict";n(139);var i=n(16),r=n(60),o=n(17),a=/./.toString,s=function(t){n(23)(RegExp.prototype,"toString",t,!0)};n(18)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){for(var i=n(31),r=n(33),o=n(23),a=n(13),s=n(29),c=n(51),l=n(10),u=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(h),v=0;v<p.length;v++){var g,y=p[v],m=h[y],b=a[y],w=b&&b.prototype;if(w&&(w[u]||s(w,u,d),w[f]||s(w,f,y),c[y]=d,m))for(g in i)w[g]||o(w,g,i[g],!0)}},function(t,e,n){var i=n(13),r=n(29),o=n(28),a=n(48)("src"),s=n(135),c=(""+s).split("toString");n(27).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var i=n(19).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(17)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){n(104)("asyncIterator")},,function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(19),r=n(47);t.exports=n(17)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(39);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var i=n(78),r=n(107),o=n(51),a=n(34);t.exports=n(75)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";n(24),n(21),n(11),n(46),n(56),n(22),n(25),n(20),n(122),n(40);var i=n(6),r=n(2),o=n(83);function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var c={dfpPrefixUrl:"",dfpDestUrl:"",hymnalDestUrl:"",trackerId:"",trackedUrls:[],setTrackingGlobals:function(t){this.dfpPrefixUrl=t.dfpConfig.prefixUrl,this.dfpDestUrl=t.dfpConfig.destUrl,this.hymnalDestUrl=t.compilerConfig.clickthroughUrl,this.trackerId=t.id},clickthrough:function(t){var e=this.getClickthroughUrl(t);try{r.a.log("Clicking through to ".concat(e)),window.open(e,"_blank")}catch(t){console.error(t)}},getClickthroughUrl:function(t){var e=decodeURIComponent(this.dfpPrefixUrl),n=window.clickTag,i=decodeURIComponent(this.dfpDestUrl),r=this.hymnalDestUrl,o=t||n||i||r;return n?o:o&&-1!==e.indexOf(o)?e:e?e+o:o},wrapURL:function(t){if(!this.dfpPrefixUrl)return t;t=t.replace(" ","");var e=encodeURI(t);return this.dfpPrefixUrl.indexOf(t)>-1||this.dfpPrefixUrl.indexOf(e)>-1?this.dfpPrefixUrl:this.dfpPrefixUrl+t},addImpressionTrackers:function(t){var e=this,n=t.find((function(t){return"impression"===t.event}));n&&n.urls.forEach((function(t){-1===e.trackedUrls.indexOf(t)&&(!function(t,e){var n=o.a.replace(t);r.a.log("Now tracking url ".concat(n));var a=i.a.createEl("img",{src:n,height:"1",width:"1","data-tracker-hymnal-ad-id":e,style:"position:absolute; top:0; left:0; visibility:hidden;"});document.body.insertBefore(a,document.body.firstChild)}(t,e.trackerId),e.trackedUrls.push(t))}))},autoWrapURLs:function(){var t=this;a(document.body.querySelectorAll("a[data-wrap-url]")).forEach((function(e){return e.href=t.wrapURL(e.href)}))}};e.a=c},function(t,e,n){var i=n(95),r=n(73);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(71),r=n(37);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(37);t.exports=function(t){return Object(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(35),r=n(33);n(145)("keys",(function(){return function(t){return r(i(t))}}))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var i=n(16),r=n(35),o=n(45),a=n(59),s=n(118),c=n(119),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(120)("replace",2,(function(t,e,n,p){return[function(i,r){var o=t(this),a=null==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=p(n,t,this,e);if(r.done)return r.value;var f=i(t),d=String(this),h="function"==typeof e;h||(e=String(e));var g=f.global;if(g){var y=f.unicode;f.lastIndex=0}for(var m=[];;){var b=c(f,d);if(null===b)break;if(m.push(b),!g)break;""===String(b[0])&&(f.lastIndex=s(d,o(f.lastIndex),y))}for(var w,k="",x=0,_=0;_<m.length;_++){b=m[_];for(var E=String(b[0]),C=l(u(a(b.index),d.length),0),S=[],A=1;A<b.length;A++)S.push(void 0===(w=b[A])?w:String(w));var O=b.groups;if(h){var T=[E].concat(S,C,d);void 0!==O&&T.push(O);var P=String(e.apply(void 0,T))}else P=v(E,d,C,S,O,e);C>=x&&(k+=d.slice(x,C)+P,x=C+E.length)}return k+d.slice(x)}];function v(t,e,i,o,a,s){var c=i+t.length,l=o.length,u=h;return void 0!==a&&(a=r(a),u=d),n.call(s,u,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>l){var d=f(u/10);return 0===d?n:d<=l?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));n(40),n(22),n(31),n(11),n(38);var i=n(62),r=(n(24),n(3)),o=n(2);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.compilerConfig=e,this.configElement=this.getElement(),this.dfpConfig=this.getDfpConfigData(),this.concertConfig=(new i.a).getConfigParameters(),this.ratios=function(t){var e=o.a.init("/shared/ratios.js");e("Constructing ratios");var n={};for(var i in r.a.breakpoints){var a=r.a.breakpoints[i];t.aspectRatios[a.name]&&(n[a.name]={query:a.query,ratio:t.aspectRatios[a.name]},t.disclaimerEnabled&&!t.disclaimerOverlay&&(n[a.name].heightAdjustment=t.disclaimerHeight))}return e("Ratios for current ad: ".concat(JSON.stringify(n))),n}(this),this.extractFields()}var e,n,s;return e=t,(n=[{key:"getElement",value:function(){return document.querySelector("[data-hymnal-ad-id], [data-karaoke-ad-id]")}},{key:"getDfpConfigData",value:function(){var t=this,e={},n={hymnalNetwork:"network",hymnalSiteId:"siteId",hymnalAdUnitId:"adUnitId",hymnalConcertId:"concertId",hymnalConcertControl:"concertControl",hymnalEntryType:"entryType",hymnalDfpLineItemId:"lineItemId",hymnalDfpCreativeId:"creativeId",hymnalDfpOrderId:"orderId",hymnalDfpClickUrl:"prefixUrl",hymnalDfpDestUrl:"destUrl",hymnalDesignVariantId:"variantId"};return Object.keys(n).forEach((function(i){e[n[i]]=t.configElement.dataset[i]||""})),e}},{key:"extractFields",value:function(){this.html=this.getHtml(),this.css=this.getCss(),this.js=this.getJs()}},{key:"getHtml",value:function(){}},{key:"getCss",value:function(){}},{key:"getJs",value:function(){}},{key:"aspectRatios",get:function(){return{mobile:this.compilerConfig.aspect_ratio.mobile,desktop:this.compilerConfig.aspect_ratio.desktop}}},{key:"maxHeights",get:function(){return{mobile:this.compilerConfig.max_height.mobile,desktop:this.compilerConfig.max_height.desktop}}},{key:"trackers",get:function(){return this.compilerConfig.trackers||[]}},{key:"id",get:function(){return this.compilerConfig.id}},{key:"slug",get:function(){return this.compilerConfig.slug}},{key:"adName",get:function(){return this.compilerConfig.adName}},{key:"type",get:function(){return this.compilerConfig.type}},{key:"campaign",get:function(){return this.compilerConfig.campaign}},{key:"campaignName",get:function(){return this.compilerConfig.campaignName}},{key:"brand",get:function(){return this.compilerConfig.brand}},{key:"designTemplate",get:function(){return this.compilerConfig.design_template||""}},{key:"disableSlotRefresh",get:function(){return this.compilerConfig.disableSlotRefresh}},{key:"enableSlotReveal",get:function(){return this.compilerConfig.enableSlotReveal}},{key:"forceBreakpoint",get:function(){return this.compilerConfig.forceBreakpoint||!1}},{key:"showFeedbackForm",get:function(){return this.compilerConfig.showFeedbackForm}},{key:"disclaimerEnabled",get:function(){return this.compilerConfig.preambleEnabled}},{key:"disclaimerHeight",get:function(){return r.a.disclaimerHeight}},{key:"disclaimerOverlay",get:function(){return this.compilerConfig.preambleOverlay}},{key:"renderInIframe",get:function(){return this.compilerConfig.renderInIframe}}])&&a(e.prototype,n),s&&a(e,s),t}();function c(t){return t.replace(/\\"/g,'"').replace(/\\'/g,"'").replace(/\\\//g,"/").trim()}},function(t,e,n){var i=n(15),r=n(55),o=n(39),a=n(16),s=n(14),c=n(18),l=n(162),u=(n(13).Reflect||{}).construct,f=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),d=!c((function(){u((function(){}))}));i(i.S+i.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var c=n.prototype,h=r(s(c)?c:Object.prototype),p=Function.apply.call(t,h,e);return s(p)?p:h}})},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=s.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),l=null,u=0,f=[],d=n(133);function h(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function v(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=f[f.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(t.insertAt.before,n);n.insertBefore(e,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function y(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return m(e,t.attrs),v(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;n=l||(l=y(e)),i=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),v(t,e),e}(e),i=E.bind(null,n,e),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),i=_.bind(null,n),r=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return h(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}t&&h(p(t,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var w,k=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function x(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=k(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function _(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function E(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,n){var i=n(59),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";var i=n(98)(!0);n(75)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=!1},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports={}},function(t,e,n){var i=n(19).f,r=n(28),o=n(10)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));n(97),n(24);var i,r=n(0),o=n(3),a=n(2),s=n(32);function c(t){i=t}var l={on:function(t,e){r.a.subscribe(t,e)},create:function(t,e){r.a.create(t,e)},debug:function(){return a.a.debug()},publish:function(t,e){e?r.a.publishWithData(t,e):r.a.publish(t)},getAvailableEvents:function(){return r.a.listAvailableSubscriptions()},ready:function(t){r.a.subscribe(o.a.standardEvents.READY_EVENT,t)},viewable:function(t){r.a.subscribe(o.a.standardEvents.IN_VIEW_EVENT,t)},isMobile:function(){return i.breakpoint.activeBreakpoint.name===o.a.breakpoints.small.name},isDesktop:function(){return i.breakpoint.activeBreakpoint.name===o.a.breakpoints.large.name},isInView:function(){return i.context.availableData.inViewport},pageWidth:function(){return i.context.availableData.pageWidth},pageHeight:function(){return i.context.availableData.pageHeight},width:function(){return i.context.availableData.frameWidth},height:function(){return i.context.availableData.frameHeight},scrollPercent:function(){return i.context.availableData.scrollPercent},setWidthDangerously:function(t){return i.context.setWidthDangerously({forcedWidth:t,breakpoint:i.breakpoint.activeBreakpoint.name})},setHeightDangerously:function(t){return i.context.setHeightDangerously({forcedHeight:t,breakpoint:i.breakpoint.activeBreakpoint.name})},logs:function(){return a.a.report()},getAdConfig:function(t){return t&&i.adData[t]?i.adData[t]:i.adData},clickthrough:function(t){s.a.clickthrough(t)},rerender:function(t){i.renderer?i.renderer.render(t):a.a.log("Not a karaoke ad!")},refreshImmediately:function t(){r.a.publishWithData({refreshImmediately:t})}}},function(t,e,n){"use strict";var i,r,o,a,s=n(49),c=n(13),l=n(30),u=n(61),f=n(15),d=n(14),h=n(39),p=n(80),v=n(81),g=n(123),y=n(109).set,m=n(153)(),b=n(111),w=n(154),k=n(155),x=n(156),_=c.TypeError,E=c.process,C=E&&E.versions,S=C&&C.v8||"",A=c.Promise,O="process"==u(E),T=function(){},P=r=b.f,I=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[n(10)("species")]=function(t){t(T,T)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==S.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;m((function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(r||(2==t._h&&M(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),a=!0)),n===e.promise?l(_("Promise-chain cycle")):(o=R(n))?o.call(n,c,l):c(n)):l(i)}catch(t){u&&!a&&u.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){y.call(c,(function(){var e,n,i,r=t._v,o=j(t);if(o&&(e=w((function(){O?E.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=O||j(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){y.call(c,(function(){var e;O?E.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},V=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},H=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=R(t))?m((function(){var i={_w:n,_d:!1};try{e.call(t,l(H,i,1),l(V,i,1))}catch(t){V.call(i,t)}})):(n._v=t,n._s=1,D(n,!1))}catch(t){V.call({_w:n,_d:!1},t)}}};I||(A=function(t){p(this,A,"Promise","_h"),h(t),i.call(this);try{t(l(H,this,1),l(V,this,1))}catch(t){V.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(79)(A.prototype,{then:function(t,e){var n=P(g(this,A));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=l(H,t,1),this.reject=l(V,t,1)},b.f=P=function(t){return t===A||t===a?new o(t):r(t)}),f(f.G+f.W+f.F*!I,{Promise:A}),n(52)(A,"Promise"),n(82)("Promise"),a=n(27).Promise,f(f.S+f.F*!I,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(t){return x(s&&this===a?A:this,t)}}),f(f.S+f.F*!(I&&n(76)((function(t){A.all(t).catch(T)}))),"Promise",{all:function(t){var e=this,n=P(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var s=o++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[s]=t,--a||i(n))}),r)})),--a||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=P(e),i=n.reject,r=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},function(t,e,n){var i=n(16),r=n(141),o=n(73),a=n(72)("IE_PROTO"),s=function(){},c=function(){var t,e=n(69)("iframe"),i=o.length;for(e.style.display="none",n(99).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){"use strict";var i=n(30),r=n(15),o=n(35),a=n(101),s=n(102),c=n(45),l=n(142),u=n(103);r(r.S+r.F*!n(76)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,y=0,m=u(d);if(g&&(v=i(v,p>2?arguments[2]:void 0,2)),null==m||h==Array&&s(m))for(n=new h(e=c(d.length));e>y;y++)l(n,y,g?v(d[y],y):d[y]);else for(f=m.call(d),n=new h;!(r=f.next()).done;y++)l(n,y,g?a(f,v,[r.value,y],!0):r.value);return n.length=y,n}})},,function(t,e,n){var i=n(27),r=n(13),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(49)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";var i=n(16);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(36),r=n(10)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scope="VoxConcertAd"}var e,n,r;return e=t,(n=[{key:"getConfigParameters",value:function(){if(window[this.scope])return window[this.scope]}},{key:"get",value:function(t,e){return window[this.scope]&&window[this.scope][t]?window[this.scope][t]:e}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=r},function(t,e,n){"use strict";n(24);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n;var i=".ad__"+this.name;if(this.overlayContainer=e.querySelector(i),!this.overlayContainer)return!1;this.form=this.overlayContainer.querySelector(".form"),this.isBrandedContentUnit=!!this.overlayContainer.querySelector(".branded-content__feedback"),this.exitCallback=!1,this.overlayContainer.addEventListener("click",(function(t){return t.stopPropagation()})),this.overlayButton=null,this.isBrandedContentUnit||(this.enablePostambleButton(),this.attachCloseEvent(),this.applyShortAdClass())}var e,n,r;return e=t,(n=[{key:"enablePostambleButton",value:function(){var t=this,e=".postamble-bar ."+this.name+"-button";if(this.overlayButton=document.querySelector(e),this.overlayButton.classList.remove("hidden"),this.overlayButton.style.display="inline-block",document.querySelectorAll(".postamble-bar-button:not(.hidden)").length>1){var n=document.querySelector(".postamble-divider");n&&(n.style.display="inline-block")}this.overlayButton.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.openForm()}))}},{key:"openForm",value:function(){this.deactivateAllOverlays(),this.form.classList.add("is-active"),this.overlayButton.classList.add("active")}},{key:"deactivateAllOverlays",value:function(){document.querySelectorAll(".form").forEach((function(t){t.classList.remove("is-active")})),document.querySelectorAll(".postamble-bar-button.live").forEach((function(t){t.classList.remove("active")}))}},{key:"registerExitCallback",value:function(t){this.exitCallback=t}},{key:"setHideListeners",value:function(){window.addEventListener("click",this.hideFormInstantly.bind(this)),this.form.addEventListener("click",this.hideFormInstantly.bind(this))}},{key:"hideFormInstantly",value:function(t){t&&t.stopPropagation(),this.timer&&clearTimeout(this.timer),this.form.classList.remove("is-active"),this.overlayButton.classList.remove("active"),this.exitCallback&&this.exitCallback()}},{key:"attachCloseEvent",value:function(){this.form.querySelector("."+this.name+"__close-button").addEventListener("click",this.hideFormInstantly.bind(this))}},{key:"applyShortAdClass",value:function(){document.querySelector(".ad__hymnal")&&document.querySelector(".ad__hymnal").clientHeight<=500&&this.form.classList.add("is-short")}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=r},function(t,e,n){"use strict";var i=n(2);n(24),n(46),n(56),n(22),n(25),n(20),n(21),n(11);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,t),this.eventsQueue=[],this.trackingEnabled=!1,this.trackedVideo=e}var e,n,i;return e=t,(n=[{key:"queue",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.eventsQueue.push(e)}},{key:"clearQueue",value:function(){this.eventsQueue=[]}},{key:"events",value:function(){return this.eventsQueue}},{key:"videoReadyToBeTracked",value:function(){return!!this.trackedVideo&&this.trackingEnabled}},{key:"videoAlreadyTracked",value:function(t){return this.trackedVideo===t&&this.trackingEnabled}}])&&o(e.prototype,n),i&&o(e,i),t}();function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f={AD_FORMAT:"dimension3",ADVERTISER:"dimension18",BRIGHTCOVE_ID:"dimension1",DURATION:"dimension2",HYMNAL_ORDER:"dimension19",TEST_VARIANT:"dimension4",SITE:"dimension11",LINE_ITEM_ID:"dimension21",CREATIVE_ID:"dimension22",CONCERT_REQUEST_ID:"dimension23",CONCERT_CONTROL:"dimension24"},d=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,t),this.adData=e,this.GAConfig={},this.video=r,this.videoEvents=new a(r),this.log=i.a.init("metrics/providers/google_analytics.js"),this.setConfiguration(n),this.loadGA(),r&&this.trackVideo()}var e,n,r;return e=t,(n=[{key:"track",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.video||this.videoEvents.videoReadyToBeTracked()){n.dimensions&&this.setSecondaryDimensions(n.dimensions);var i={eventCategory:t,eventAction:"ad:"+e,eventLabel:this.generateLabel(),eventValue:"number"==typeof n.value?parseInt(n.value):void 0,nonInteraction:!!n.nonInteraction};this.log("Logging to GA: ".concat(t,", ").concat(e,", ").concat(JSON.stringify(n))),window.__ga("send","event",i)}else this.log("Queueing video event for ga: ".concat(t,", ").concat(e,", ").concat(JSON.stringify(n))),this.videoEvents.queue(t,e,n)}},{key:"setConfiguration",value:function(t){this.GAConfig={adId:this.adData.id,adName:this.adData.adName,variantId:this.adData.variantID,adSlug:this.adData.slug,clientName:this.adData.brand,campaignName:this.adData.campaignName,adFormat:this.adData.designTemplate,googleAnalyticsID:t||"UA-96398693-1",lineItemId:this.adData.dfpConfig.lineItemId,creativeId:this.adData.dfpConfig.creativeId,siteName:this.adData.dfpConfig.network,concertId:this.adData.dfpConfig.concertId,concertControl:this.adData.dfpConfig.concertControl},this.video&&(this.GAConfig.videoID=this.video.getVideoId())}},{key:"generateLabel",value:function(){return[this.GAConfig.adName,this.GAConfig.adId].filter((function(t){return t.length>0})).join(" | ")}},{key:"trackVideo",value:function(){var t=this,e=[3,6,10,15,20,25,30];this.video&&"function"==typeof this.video.onPlay&&!this.videoEvents.videoAlreadyTracked(this.video)&&(this.video.onInitialPlay((function(){return t.track("video","start")})),this.video.onPlay((function(){return t.track("video","play")})),this.video.onQuartile((function(e){return t.track("video","quartile-".concat(e))})),this.video.onPause((function(){return t.track("video","pause")})),this.video.onMute((function(){return t.track("video","mute")})),this.video.onUnmute((function(){return t.track("video","unmute")})),this.video.onTimeUpdate((function(n){if(n>=e[0]){var i=e.shift();t.track("video","time-".concat(i,"sec"))}})),this.video.onDurationChange((function(){var e=t.video.getDuration();if(!isNaN(e)){var n={};n[f.DURATION]=Math.floor(e).toString(),__ga("set",n)}t.processQueuedEvents()})),this.video.onComplete((function(){return t.track("video","end")})))}},{key:"processQueuedEvents",value:function(){var t=this;this.videoEvents.trackingEnabled=!0,this.videoEvents.events().forEach((function(e){t.track.apply(t,s(e))})),this.videoEvents.clearQueue()}},{key:"loadGA",value:function(){var t,e,n,i,r,o;this.log("Loading GA script"),t=window,e=document,n="script",i="__ga",t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,r=e.createElement(n),o=e.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(r,o),window.__ga("create",this.GAConfig.googleAnalyticsID,"auto"),window.__ga("set","location",this.getDocumentLocation()),this.setSecondaryDimensions()}},{key:"getDocumentLocation",value:function(){try{return/^https:\/\/tpc\.googlesyndication\.com\/safeframe\//.test(window.location.href)?document.referrer:window.location.href}catch(t){return document.referrer}}},{key:"setSecondaryDimensions",value:function(t){var e={};for(var n in e[f.AD_FORMAT]=this.GAConfig.adFormat,e[f.ADVERTISER]=this.GAConfig.clientName,e[f.HYMNAL_ORDER]=this.GAConfig.campaignName,e[f.SITE]=this.GAConfig.siteName,e[f.LINE_ITEM_ID]=this.GAConfig.lineItemId,e[f.CREATIVE_ID]=this.GAConfig.creativeId,e[f.CONCERT_REQUEST_ID]=this.GAConfig.concertId,e[f.CONCERT_CONTROL]=this.GAConfig.concertControl,this.video&&(e[f.BRIGHTCOVE_ID]=this.GAConfig.videoID),t)f[n]&&(e[f[n]]=t[n]);window.__ga("set",e)}}])&&u(e.prototype,n),r&&u(e,r),t}(),h=n(6);function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;p(this,t),this.log=i.a.init("metrics/providers/moat_analytics.js"),this.adData=e,this.moatConfig={},this.MOAT_ANALYTICS_PARTNER_CODE="voxvidint960547728228",this.videoPlayer=n.getContainerElement(),this.videoVolume=0,this.videoStarted=!1,this.video=n,this.videoEvents=new a(this.video),this.videoDuration=this.video.getDuration(),this.url=null,this.setConfiguration(),this.moatApiReference={},this.initMoatTracking(this.videoPlayer,this.moatConfig,this.videoDuration,this.MOAT_ANALYTICS_PARTNER_CODE,this.url),n&&this.trackVideo()}var e,n,r;return e=t,(n=[{key:"initMoatTracking",value:function(t,e,n,i,r){var o="_moatApi"+Math.floor(1e8*Math.random()),a=[],s={adData:{ids:e,duration:n,url:r},dispatchEvent:function(t){this.sendEvent?this.sendEvent(t):a.push(t)}};window[o]=s;var c=h.a.createEl("script",{type:"text/javascript",src:"https://z.moatads.com/".concat(i,"/moatvideo.js#").concat(o)});return t.insertBefore(c,t.childNodes[0]||null),this.moatApiReference=s,this.moatApiReference}},{key:"setConfiguration",value:function(){this.moatConfig={level1:this.adData.brand,level2:this.adData.campaignName,level3:this.adData.dfpConfig.lineItemId,level4:this.adData.dfpConfig.creativeId,slicer1:this.adData.dfpConfig.siteId,slicer2:this.adData.id,concertId:this.adData.dfpConfig.concertId,location:this.getDocumentLocation()},this.video&&(this.moatConfig.videoID=this.video.getVideoId()),this.log("MOAT config: ".concat(JSON.stringify(this.moatConfig)))}},{key:"trackVideo",value:function(){var t=this;this.video&&"function"==typeof this.video.onPlay&&!this.videoEvents.videoAlreadyTracked(this.video)?(this.video.onPlay((function(){t.videoStarted||(t.videoStarted=!0,t.track("video","AdVideoStart")),t.track("video","AdPlaying")})),this.video.onQuartile((function(e){"25"===e?t.track("video","AdVideoFirstQuartile"):"50"===e?t.track("video","AdVideoMidpoint"):"75"===e?t.track("video","AdVideoThirdQuartile"):"100"===e?(t.track("video","AdVideoComplete"),t.videoStarted=!1):console.error("Moat Analytics: Invalid quartile: "+e)})),this.video.onVolumeChange((function(){return t.track("video","AdVolumeChange")})),this.video.onTimeUpdate((function(){t.videoStarted||(t.videoStarted=!0,t.track("AdVideoStart"),t.track("AdPlaying"))})),this.video.onPause((function(){return t.track("video","AdPaused")}))):console.error("Moat Error: No video?")}},{key:"getDocumentLocation",value:function(){try{return/^https:\/\/tpc\.googlesyndication\.com\/safeframe\//.test(window.location.href)?document.referrer:window.location.href}catch(t){return document.referrer}}},{key:"track",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.video||this.videoEvents.videoReadyToBeTracked())this.log("MOAT: no video or video ready");else{var i=this.video.getVolume();this.moatApiReference?(this.log("MOAT: api reference: ".concat(JSON.stringify(this.moatApiReference))),this.moatApiReference.dispatchEvent({type:e,adVolume:i}),this.log("Dispatching MOAT event: ".concat(t,", ").concat(e,", ").concat(i,", ").concat(JSON.stringify(n)))):console.error("ERROR: Something went wrong calling initMoatTracking()")}}}])&&v(e.prototype,n),r&&v(e,r),t}();function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;y(this,t),this.log=i.a.init("metrics/providers/phonograph.js"),this.domain=window.location.hostname,this.adId=e.id,this.variantId=e.variantID,this.video=n,void 0===window.phonographEvents&&(window.phonographEvents=[],this.log("Loading phonograph script"),this.loadPhonograph()),n&&this.trackVideo()}var e,n,r;return e=t,(n=[{key:"track",value:function(t){t&&this.logEventInPhonograph(t)}},{key:"trackVideo",value:function(){var t=this;this.video.onPlay((function(){return t.track("play")})),this.video.onQuartile((function(e){return t.track("".concat(e,"pct_played"))})),this.video.onPause((function(){return t.track("pause")}))}},{key:"loadPhonograph",value:function(){var t=document.createElement("script");t.src="https://phonograph2.voxmedia.com/pickup.js",t.type="text/javascript",t.async=!0,document.body.appendChild(t)}},{key:"logEventInPhonograph",value:function(t){if(!this.adId)return!1;var e={action:t,ad_id:this.adId,network:this.domain};this.variantId&&(e.variant_id=this.variantId),this.log("Logging to phonograph ".concat(JSON.stringify(e))),window.phonographEvents.push(["hymnal_event",e])}}])&&m(e.prototype,n),r&&m(e,r),t}();n(40);function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(this,t),this.log=i.a.init("metrics/providers/pixel_tracker.js"),this.pixels=[],this.tracked=[],this.video=n,n&&(this.trackVideo(),this.addVideoTrackers(e.trackers))}var e,n,r;return e=t,(n=[{key:"track",value:function(t){var e=this;this.tracked.push(t),this.getPixelsForEventName(t).forEach((function(n){e.log("Loading pixel for ".concat(t," with url: ").concat(n)),e.placeImageOnPage(n)}))}},{key:"add",value:function(t,e){this.log("Registering event ".concat(t)),this.pixels.push([t,e])}},{key:"addVideoTrackers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){e.urls.forEach((function(n){t.add(e.event,n),t.add(e.event.replace(/_/g,"-"),n)}))}))}},{key:"trackVideo",value:function(){var t=this;this.video.onInitialPlay((function(){return t.track("video-start")})),this.video.onQuartile((function(e){return t.track("video-".concat(e))})),this.video.onPause((function(){return t.track("video-pause")}))}},{key:"getPixelsForEventName",value:function(t){return this.pixels.filter((function(e){return e[0]==t})).map((function(t){return t[1]}))}},{key:"placeImageOnPage",value:function(t){var e=-1==t.indexOf("?")?"?":"&";t+=e+"mp_uniq="+Math.floor(1e4*Math.random());var n=h.a.createEl("img",{src:encodeURI(t),height:"1",width:"1","data-metric-pixels":!0,style:"position:absolute; top:0; left:0; visibility:hidden;"});document.body.insertBefore(n,document.body.firstChild)}}])&&k(e.prototype,n),r&&k(e,r),t}(),_=n(53);function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{provider:"GA",video:null,debug:!1};switch(E(this,t),this.log=i.a.init("metrics/index.js"),this.adData=_.a.getAdConfig(),this.video=e.video,this.debuggingEnabled=e.debug,e.provider){case"GA":this.provider=new d(this.adData,null,this.video);break;case"moat":this.provider=new g(this.adData,this.video);break;case"phonograph":this.provider=new b(this.adData,this.video);break;case"pixel":this.provider=new x(this.adData,this.video);break;default:throw"You did not select a valid provider"}}var e,n,r;return e=t,(n=[{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.provider.track(t,e,n)}},{key:"add",value:function(t,e){this.provider instanceof x&&this.provider.add(t,e)}}])&&C(e.prototype,n),r&&C(e,r),t}();e.a=S},function(t,e,n){n(20),n(11),t.exports=n(27).Symbol},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(95),r=n(73).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(50),r=n(47),o=n(34),a=n(66),s=n(28),c=n(94),l=Object.getOwnPropertyDescriptor;e.f=n(17)?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(14),r=n(13).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(15);i(i.S+i.F,"Object",{assign:n(136)})},function(t,e,n){var i=n(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(58)("keys"),r=n(48);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var i=n(49),r=n(15),o=n(23),a=n(29),s=n(51),c=n(140),l=n(52),u=n(100),f=n(10)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,v,g,y){c(n,e,p);var m,b,w,k=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",_="values"==v,E=!1,C=t.prototype,S=C[f]||C["@@iterator"]||v&&C[v],A=S||k(v),O=v?_?k("entries"):A:void 0,T="Array"==e&&C.entries||S;if(T&&(w=u(T.call(new t)))!==Object.prototype&&w.next&&(l(w,x,!0),i||"function"==typeof w[f]||a(w,f,h)),_&&S&&"values"!==S.name&&(E=!0,A=function(){return S.call(this)}),i&&!y||!d&&!E&&C[f]||a(C,f,A),s[e]=A,s[x]=h,v)if(m={values:_?A:k("values"),keys:g?A:k("keys"),entries:O},y)for(b in m)b in C||o(C,b,m[b]);else r(r.P+r.F*(d||E),e,m);return m}},function(t,e,n){var i=n(10)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var i=n(48)("meta"),r=n(14),o=n(28),a=n(19).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(18)((function(){return c(Object.preventExtensions({}))})),u=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return l&&f.NEED&&c(t)&&!o(t,i)&&u(t),t}}},function(t,e,n){var i=n(10)("unscopables"),r=Array.prototype;null==r[i]&&n(29)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(23);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(30),r=n(101),o=n(102),a=n(16),s=n(45),c=n(103),l={},u={};(e=t.exports=function(t,e,n,f,d){var h,p,v,g,y=d?function(){return t}:c(t),m=i(n,f,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(h=s(t.length);h>b;b++)if((g=e?m(a(p=t[b])[0],p[1]):m(t[b]))===l||g===u)return g}else for(v=y.call(t);!(p=v.next()).done;)if((g=r(v,m,p.value,e))===l||g===u)return g}).BREAK=l,e.RETURN=u},function(t,e,n){"use strict";var i=n(13),r=n(19),o=n(17),a=n(10)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";n(40);var i=n(2),r=[{pattern:/%%CACHEBUSTER%%|%25%25CACHEBUSTER%25%25/,replace:function(){return Math.ceil(1e11*Math.random())}}];e.a={replace:function(t){var e=i.a.init("/shared/url_macro.js");return r.forEach((function(n){t=t.replace(n.pattern,(function(i){return e("Replacing ".concat(i," with ").concat(n.replace(i)," in ").concat(t)),n.replace(i)}))})),t}}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(70);var i=n(2),r=n(53),o={};function a(t){t.install&&(o=t.install(o))}function s(t){return o.use=a,Object(r.b)(t),i.a.init("api/index.js")("Adding default methods to the API."),o=o=Object.assign(o,r.a),window.AD=o,o}},function(t,e,n){"use strict";n(25),n(20),n(92),n(21),n(11),n(42);var i=n(64),r=(n(163),n(63));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=["question-1-active","question-2-active","question-3-active"],h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(u,t);var e,n,r,o=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=o.call(this,t,"feedback-form")).questions=e.form.querySelector(".feedback-questions"),e.answers=e.form.querySelector(".feedback-answers").childNodes,e.activeVariant=!1,e.eventVariant=!1,e.timer=null,e.formStarted=!1,e.formComplete=!1,e.metrics=new i.a,e.overlayContainer.addEventListener("click",(function(t){return t.stopPropagation()})),e.attachEventsToAnswers(),e}return e=u,(n=[{key:"openForm",value:function(){this.formComplete||(s(f(u.prototype),"openForm",this).call(this),this.formStarted||(this.formStarted=!0,window.requestAnimationFrame(this.setNextActive.bind(this))))}},{key:"attachEventsToAnswers",value:function(){var t=this;this.answers.forEach((function(e){e.addEventListener("click",t.answerHandler.bind(t))}))}},{key:"setNextActive",value:function(){if(d.length){var t=d.shift();this.questions.className="feedback-questions "+t,this.questions.dataset.activeQuestion=t,d.length<1&&(this.setHideListeners(),this.formComplete=!0,this.hideFormOnTimer())}}},{key:"answerHandler",value:function(t){var e=this;t.preventDefault();var n=document.getElementById("count"),i=this.questions.getAttribute("data-active-question"),r=t.currentTarget,o=r.getAttribute("data-answer"),a=r.getAttribute("data-event-"+i);a&&this.metrics.track("feedback",a),r.classList.add("active"),1===d.length?(r.classList.add("stay"),r.removeEventListener("click",this.answerHandler),this.answers.forEach((function(t){return t.className+=" beGone"})),setTimeout((function(){r.classList.add("slideOver-"+o),n.innerHTML="All Done!",window.requestAnimationFrame(e.setNextActive.bind(e))}),2e3)):setTimeout((function(){r.classList.remove("active"),window.requestAnimationFrame(e.setNextActive.bind(e)),n.innerHTML="2 of 2"}),1500)}},{key:"hideFormOnTimer",value:function(){var t=this;this.timer=setTimeout((function(){t.isBrandedContentUnit||(t.form.classList.remove("is-active"),t.overlayButton.classList.remove("live")),t.exitCallback&&t.exitCallback()}),3e3)}}])&&a(e.prototype,n),r&&a(e,r),u}(r.a);e.a=h},function(t,e,n){var i=n(14),r=n(148).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){"use strict";var i,r,o=n(60),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(t){var e,n,i,r,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(e=c.lastIndex),i=a.call(c,t),l&&i&&(c.lastIndex=c.global?i.index+i[0].length:e),u&&i&&i.length>1&&s.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=c},function(t,e,n){var i=n(68),r=n(100),o=n(28),a=n(15),s=n(14),c=n(16);a(a.S,"Reflect",{get:function t(e,n){var a,l,u=arguments.length<3?e:arguments[2];return c(e)===u?e[n]:(a=i.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(l=r(e))?t(l,n,u):void 0}})},function(t,e,n){var i=n(14),r=n(36),o=n(10)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){t.exports=!n(17)&&!n(18)((function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(28),r=n(34),o=n(96)(!1),a=n(72)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),c=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(34),r=n(45),o=n(137);t.exports=function(t){return function(e,n,a){var s,c=i(e),l=r(c.length),u=o(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){"use strict";n(138)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){var i=n(59),r=n(37);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var i=n(13).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(28),r=n(35),o=n(72)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(16);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(51),r=n(10)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(61),r=n(10)("iterator"),o=n(51);t.exports=n(27).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(13),r=n(27),o=n(49),a=n(105),s=n(19).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(10)},function(t,e,n){var i=n(36);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var i,r,o,a=n(30),s=n(110),c=n(99),l=n(69),u=n(13),f=u.process,d=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,v=u.Dispatch,g=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){m.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},h=function(t){delete y[t]},"process"==n(36)(f)?i=function(t){f.nextTick(a(m,t,1))}:v&&v.now?i=function(t){v.now(a(m,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):i="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var i=n(39);function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){n(11),n(46),n(22),n(121),t.exports=n(27).Map},function(t,e,n){"use strict";var i=n(2),r=n(64),o={install:function(t){return this.log=i.a.init("./metrics/index.js"),t.metrics=function(t){return new r.a(t)},this.log("Metrics plugin is now available in the ad"),t}};e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return ct}));n(24),n(131),n(134);var i=n(88),r=n(62),o=n(3),a=n(6),s=n(0);n(157);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=n(161),u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.adEl||e.adData.disclaimerHidden)return!1;this.adData=e.adData,this.adEl=e.adEl,this.adRatioPercentage=100/this.adData.ratios[e.currentAdRatio].ratio,this.userFeedbackHidden=!1,this.addConcertPostamble(),this.addConcertAdBug(),this.adData.disclaimerLogoHidden?this.hideConcertLogo():this.addConcertLogoClickthrough(),this.listenForAspectRatioUpdates(),this.listenForBreakpointUpdates()}var e,n,i;return e=t,(n=[{key:"addConcertPostamble",value:function(){this.postamble=a.a.getHtmlFromString(l),this.adEl.appendChild(this.postamble),this.padAdContent()}},{key:"addConcertAdBug",value:function(){this.adBug=a.a.createEl("span",{class:"floaty-bug"}),this.adEl.appendChild(this.adBug)}},{key:"listenForBreakpointUpdates",value:function(){var t=this;s.a.subscribe("breakpoint",(function(e){t.updateAdRatioPercentage(e),t.padAdContent()}))}},{key:"listenForAspectRatioUpdates",value:function(){var t=this;s.a.subscribe("aspectRatioUpdate",(function(e){var n=e.ratio,i=e.breakpoint;t.adData.ratios[i].ratio=n,t.updateAdRatioPercentage(i),t.padAdContent()}))}},{key:"updateAdRatioPercentage",value:function(t){this.adRatioPercentage=100/this.adData.ratios[t].ratio}},{key:"padAdContent",value:function(){var t="0 0 calc(".concat(this.adRatioPercentage,"% + 20px)");this.adEl.style.padding=t}},{key:"addConcertLogoClickthrough",value:function(){var t=this.adData.settings,e=void 0===t?window:t,n=this.adEl.querySelector(".postamble-bar__concert-link"),i=(new r.a).get("concertLogoLink",!1);this.adEl&&n&&(n.href=i||o.a.concertMarketingUrl,n.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),e.window.open(n.href,"_blank")})))}},{key:"hideConcertLogo",value:function(){var t=this.adEl.querySelector(".ad__concert-link");this.adEl&&t&&(t.style.display="none")}}])&&c(e.prototype,n),i&&c(e,i),t}(),f=n(89),d=(n(25),n(20),n(21),n(11),n(42),n(165),n(63)),h=n(2);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(o,t);var e,n,i,r=y(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,"preferences")).log=h.a.init("Preferences.js"),h.a.debug(),e.adEl=t,e.toggle=e.form.querySelector(".personalization-toggle input"),e.label=e.form.querySelector(".personalization-label"),e.labelState=e.form.querySelector(".personalization--state"),e.learnMore=e.form.querySelector(".learn-more"),e.setInitialValue(),e.applyDomainToLearnMore(),e.toggle.addEventListener("change",(function(){return e.handleToggle()})),e}return e=o,(n=[{key:"setInitialValue",value:function(){this.toggle.checked="true"!==this.getLocalStorageValue(),this.updatePersonalizationLabel()}},{key:"getLocalStorageValue",value:function(){try{return window.parent.window.localStorage.getItem("c_nap")}catch(t){this.log("Unable to access localStorage")}}},{key:"handleToggle",value:function(){try{var t=!this.toggle.checked;window.parent.window.localStorage.setItem("c_nap",t),this.updatePersonalizationLabel()}catch(t){this.log("Unable to access localStorage")}}},{key:"updatePersonalizationLabel",value:function(){this.labelState.innerText=this.toggle.checked?"on":"off",this.label.classList.toggle("on",this.toggle.checked),this.label.classList.toggle("off",!this.toggle.checked)}},{key:"applyDomainToLearnMore",value:function(){if(window.referer){var t=new URL(window.referer).host;this.learnMore.href+="?domain=".concat(t)}}}])&&v(e.prototype,n),i&&v(e,i),o}(d.a);n(116),n(117);function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var x={safeFrameKey:"nullValueUntilOverridden",origin:!1,concertKey:o.a.concertKey,token:null},_=[],E=[],C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=h.a.init("concert/concert_manager.js"),this.log("Adding event listener for Concert Helper");var n=!!(window.location.href.indexOf("concert_preview")>-1);window.addEventListener("message",this.listener.bind(this)),s.a.create({concertConciergeAvailable:null}),this.concertConciergeAvailable=!1,this.registrationTimeout=Date.now()+5e3,this.adData=e,this.listenForAspectRatioUpdates(),this.createRefreshSubscription(),this.adData.enableSlotReveal&&E.push([this.enableAdReveal]),this.adData.disableSlotRefresh&&E.push([this.disableAdRefresh]),n&&(s.a.create({concertPreviewMenuData:null}),s.a.subscribe("concertPreviewMenuData",(function(t){E.push([this.sendConcertPreviewMenuData,t])})))}var e,n,i;return e=t,(n=[{key:"listener",value:function(t){var e=!!t.data&&t.data;try{e=JSON.parse(e)}catch(t){return!0}if(e.key===x.concertKey&&e.token&&"concierge"===e.sender){this.log("Message received from Concert Concierge: ".concat(JSON.stringify(e))),this.concertConciergeAvailable||(this.log("Marking concert concierge as available"),x.origin=t.origin,x.token=e.token,_=e.response.api,this.concertConciergeAvailable=!0,this.createConcertEvents(),this.register(),this.callConciergeResizingMethods());var n=e.response;n&&this.responseHandler(n)}}},{key:"createConcertEvents",value:function(){s.a.publishWithData({concertConciergeAvailable:this.concertConciergeAvailable})}},{key:"responseHandler",value:function(t){var e=t.type,n=t.value;"breakpointUpdate"===e?s.a.publishWithData({forceBreakpoint:n}):"revealInViewEvent"===e||"revealOutOfViewEvent"===e?s.a.publish(n):e&&n&&s.a.publishWithData(n)}},{key:"sendMessage",value:function(t,e){if(t&&!_.includes(t))return h.a.error("Tried to call ".concat(t," but this function is not available in concert helper.")),!1;var n={sender:"hymnalAd",key:x.concertKey,token:x.token,func:t,args:e};try{this.log("Sending message to concert concierge: ".concat(JSON.stringify(n))),window.top.postMessage(JSON.stringify(n),x.origin),window.postMessage(JSON.stringify(n),x.origin)}catch(t){h.a.error("Tried to postMessage to parent window, got error."),h.a.error(t)}return!0}},{key:"register",value:function(){return!this.concertConciergeAvailable&&Date.now()<=this.registrationTimeout?setTimeout(this.register.bind(this),50):Date.now()>=this.registrationTimeout?(h.a.log("Concert Concierge not found, calling finishSetup."),s.a.publishWithData({concertConciergeAvailable:!1}),!1):(this.sendMessage(),void(E.length>0&&(this.log("Concert Concierge is available, executing queued requests"),this.callQueuedMethods())))}},{key:"callQueuedMethods",value:function(){var t=this;this.log("Calling queued methods"),E=E.filter((function(e){return e[0].call(t,e[1]),!1}))}},{key:"disableAdRefresh",value:function(){this.log("Requesting disable ad refresh."),this.sendMessage("disableRefresh",{refresh:!1})}},{key:"enableAdReveal",value:function(){this.log("Requesting enable ad reveal."),this.sendMessage("enableReveal",{reveal:!0})}},{key:"sendConcertPreviewMenuData",value:function(t){this.log("Sending data for the Concierge to build the Concert Preview Menu."),this.sendMessage("concertPreviewMenu",t)}},{key:"createRefreshSubscription",value:function(){var t=this;s.a.create("refreshImmediately"),s.a.subscribe("refreshImmediately",(function(){t.sendMessage("disableRefresh",{refreshImmediately:!0})}))}},{key:"listenForAspectRatioUpdates",value:function(){var t=this;s.a.subscribe("aspectRatioUpdate",(function(e){var n=e.ratio,i=e.breakpoint;t.adData.ratios[i].ratio=n,t.concertConciergeAvailable&&t.callConciergeResizingMethods()}))}},{key:"callConciergeResizingMethods",value:function(){_&&_.includes("isHymnalPreview")?this.registerPreviewSizing():_&&this.registerAspectRatioSizing()}},{key:"registerPreviewSizing",value:function(){if(this.log("Preview resizing is being setup"),!x.token)return E.push([this.registerPreviewSizing]),!1;this.log("Sending message to Concert Helper to request aspect ratio sizing"),this.sendMessage("previewRatios",this.adData.ratios)}},{key:"registerAspectRatioSizing",value:function(){if(!x.token)return E.push([this.registerAspectRatioSizing]),!1;this.log("Sending message to Concert Helper to request aspect ratio sizing"),this.sendMessage("registerAspectRatios",this.adData.ratios)}}])&&k(e.prototype,n),i&&k(e,i),t}();n(70),n(54);function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=h.a.init("./context/context.js"),this.currentContext={},this.initData(),this.setupListeners(),this.createEvents(e.repeatEvents),this.reportInSample=this.sampleReport(),this.initReportingObserver(),this.adData=e.adData||{}}var e,n,i;return e=t,(n=[{key:"sampleReport",value:function(){return Math.random()<=1}},{key:"publishEvents",value:function(){this.log("Publishing events and data from standard iframe."),s.a.publish("contextDataAvailable"),s.a.publish(o.a.standardEvents.READY_EVENT),s.a.publish(o.a.standardEvents.IN_VIEW_EVENT),s.a.publish(o.a.standardEvents.RESIZE_EVENT),s.a.publish(o.a.standardEvents.SCROLL_EVENT)}},{key:"setupListeners",value:function(){var t=this;window.addEventListener("resize",a.a.throttle((function(){t.currentContext.frameWidth=window.innerWidth,t.currentContext.frameHeight=window.innerHeight,s.a.publishWithData(t.currentContext)}),1e3))}},{key:"initData",value:function(){this.currentContext.frameWidth=a.a.currentIframeWidth(),this.currentContext.frameHeight=a.a.currentIframeHeight(),this.currentContext.windowWidth=window.outerWidth,this.currentContext.windowHeight=window.outerHeight,this.currentContext.frameTop=0,this.currentContext.frameTopPositionOnPage=0,this.currentContext.frameBottomPositionOnPage=this.currentContext.frameHeight,this.currentContext.scrollPercent=0,this.currentContext.isMobile=!0,this.currentContext.inViewport=!0,this.currentContext.viewportTop=0}},{key:"createEvents",value:function(t){s.a.create(this.currentContext),s.a.create(o.a.standardEvents.IN_VIEW_EVENT,t),s.a.create(o.a.standardEvents.OUT_OF_VIEW_EVENT,t),s.a.create(o.a.standardEvents.RESIZE_EVENT,t),s.a.create(o.a.standardEvents.SCROLL_EVENT,t),s.a.create(o.a.standardEvents.READY_EVENT)}},{key:"shouldResize",value:function(){return!1}},{key:"context",value:function(){return this.currentContext}},{key:"resize",value:function(){return new Promise((function(t){t(!0)}))}},{key:"getAvailableWidth",value:function(){return a.a.currentIframeWidth()}},{key:"handleReports",value:function(t,e){t.forEach((function(t){if(t.body&&"HeavyAdIntervention"===t.body.id){var n=Object.assign({},{ad:e,report:t.body});navigator.sendBeacon("https://bids.concert.io/reporting",JSON.stringify(n))}}))}},{key:"initReportingObserver",value:function(){var t=this;if(this.reportInSample&&"Google Inc."==navigator.vendor&&window.chrome&&"undefined"!=typeof ReportingObserver){var e=new ReportingObserver((function(e){return t.handleReports(e,t.adData)}),{buffered:!0});e.observe(),window.addEventListener("pagehide",(function(){var n=e.takeRecords();t.handleReports(n)}))}}}])&&S(e.prototype,n),i&&S(e,i),t}();function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"windowWidth",value:function(){var t;try{t=window.AMP_CONTEXT_DATA.initialIntersection.rootBounds.width}catch(e){t=window.screen.availWidth}return t}}])&&O(e.prototype,n),i&&O(e,i),t}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(a,t);var e,n,i,r=D(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this,t)).log=h.a.init("context/safeframe.js"),e.sf=window.$sf.ext,t.inAMP&&(e.log("This Safeframe is in AMP, which means we can shrink."),e.AMP=new T),e.register(),e.updateContext({firstUpdate:!0}),s.a.publish("contextDataAvailable"),s.a.subscribe("frameWidth",(function(){s.a.publish(o.a.standardEvents.RESIZE_EVENT)})),e}return e=a,(n=[{key:"register",value:function(){this.log("Registering ad with SafeFrame."),this.sf.register(1,1,this.updateContext.bind(this))}},{key:"context",value:function(){return this.currentContext}},{key:"getAvailableWidth",value:function(){var t=this.sf.geom();return t.exp.r-t.exp.l}},{key:"updateContext",value:function(t){var e=t.firstUpdate;void 0!==e&&e&&s.a.publish(o.a.standardEvents.READY_EVENT);var n=this.sf.geom();s.a.publish(o.a.standardEvents.SCROLL_EVENT);var i=n.self.iv>=o.a.inViewThreshold;if(this.currentContext.inViewport!==i){var r=i?o.a.standardEvents.IN_VIEW_EVENT:o.a.standardEvents.OUT_OF_VIEW_EVENT;s.a.publish(r)}this.currentContext={frameWidth:window.innerWidth,frameHeight:window.innerHeight,windowWidth:n.win.w,windowHeight:n.win.h,frameTop:!1,isMobile:n.win.w<o.a.breakpoints.large.start,inViewport:i},s.a.publishWithData(this.currentContext)}}])&&I(e.prototype,n),i&&I(e,i),a}(A);n(97),n(169);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=F(t);if(e){var r=F(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return U(this,n)}}function U(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(c,t);var e,n,i,r=N(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=r.call(this,t)).getAccurateData(),e.addParentListeners(),e.disableSlotRefresh(t.disableSlotRefresh),e.enableSlotReveal=t.enableSlotReveal,e.log=h.a.init("context/classic.js"),s.a.publish("contextDataAvailable"),s.a.publish(o.a.standardEvents.READY_EVENT),e}return e=c,(n=[{key:"getAccurateData",value:function(){this.currentContext.frameWidth=this.activeWindow.innerWidth,this.currentContext.frameHeight=this.activeWindow.innerHeight,this.currentContext.windowWidth=window.top.innerWidth,this.currentContext.windowHeight=window.top.innerHeight,this.currentContext.frameTop=this.outerFrameElement.getBoundingClientRect().top,this.currentContext.frameTopPositionOnPage=this.currentContext.frameTop-window.top.document.body.getBoundingClientRect().top,this.currentContext.frameBottomPositionOnPage=this.currentContext.frameTopPositionOnPage+this.currentContext.frameHeight,this.currentContext.isMobile=window.top.matchMedia(o.a.breakpoints.small.query),this.currentContext.inViewport=this.isInViewport(),this.currentContext.viewportTop=window.top.scrollY,this.currentContext.scrollPercent=this.getScrollPercent()}},{key:"addParentListeners",value:function(){var t=this;window.top.addEventListener("resize",a.a.throttle((function(){t.currentContext.windowWidth=window.top.innerWidth,t.currentContext.windowHeight=window.top.innerHeight,s.a.publishWithData(t.currentContext)}),1e3)),window.top.addEventListener("scroll",a.a.throttle((function(){s.a.publish(o.a.standardEvents.SCROLL_EVENT),t.updateViewportTop(),t.updateScrollPercent(),t.checkInViewportEvent()}),100))}},{key:"updateViewportTop",value:function(){this.currentContext.viewportTop=window.top.scrollY}},{key:"updateScrollPercent",value:function(){this.currentContext.scrollPercent=this.getScrollPercent()}},{key:"checkInViewportEvent",value:function(){var t=this.isInViewport();if(t!==this.currentContext.inViewport&&!this.enableSlotReveal){var e=t?o.a.standardEvents.IN_VIEW_EVENT:o.a.standardEvents.OUT_OF_VIEW_EVENT;s.a.publish(e),this.currentContext.inViewport=t}}},{key:"disableSlotRefresh",value:function(t){t&&this.outerFrameElement.dispatchEvent(new CustomEvent("refreshEligibilityToggle",{bubbles:!0,detail:t}))}},{key:"shouldResize",value:function(){return!0}},{key:"isInViewport",value:function(){return a.a.inViewport(this.currentContext)}},{key:"getScrollPercent",value:function(){return a.a.scrollPercent(this.currentContext)}},{key:"enableRelativeSizing",value:function(){var t=this;return new Promise((function(e){t.log("enabling relative sizing on the iframe"),t.inNestedIframe&&(t.activeWindow.frameElement.width="100%",t.activeWindow.frameElement.style.width="100%");var n=window.frameElement?frameElement:document.body;n.width="100%",n.style.width="100%",e(n.getBoundingClientRect().width)}))}},{key:"getAvailableWidth",value:function(){return(window.frameElement?frameElement.parentElement:document.body).getBoundingClientRect().width}},{key:"resize",value:function(t){var e=this;return new Promise((function(n){e.log("Attempting to resize iframe.");var i=e.inNestedIframe,r=window.frameElement?frameElement:document.body,o=e.activeWindow;function a(e){var a=t.height;t.disclaimerHeight&&(a+=t.disclaimerHeight),(t.enforcingMaxHeight||t.enforcingWidth)&&(r.width=e,r.style.width="".concat(e,"px")),i&&(o.frameElement.height=a,o.frameElement.style.height=a),r.height=a,r.style.height="".concat(a,"px");var s=r.getBoundingClientRect();n({width:s.width,height:s.height})}return t.width&&t.width===e.getAvailableWidth()?e.enableRelativeSizing().then(a):(r.width=t.width,a(r.width))}))}},{key:"inNestedIframe",get:function(){return!(window.parent===window.top||!window.parent.window.frameElement)}},{key:"activeWindow",get:function(){return this.inNestedIframe?parent.window:window}},{key:"outerFrameElement",get:function(){return this.inNestedIframe?parent.window.frameElement:window===window.top?document.body:window.frameElement}}])&&H(e.prototype,n),i&&H(e,i),c}(A);function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=h.a.init("context/index.js"),this.resizeQueued=!1,this.config=e,this.config.forcedWidth=null,this.config.forcedHeight=null,s.a.create("contextDataAvailable"),this.safeframed?(this.log("Ad is in a safeframe, instantiating Safeframe Context for event and data management."),this.contextController=new M({repeatEvents:!0,inAMP:this.inAMP,adData:this.adContext})):this.sandboxed||this.safeframed?(this.log("Ad is in a restricted iframe without the Safeframe API, instantiating Sandbox Manager for event and data management"),this.contextController=new A({repeatEvents:!1,adData:this.adContext}),this.contextController.publishEvents()):(this.log("Ad is in an unrestricted iframe, instantiating Friendly Context for event and data management."),this.contextController=new z({repeatEvents:!0,disableSlotRefresh:this.config.disableSlotRefresh,enableSlotReveal:this.config.enableSlotReveal,adData:this.adContext})),this.doNotTrackEnabled&&this.log("Do Not Track is enabled, are we doing anything about it?")}var e,n,i;return e=t,(n=[{key:"resize",value:function(t){var e=this;return this.log("Requesting resize from active context controller."),this.contextController.resize(t).then((function(t){var n=e.disclaimerEnabled?t.height-e.config.disclaimerHeight:t.height;return e.log("Aspect ratio resize resulted in height of ".concat(t.height," and width of ").concat(t.width,".")),e.log("Rendered ratio is ".concat(t.width/n,", not including the postamble.")),e.log("Updating context data so it is accurate based on resize."),e.contextController.getAccurateData(),t})).catch((function(t){h.a.error(t)}))}},{key:"resizeToAspectRatio",value:function(t){if(!this.canResize)return this.log("Resize to aspect ratio ignored because of ad context."),Promise.resolve();var e=this.config.ratios[t].ratio,n=this.config.forcedHeight,i=this.config.forcedWidth,r=this.config.compilerConfig.max_height[t];this.log("Resize to aspect ratio ".concat(e," requested"));var o=i||this.contextController.getAvailableWidth(),a=Boolean(r&&o/e>=r),s=n||a&&r||o/e,c={width:i||a&&e*s||o,height:s,aspectRatio:e,enforcingMaxHeight:a,enforcingWidth:Boolean(i)};return this.disclaimerEnabled&&(c.disclaimerHeight=this.config.disclaimerHeight),this.resize(c)}},{key:"setHeightDangerously",value:function(t){this.canResize?(this.config.forcedHeight=t.forcedHeight,this.updateAspectRatio(t),this.resizeToAspectRatio(t.breakpoint)):this.log("Request to set height ignored because of ad context.")}},{key:"setWidthDangerously",value:function(t){this.canResize?(this.config.forcedWidth=t.forcedWidth,this.updateAspectRatio(t),this.resizeToAspectRatio(t.breakpoint)):this.log("Request to set width ignored because of ad context.")}},{key:"updateAspectRatio",value:function(t){var e=t.forcedHeight,n=t.forcedWidth,i=t.breakpoint,r=e||this.contextController.currentContext.frameHeight,o=(n||this.contextController.currentContext.frameWidth)/r;this.config.ratios[i].ratio=o;var a={ratio:o,breakpoint:i};s.a.publishWithData({aspectRatioUpdate:a})}},{key:"availableData",get:function(){var t=this.contextController.context();return Object.assign({inAmp:this.inAMP,sandboxed:this.sandboxed,safeframed:this.safeframed,doNotTrack:this.doNotTrackEnabled},t)}},{key:"disclaimerEnabled",get:function(){return this.config.disclaimerEnabled&&!this.inAMP}},{key:"doNotTrackEnabled",get:function(){return"1"===navigator.doNotTrack}},{key:"canResize",get:function(){return this.contextController.shouldResize()}},{key:"currentAspectRatios",get:function(){return this.config.ratios}},{key:"sandboxed",get:function(){var t=!1;try{window.parent&&window.parent.frameElement}catch(e){t=!0}return t}},{key:"safeframed",get:function(){return!!window.$sf}},{key:"inAMP",get:function(){return!!window.AMP_CONTEXT_DATA}},{key:"parentIsAccessible",get:function(){return!this.safeframed&&!this.sandboxed&&parent}},{key:"adContext",get:function(){return{lineItemId:this.config.dfpConfig.lineItemId,creativeId:this.config.dfpConfig.creativeId,orderId:this.config.dfpConfig.orderId,network:this.config.dfpConfig.network,name:this.config.adName,campaign:this.config.campaign,campaignName:this.config.campaignName,url:this.documentLocation,domain:this.documentDomain}}},{key:"documentLocation",get:function(){try{return/^https:\/\/tpc\.googlesyndication\.com\/safeframe\//.test(window.location.href)?document.referrer:window.location.href}catch(t){return document.referrer}}},{key:"documentDomain",get:function(){return new URL(this.documentLocation).hostname}}])&&W(e.prototype,n),i&&W(e,i),t}();function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var G=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.adElement=!1,this.adData=e,this.log=h.a.init("display/dom_constructor.js")}var e,n,i;return e=t,(n=[{key:"initializeHTML",value:function(){this.adElement=a.a.getHtmlFromString(this.adData.html),this.adElement.firstChild.setAttribute("data-hymnal-id",this.adData.id),this.adData.configElement.parentNode.insertBefore(this.adElement,this.adData.configElement),this.log("Ad HTML has been added to the body.")}},{key:"appendCSS",value:function(){if(this.adData.css){var t=document.head,e=a.a.createEl("style",{type:"text/css"});e.innerHTML=this.adData.css,t.appendChild(e),this.log("Ad CSS has been added to the head element.")}}}])&&Z(e.prototype,n),i&&Z(e,i),t}();n(38),n(22),n(31),n(124);function J(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t){return Object.values(o.a.breakpoints).filter(t).shift()}var X=function(){function t(e){var n=e.context,i=e.config;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=h.a.init("/shared/breakpoints.js"),this.context=n,this.config=i,this.forceBreakpoint=i.forceBreakpoint,this.breakpoint=this.internalBreakpoint,this.publishBreakpoint(),s.a.subscribe("windowWidth",this.updateBreakpoint.bind(this)),s.a.subscribe("contextDataAvailable",this.updateBreakpoint.bind(this)),this.setupForceBreakpoint()}var e,n,i;return e=t,(n=[{key:"setupForceBreakpoint",value:function(){var t=this;s.a.create("forceBreakpoint",!0),s.a.subscribe("forceBreakpoint",(function(e){t.forceBreakpoint=e,t.breakpoint=t.internalBreakpoint,t.publishBreakpoint()}))}},{key:"updateBreakpoint",value:function(){this.useExternalBreakpoint?(this.log("Ad context allows for resizing."),this.breakpoint=this.externalBreakpoint):(this.log("The current context does not allow for resizing."),this.breakpoint=this.internalBreakpoint),this.publishBreakpoint()}},{key:"publishBreakpoint",value:function(){s.a.publishWithData({breakpoint:this.activeBreakpoint.name}),this.log("Applying breakpoint class for ".concat(this.activeBreakpoint.name," to body element.")),document.body.className=this.activeBreakpoint.class}},{key:"useExternalBreakpoint",get:function(){return this.context.canResize&&!this.forceBreakpoint}},{key:"activeBreakpoint",get:function(){return this.breakpoint}},{key:"currentAspectRatio",get:function(){var t=this.context.parentIsAccessible,e=a.a.currentIframeHeight(t);return this.context.disclaimerEnabled&&(e-=this.config.disclaimerHeight),a.a.currentIframeWidth(t)/e}},{key:"externalBreakpoint",get:function(){var t=this.context.availableData.windowWidth;return Q((function(e){return t>e.start&&t<=e.end}))}},{key:"internalBreakpoint",get:function(){var t=this;if(this.forceBreakpoint)return Q((function(e){return e.name===t.forceBreakpoint}));var e=this.context.config.ratios;if(1===Object.keys(e).length)return Object.keys(e).shift();var n=this.currentAspectRatio,i=Math.abs(e.desktop.ratio-n),r=Math.abs(e.mobile.ratio-n),o=Math.min(i,r)===r?"mobile":"desktop";return Q((function(t){return t.name===o}))}}])&&J(e.prototype,n),i&&J(e,i),t}(),$=n(32),Y=(n(92),n(40),n(125),n(41));function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e,n){return(et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ot(t);if(e){var r=ot(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return rt(this,n)}}function rt(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,t);var e,n,i,r=it(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).designSetupFunction=e.compilerConfig.designSetupFunction||null,e}return e=o,(n=[{key:"extractFields",value:function(){this.variantId=this.getVariantId(),et(ot(o.prototype),"extractFields",this).call(this)}},{key:"getVariantId",value:function(){var t=this.dfpConfig.variantId;return t&&this.compilerConfig.fields[t]?t:Object.keys(this.compilerConfig.fields).shift()}},{key:"getHtml",value:function(){return Object(Y.b)(function(t,e){for(var n in e){var i=new RegExp("\\$AD_SERVER\\[".concat(n,"\\]"),"g");t=t.replace(i,e[n])}return t}(this.compilerConfig.html[this.variantId]||"",this.dfpConfig))}},{key:"getCss",value:function(){return Object(Y.b)(this.compilerConfig.css[this.variantId]||"")}},{key:"getJs",value:function(){return Object(Y.b)(this.compilerConfig.js[this.variantId]||"")}}])&&tt(e.prototype,n),i&&tt(e,i),o}(Y.a);function st(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ct=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=h.a.init("display_ad.js"),this.log("Initiating Display Ad setup"),this.APIConfig=e,this.findAndSetupConfig(),this.standardTracking(),this.createAspectRatioSubscription(),this.determineContext(),this.instantiateBreakpointsAndSizeAd(),this.renderAdDOM(),this.setupAPIAndInstallPlugins(),this.runAdJS(),this.setupPostamble(),this.setupFeedbackLoop(),this.setupPreferences()}var e,n,r;return e=t,(n=[{key:"findAndSetupConfig",value:function(){this.log("Finding ad config in window."),this.compilerConfig=window.hymnalAdConfig,this.log("setting up HymnalAdConfig (adData) with compiler config."),this.adData=new at(this.compilerConfig),$.a.setTrackingGlobals(this.adData)}},{key:"determineContext",value:function(){this.log("Instantiating concert manager"),this.concert=new C(this.adData),this.log("Determining current contextual capabilities"),this.context=new q(this.adData)}},{key:"instantiateBreakpointsAndSizeAd",value:function(){var t=this;this.log("Instantiating breakpoints module."),s.a.create({breakpoint:null}),s.a.subscribe("breakpoint",(function(e){t.context.resizeToAspectRatio(e)})),this.breakpoints=new X({context:this.context,config:this.adData})}},{key:"createAspectRatioSubscription",value:function(){s.a.create({aspectRatioUpdate:null})}},{key:"renderAdDOM",value:function(){this.log("Creating DOM."),this.adDOM=new G(this.adData),this.log("Adding CSS to head of iframe."),this.adDOM.appendCSS(),this.log("Adding HTML to body of iframe."),this.adDOM.initializeHTML()}},{key:"setupAPIAndInstallPlugins",value:function(){if(this.log("Creating and exposing MoneyPixels API"),this.API=this.createApi(),this.log("Installing all plugins."),this.APIConfig)for(var t in this.APIConfig)this.API.use(this.APIConfig[t])}},{key:"createApi",value:function(){return Object(i.a)({element:this.adDOM.adElement,context:this.context,breakpoint:this.breakpoints,adData:this.adData})}},{key:"standardTracking",value:function(){this.log("Autowrapping any urls in the HTML."),$.a.autoWrapURLs(),this.log("Adding all impression trackers."),$.a.addImpressionTrackers(this.adData.trackers)}},{key:"runAdJS",value:function(){if(this.log("Executing ad setup function."),this.adData.js){var t=document.createElement("script");t.innerHTML="(function(){".concat(this.adData.js,"})()"),setTimeout((function(){document.body.appendChild(t)}),0)}else this.log("Ad config has no javascript to execute.")}},{key:"setupPostamble",value:function(){var t=this;this.log("Adding Concert postamble to the ad."),this.adData.disclaimerEnabled?new u({adData:this.adData,adEl:this.adDOM.adElement,currentAdRatio:this.breakpoints.activeBreakpoint.name}):(this.log("Postamble is not enabled on this ad."),s.a.subscribe("aspectRatioUpdate",(function(e){t.log("Updating the ad element padding with the updated aspect ratio.");var n=100/e.ratio,i="0 0 calc(".concat(n,"%)");t.adDOM.adElement.style.padding=i})))}},{key:"setupFeedbackLoop",value:function(){this.log("Adding FeedbackLoop to the ad."),this.adData.showFeedbackForm?new f.a(this.adDOM.adElement):this.log("FeedbackLoop is not enabled on this ad.")}},{key:"setupPreferences",value:function(){if(this.log("Adding Preferences to the ad."),window.showConcertPreferences)new w(this.adDOM.adElement);else{var t=this.adDOM.adElement.querySelector(".postamble-bar__preferences-button");t&&t.classList.add("disabled"),this.log("Preferences is not enabled on this ad.")}}}])&&st(e.prototype,n),r&&st(e,r),t}()},,function(t,e,n){"use strict";var i=n(15),r=n(96)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(78)("includes")},function(t,e,n){"use strict";var i=n(15),r=n(167);i(i.P+i.F*n(168)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(98)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){"use strict";var i=n(61),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(152);var i=n(23),r=n(29),o=n(18),a=n(37),s=n(10),c=n(91),l=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var v=/./[d],g=n(a,d,""[t],(function(t,e,n,i,r){return e.exec===c?h&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),y=g[0],m=g[1];i(String.prototype,t,y),r(RegExp.prototype,d,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},function(t,e,n){"use strict";var i=n(146),r=n(108);t.exports=n(147)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(15),r=n(149)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(78)("find")},function(t,e,n){var i=n(16),r=n(39),o=n(10)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i=n(15),r=n(170)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(13),r=n(90),o=n(19).f,a=n(67).f,s=n(93),c=n(60),l=i.RegExp,u=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(n(17)&&(!p||n(18)((function(){return h[n(10)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")})))){l=function(t,e){var n=this instanceof l,i=s(t),o=void 0===e;return!n&&i&&t.constructor===l&&o?t:r(p?new u(i&&!o?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&o?c.call(t):e),n?this:f,l)};for(var v=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),y=0;g.length>y;)v(g[y++]);f.constructor=l,l.prototype=f,n(23)(i,"RegExp",l)}n(82)("RegExp")},,,,,,function(t,e,n){var i=n(132);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(44)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(43)(!1)).push([t.i,"body{margin:0}.ad__athena.ad__hymnal{background-color:rgba(255,255,255,0)}.ad__hymnal .ad__content{bottom:20px}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}))},function(t,e,n){t.exports=n(58)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var i=n(17),r=n(33),o=n(74),a=n(50),s=n(35),c=n(71),l=Object.assign;t.exports=!l||n(18)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){for(var n=s(t),l=arguments.length,u=1,f=o.f,d=a.f;l>u;)for(var h,p=c(arguments[u++]),v=f?r(p).concat(f(p)):r(p),g=v.length,y=0;g>y;)h=v[y++],i&&!d.call(p,h)||(n[h]=p[h]);return n}:l},function(t,e,n){var i=n(59),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(15),r=n(18),o=n(37),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e,n){n(17)&&"g"!=/./g.flags&&n(19).f(RegExp.prototype,"flags",{configurable:!0,get:n(60)})},function(t,e,n){"use strict";var i=n(55),r=n(47),o=n(52),a={};n(29)(a,n(10)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(19),r=n(16),o=n(33);t.exports=n(17)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,c=0;s>c;)i.f(t,n=a[c++],e[n]);return t}},function(t,e,n){"use strict";var i=n(19),r=n(47);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(33),r=n(74),o=n(50);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),c=o.f,l=0;s.length>l;)c.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var i=n(34),r=n(67).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(15),r=n(27),o=n(18);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){"use strict";var i=n(19).f,r=n(55),o=n(79),a=n(30),s=n(80),c=n(81),l=n(75),u=n(107),f=n(82),d=n(17),h=n(77).fastKey,p=n(108),v=d?"_s":"size",g=function(t,e){var n,i=h(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,i){s(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,null!=i&&c(i,n,t[l],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),i=g(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(t){p(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&i(u.prototype,"size",{get:function(){return p(this,e)[v]}}),u},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=h(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var i=n(13),r=n(15),o=n(23),a=n(79),s=n(77),c=n(81),l=n(80),u=n(14),f=n(18),d=n(76),h=n(52),p=n(90);t.exports=function(t,e,n,v,g,y){var m=i[t],b=m,w=g?"set":"add",k=b&&b.prototype,x={},_=function(t){var e=k[t];o(k,t,"delete"==t||"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(y||k.forEach&&!f((function(){(new b).entries().next()})))){var E=new b,C=E[w](y?{}:-0,1)!=E,S=f((function(){E.has(1)})),A=d((function(t){new b(t)})),O=!y&&f((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));A||((b=e((function(e,n){l(e,b,t);var i=p(new m,e,b);return null!=n&&c(n,g,i[w],i),i}))).prototype=k,k.constructor=b),(S||O)&&(_("delete"),_("has"),g&&_("get")),(O||C)&&_(w),y&&k.clear&&delete k.clear}else b=v.getConstructor(e,t,g,w),a(b.prototype,n),s.NEED=!0;return h(b,t),x[t]=b,r(r.G+r.W+r.F*(b!=m),x),y||v.setStrong(b,t,g),b}},function(t,e,n){var i=n(14),r=n(16),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(30)(Function.call,n(68).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(30),r=n(71),o=n(35),a=n(45),s=n(150);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var v,g,y=o(e),m=r(y),b=i(s,p,3),w=a(m.length),k=0,x=n?h(e,w):c?h(e,0):void 0;w>k;k++)if((d||k in m)&&(g=b(v=m[k],k,y),t))if(n)x[k]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return k;case 2:x.push(v)}else if(u)return!1;return f?-1:l||u?u:x}}},function(t,e,n){var i=n(151);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(14),r=n(106),o=n(10)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(91);n(15)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){var i=n(13),r=n(109).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,c="process"==n(36)(a);t.exports=function(){var t,e,n,l=function(){var i,r;for(c&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){r.call(i,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(13).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(16),r=n(14),o=n(111);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(158);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(44)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(159);(t.exports=n(43)(!1)).push([t.i,'.ad__hymnal.ad__has-preamble .ad__content{bottom:20px}.ad__hymnal .postamble{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,"Open Sans","Helvetica Neue", sans-serif;border:0;position:absolute;bottom:0;left:0;right:0}.ad__hymnal .postamble-bar{position:absolute;bottom:0;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;height:19px;width:100%;margin-top:1px;padding:0 5px;background:rgba(255,255,255,0.5)}.ad__hymnal .postamble-bar svg.left{height:13px;width:129.2px;cursor:pointer}.ad__hymnal .postamble-bar svg.right{width:auto;cursor:pointer;margin-right:0;margin-left:auto}.ad__hymnal .postamble-bar__preferences-button{cursor:pointer;width:12px;height:12px}.ad__hymnal .postamble-bar__preferences-button.active{opacity:0.4}.ad__hymnal .postamble-bar__feedback-button{cursor:pointer;height:7px;width:51.61px}.ad__hymnal .postamble-bar__feedback-button.active{opacity:0.4}.ad__hymnal .postamble-divider{display:none;width:10px;height:0px;margin:0 3px 0 3px;border:0.5px solid #B1B1B1;transform:rotate(90deg)}.ad__hymnal .floaty-bug{position:absolute;top:10px;left:10px;width:20px;height:15px;z-index:8000000}.ad__hymnal .floaty-bug:after{content:\'\';position:absolute;top:0;left:0;display:block;height:15px;width:20px;border-radius:3px;background-position:center;background-color:rgba(255,255,255,0.5);background-repeat:no-repeat;background-image:url('+i(n(160))+");background-size:60%}\n",""])},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 11.62 5.95'%3E %3Cg id='Layer_2' data-name='Layer 2'%3E %3Cg id='Layer_1-2' data-name='Layer 1'%3E %3Cg%3E %3Cpath d='M4.39,6,3.92,4.62H1.74L1.28,6H0L2.28,0H3.43L5.7,6ZM3.13,2.42,3,1.91l-.12-.42-.12.42c-.06.16-.11.33-.18.51L2.15,3.5H3.51Z'/%3E %3Cpath d='M11.62,3a3.2,3.2,0,0,1-.26,1.34,2.52,2.52,0,0,1-.69.93,2.66,2.66,0,0,1-1,.53A3.78,3.78,0,0,1,8.58,6H6.8V0H8.66A4,4,0,0,1,9.84.16a2.23,2.23,0,0,1,.93.51,2.41,2.41,0,0,1,.62.92A3.78,3.78,0,0,1,11.62,3ZM10.4,3A2,2,0,0,0,10,1.61a1.78,1.78,0,0,0-1.36-.45H8V4.79h.59a2.22,2.22,0,0,0,.81-.13A1.41,1.41,0,0,0,10,4.29a1.63,1.63,0,0,0,.34-.57A2.45,2.45,0,0,0,10.4,3Z'/%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports='<div class="postamble">\n  <div class="postamble-bar">\n    <svg class="left postamble-bar__concert-link" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 110.61 11.13">\n      <g id="Layer_2" data-name="Layer 2">\n        <g id="Layer_1-2" data-name="Layer 1">\n          <path\n              d="M3.84,4.25H7.69V0H3.84A3.84,3.84,0,0,0,0,3.84,3.79,3.79,0,0,0,.41,5.56a3.84,3.84,0,0,0,3.43,5.57H7.69V6.88H3.84a3,3,0,0,1-2.5-1.32A3.05,3.05,0,0,1,3.84,4.25Zm0,3.44h3v2.63h-3a3,3,0,0,1-3-3A3.09,3.09,0,0,1,1,6.37,3.81,3.81,0,0,0,3.84,7.69ZM1,4.76a3.1,3.1,0,0,1-.14-.92,3,3,0,0,1,3-3h3V3.44h-3A3.81,3.81,0,0,0,1,4.76Z" />\n          <g>\n            <path\n                d="M17,4.46a2.3,2.3,0,0,1-.16.88A1.65,1.65,0,0,1,16.4,6a1.88,1.88,0,0,1-.69.35,3.3,3.3,0,0,1-.85.11H13.55V8.52H12.36V2.57H15a2.9,2.9,0,0,1,.79.11A1.79,1.79,0,0,1,16.4,3a1.66,1.66,0,0,1,.45.59A2.08,2.08,0,0,1,17,4.46Zm-1.23,0a.66.66,0,0,0-.23-.57,1,1,0,0,0-.63-.18H13.55V5.26h1.38C15.5,5.26,15.78,5,15.78,4.48Z" />\n            <path\n                d="M23,5.54a4.44,4.44,0,0,1-.17,1.25,2.89,2.89,0,0,1-.51,1,2.28,2.28,0,0,1-.81.63,2.84,2.84,0,0,1-2.19,0,2.28,2.28,0,0,1-.81-.63,2.7,2.7,0,0,1-.5-1,4.1,4.1,0,0,1-.18-1.25A4.08,4.08,0,0,1,18,4.3a2.7,2.7,0,0,1,.5-1,2.28,2.28,0,0,1,.81-.63,2.84,2.84,0,0,1,2.19,0,2.28,2.28,0,0,1,.81.63,2.89,2.89,0,0,1,.51,1A4.42,4.42,0,0,1,23,5.54Zm-1.22,0a3.5,3.5,0,0,0-.08-.74,1.8,1.8,0,0,0-.24-.6A1.18,1.18,0,0,0,21,3.8a1.28,1.28,0,0,0-.61-.14,1.32,1.32,0,0,0-.62.14,1.24,1.24,0,0,0-.42.4,1.81,1.81,0,0,0-.25.6,3.51,3.51,0,0,0-.07.74,3.54,3.54,0,0,0,.07.75,1.81,1.81,0,0,0,.25.6,1.24,1.24,0,0,0,.42.4,1.32,1.32,0,0,0,.62.14A1.28,1.28,0,0,0,21,7.29a1.18,1.18,0,0,0,.43-.4,1.8,1.8,0,0,0,.24-.6A3.52,3.52,0,0,0,21.77,5.54Z" />\n            <path\n                d="M29.09,8.52H27.93L27.2,5.46a5.05,5.05,0,0,1-.12-.56c0-.19-.07-.35-.09-.46a4,4,0,0,1-.07.46c0,.2-.08.38-.12.56l-.75,3.06H24.94L23.7,2.57h1.24l.52,2.9c0,.15.05.31.08.5s.05.35.06.48q0-.19.09-.48c0-.19.08-.35.11-.5l.7-2.9h1l.7,2.9c0,.15.07.31.11.5s.08.35.1.48q0-.19.06-.48c0-.19,0-.36.08-.5l.52-2.9h1.22Z" />\n            <path d="M31.53,8.52V2.57h4.13V3.73H32.72v1h1.7V5.92h-1.7V7.36h3.06V8.52Z" />\n            <path\n                d="M40.5,8.52,39.44,6.38h-1.2V8.52H37.05V2.57h2.77a2.9,2.9,0,0,1,.79.11,1.92,1.92,0,0,1,.66.36,1.76,1.76,0,0,1,.44.59,1.92,1.92,0,0,1,.16.83,2,2,0,0,1-.29,1.1,1.74,1.74,0,0,1-.85.65l1.14,2.31Zm.15-4a.7.7,0,0,0-.23-.58,1,1,0,0,0-.62-.17H38.24V5.26H39.8C40.36,5.26,40.65,5,40.65,4.48Z" />\n            <path d="M43.12,8.52V2.57h4.13V3.73H44.31v1H46V5.92H44.31V7.36h3.07V8.52Z" />\n            <path\n                d="M53.46,5.54a3.1,3.1,0,0,1-.26,1.35,2.61,2.61,0,0,1-.68.93,2.83,2.83,0,0,1-1,.53,3.9,3.9,0,0,1-1.12.17H48.64V2.57h1.87a4,4,0,0,1,1.17.16,2.33,2.33,0,0,1,.94.51,2.53,2.53,0,0,1,.62.92A3.77,3.77,0,0,1,53.46,5.54Zm-1.22,0a1.94,1.94,0,0,0-.42-1.36,1.77,1.77,0,0,0-1.36-.45h-.63V7.36h.59a2.22,2.22,0,0,0,.81-.13,1.52,1.52,0,0,0,.57-.37,1.61,1.61,0,0,0,.33-.57A2.51,2.51,0,0,0,52.24,5.54Z" />\n            <path\n                d="M61.94,6.6a2.16,2.16,0,0,1-.15.83,1.77,1.77,0,0,1-.43.6,2.07,2.07,0,0,1-.67.37,3,3,0,0,1-.87.12h-2.7V2.57h2.73a2.15,2.15,0,0,1,1.37.4,1.41,1.41,0,0,1,.51,1.17,1.37,1.37,0,0,1-.16.68,1.27,1.27,0,0,1-.47.48,1.56,1.56,0,0,1,.6.48A1.35,1.35,0,0,1,61.94,6.6Zm-1.4-2.36a.55.55,0,0,0-.17-.43.89.89,0,0,0-.57-.14H58.29V4.8h1.57a.74.74,0,0,0,.53-.16A.57.57,0,0,0,60.54,4.24Zm.18,2.38c0-.51-.28-.77-.85-.77H58.29V7.4h1.58a.85.85,0,0,0,.64-.21A.77.77,0,0,0,60.72,6.62Z" />\n            <path\n                d="M65.72,6.16V8.52H64.53V6.19L62.28,2.57h1.37L64.49,4l.17.3c.07.11.13.22.19.33l.16.31a1,1,0,0,1,.12.23l.12-.23.17-.3.18-.33L65.78,4l.84-1.41H68Z" />\n            <path\n                d="M74.79,4.3a1.28,1.28,0,0,0-.42-.47,1.36,1.36,0,0,0-1.26,0,1.2,1.2,0,0,0-.45.39,2,2,0,0,0-.27.59,3,3,0,0,0-.09.76,3,3,0,0,0,.09.75,1.85,1.85,0,0,0,.28.6,1.33,1.33,0,0,0,.45.4,1.25,1.25,0,0,0,.59.14,1.17,1.17,0,0,0,.67-.18,1.72,1.72,0,0,0,.49-.58l1,.6a2.37,2.37,0,0,1-.85,1,2.46,2.46,0,0,1-1.35.35,2.65,2.65,0,0,1-1.07-.21,2.47,2.47,0,0,1-.82-.62,3,3,0,0,1-.53-1,4.26,4.26,0,0,1-.18-1.28,3.79,3.79,0,0,1,.19-1.24,2.94,2.94,0,0,1,.54-1,2.45,2.45,0,0,1,1.91-.85,3,3,0,0,1,.76.09,2.36,2.36,0,0,1,.6.28,1.85,1.85,0,0,1,.47.41,2.66,2.66,0,0,1,.34.53Z" />\n            <path\n                d="M81.73,5.54a4.11,4.11,0,0,1-.17,1.25,2.72,2.72,0,0,1-.51,1,2.28,2.28,0,0,1-.81.63,2.81,2.81,0,0,1-2.18,0,2.28,2.28,0,0,1-.81-.63,2.89,2.89,0,0,1-.51-1,4.11,4.11,0,0,1-.17-1.25,4.09,4.09,0,0,1,.17-1.24,2.89,2.89,0,0,1,.51-1,2.28,2.28,0,0,1,.81-.63,2.81,2.81,0,0,1,2.18,0,2.28,2.28,0,0,1,.81.63,2.72,2.72,0,0,1,.51,1A4.09,4.09,0,0,1,81.73,5.54Zm-1.22,0a3.5,3.5,0,0,0-.08-.74,1.8,1.8,0,0,0-.24-.6,1.24,1.24,0,0,0-.42-.4,1.44,1.44,0,0,0-1.24,0,1.24,1.24,0,0,0-.42.4,1.8,1.8,0,0,0-.24.6,3.51,3.51,0,0,0,0,1.49,1.8,1.8,0,0,0,.24.6,1.24,1.24,0,0,0,.42.4,1.44,1.44,0,0,0,1.24,0,1.24,1.24,0,0,0,.42-.4,1.8,1.8,0,0,0,.24-.6A3.52,3.52,0,0,0,80.51,5.54Z" />\n            <path\n                d="M86.71,8.52,84.52,5.27l-.23-.36c-.08-.13-.14-.23-.18-.31v.61c0,.13,0,.25,0,.38V8.52H83V2.57h1.14L86.2,5.71l.23.37a2.92,2.92,0,0,1,.18.31V6.14c0-.12,0-.23,0-.36V2.57h1.17V8.52Z" />\n            <path\n                d="M92.7,4.3a1.28,1.28,0,0,0-.42-.47A1.36,1.36,0,0,0,91,3.8a1.2,1.2,0,0,0-.45.39,2,2,0,0,0-.27.59,3,3,0,0,0-.09.76,3,3,0,0,0,.09.75,1.85,1.85,0,0,0,.28.6,1.4,1.4,0,0,0,.44.4,1.33,1.33,0,0,0,.6.14,1.17,1.17,0,0,0,.67-.18,1.72,1.72,0,0,0,.49-.58l1,.6a2.37,2.37,0,0,1-.85,1,2.46,2.46,0,0,1-1.35.35,2.62,2.62,0,0,1-1.07-.21,2.47,2.47,0,0,1-.82-.62,3,3,0,0,1-.53-1A4.25,4.25,0,0,1,89,5.54a3.79,3.79,0,0,1,.2-1.24,2.94,2.94,0,0,1,.54-1,2.45,2.45,0,0,1,1.91-.85,2.86,2.86,0,0,1,.75.09,2.28,2.28,0,0,1,.61.28,1.85,1.85,0,0,1,.47.41,2.66,2.66,0,0,1,.34.53Z" />\n            <path d="M95,8.52V2.57h4.13V3.73H96.18v1h1.71V5.92H96.18V7.36h3.07V8.52Z" />\n            <path\n                d="M104,8.52l-1.06-2.14h-1.2V8.52h-1.19V2.57h2.77a2.9,2.9,0,0,1,.79.11,1.79,1.79,0,0,1,.65.36,1.66,1.66,0,0,1,.45.59,2.08,2.08,0,0,1,.16.83,2,2,0,0,1-.29,1.1,1.78,1.78,0,0,1-.85.65l1.14,2.31Zm.14-4a.69.69,0,0,0-.22-.58,1,1,0,0,0-.63-.17h-1.55V5.26h1.55C103.83,5.26,104.11,5,104.11,4.48Z" />\n            <path d="M108.9,3.74V8.52h-1.19V3.74H106V2.57h4.61V3.74Z" />\n          </g>\n        </g>\n      </g>\n    </svg>\n    <svg class="right postamble-bar__feedback-button feedback-form-button postamble-bar-button hidden live" width="52" height="7" viewBox="0 0 52 7" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M4.85734 0.106648H0V6.89335H1.35734V4.03324H3.40305V2.71468H1.35734V1.4349H4.85734V0.106648Z" fill="black"/>\n      <path d="M10.9169 5.5651H7.4169V3.92659H9.36565V2.60803H7.4169V1.4349H10.7715V0.106648H6.05956V6.89335H10.9169V5.5651Z" fill="black"/>\n      <path d="M17.2226 5.5651H13.7226V3.92659H15.6714V2.60803H13.7226V1.4349H17.0772V0.106648H12.3653V6.89335H17.2226V5.5651Z" fill="black"/>\n      <path d="M20.7943 0.106648H18.671V6.89335H20.6973C22.4425 6.89335 24.1682 5.88504 24.1682 3.5C24.1682 1.01801 22.7333 0.106648 20.7943 0.106648ZM20.6973 5.57479H20.0283V1.42521H20.7458C22.1807 1.42521 22.7721 2.11357 22.7721 3.5C22.7721 4.741 22.1225 5.57479 20.6973 5.57479Z" fill="black"/>\n      <path d="M30.073 3.21884C30.519 2.94737 30.7904 2.48199 30.7904 1.90028C30.7904 0.736842 29.9566 0.106648 28.6381 0.106648H25.5259V6.89335H28.609C30.0633 6.89335 31.0231 6.12742 31.0231 4.70222C31.0231 3.95568 30.6159 3.46122 30.073 3.21884ZM28.6478 2.64681H26.8541V1.35734H28.5799C29.1713 1.35734 29.4137 1.58033 29.4137 2.00693C29.4137 2.38504 29.2101 2.64681 28.6478 2.64681ZM28.6575 5.60388H26.8541V3.84903H28.6575C29.3167 3.84903 29.627 4.13989 29.627 4.72161C29.627 5.25485 29.3167 5.60388 28.6575 5.60388Z" fill="black"/>\n      <path d="M34.1406 4.09141L34.5769 2.86011C34.7126 2.4626 34.8484 2.0554 34.9162 1.80332C34.9841 2.0554 35.1198 2.4626 35.2556 2.86011L35.6918 4.09141H34.1406ZM35.6046 0.106648H34.286L31.6877 6.89335H33.142L33.6752 5.38089H36.1572L36.6905 6.89335H38.1835L35.6046 0.106648Z" fill="black"/>\n      <path d="M41.8543 0C40.08 0 38.839 1.4349 38.839 3.5C38.839 5.64266 40.0316 7 41.8058 7C43.0371 7 43.8515 6.42798 44.3169 5.46814L43.1728 4.78947C42.8141 5.39058 42.4554 5.65235 41.8446 5.65235C40.8266 5.65235 40.2352 4.72161 40.2352 3.5C40.2352 2.23961 40.8169 1.34765 41.8349 1.34765C42.4457 1.34765 42.8335 1.61911 43.0759 2.08449L44.3363 1.50277C43.9097 0.620499 43.134 0 41.8543 0Z" fill="black"/>\n      <path d="M49.1153 2.45291L51.1028 0.106648H49.4643L47.564 2.42382C47.3798 2.64681 47.1277 2.95706 47.0308 3.11219C47.0405 2.89889 47.0502 2.28809 47.0502 2.03601V0.106648H45.6928V6.89335H47.0502V4.89612L48.1361 3.61634L49.9782 6.89335H51.607L49.1153 2.45291Z" fill="black"/>\n    </svg>\n    <div class="postamble-divider"></div>\n    <svg class="postamble-bar__preferences-button preferences-button postamble-bar-button hidden live" width="12" height="12" role="button" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M11.25 4.75H10.319C10.2265 4.43 10.0985 4.1215 9.9375 3.83L10.596 3.172C10.889 2.879 10.889 2.4045 10.5965 2.1115C10.5965 2.1115 10.5965 2.1115 10.596 2.111L9.8885 1.4045C9.5955 1.1115 9.121 1.1115 8.828 1.4045L8.169 2.063C7.878 1.902 7.5695 1.774 7.25 1.6815V0.75C7.25 0.336 6.914 0 6.5 0H5.5C5.086 0 4.75 0.336 4.75 0.75V1.6815C4.4305 1.774 4.122 1.902 3.8305 2.063L3.1715 1.4045C2.8785 1.1115 2.404 1.1115 2.111 1.4045L1.4035 2.1115C1.1105 2.4045 1.1105 2.879 1.403 3.172C1.403 3.172 1.403 3.172 1.4035 3.1725L2.0625 3.831C1.9015 4.122 1.7735 4.4305 1.681 4.75H0.75C0.336 4.75 0 5.086 0 5.5V6.5C0 6.914 0.336 7.25 0.75 7.25H1.681C1.7735 7.57 1.9015 7.8785 2.0625 8.1695L1.403 8.829C1.11 9.122 1.11 9.5965 1.403 9.8895L2.11 10.5965C2.4075 10.878 2.8735 10.878 3.171 10.5965L3.83 9.938C4.1215 10.099 4.43 10.227 4.75 10.32V11.25C4.75 11.664 5.086 12 5.5 12H6.5C6.914 12 7.25 11.664 7.25 11.25V10.32C7.5695 10.2275 7.878 10.0995 8.1695 9.9385L8.8285 10.597C9.1215 10.89 9.596 10.89 9.889 10.597L10.596 9.89C10.889 9.597 10.889 9.1225 10.596 8.8295L9.9375 8.171C10.0985 7.8795 10.2265 7.571 10.319 7.251H11.25C11.664 7.251 12 6.915 12 6.501C12 6.5005 12 6.5005 12 6.5V5.5C12 5.086 11.664 4.75 11.25 4.75ZM6 8.5C4.6195 8.5 3.5 7.3805 3.5 6C3.5 4.6195 4.6195 3.5 6 3.5C7.3805 3.5 8.5 4.6195 8.5 6C8.4985 7.38 7.38 8.4985 6 8.5Z" fill="black"/>\n    </svg>\n  </div>\n\n  \x3c!-- Ad Feedback Form --\x3e\n  <div class="ad__feedback-form">\n    <div class="feedback-form form">\n      <div class="feedback-form__positioner">\n        <button class="feedback-form__close-button">\n          <p>Close</p>\n          <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M7.15006 6.08894C7.10106 6.03994 7.10106 5.96094 7.15006 5.91194L11.7816 1.28094C12.0746 0.987438 12.0741 0.512438 11.7806 0.219438C11.4871 -0.0735621 11.0121 -0.0730621 10.7196 0.220438L6.08856 4.84944C6.03956 4.89844 5.96056 4.89844 5.91156 4.84944L1.28056 0.220438C0.987563 -0.0725621 0.512563 -0.0725621 0.220063 0.219938C-0.0724375 0.512438 -0.0729375 0.987938 0.219563 1.28094L4.85006 5.91194C4.89906 5.96094 4.89906 6.03994 4.85006 6.08894L0.219563 10.7204C-0.0734375 11.0134 -0.0729375 11.4884 0.219563 11.7814C0.512063 12.0744 0.987563 12.0739 1.28056 11.7814L5.91156 7.14994C5.96056 7.10094 6.03956 7.10094 6.08856 7.14994L10.7196 11.7814C11.0126 12.0744 11.4876 12.0744 11.7806 11.7814C12.0736 11.4884 12.0736 11.0134 11.7806 10.7204L7.15006 6.08894Z"\n                fill="black" />\n          </svg>\n        </button>\n        <div class="feedback-form__content">\n          <ul class="feedback-questions" data-active-question="">\n            <li class="feedback-question question-1">How do you feel about this ad?</h3></li>\n            <li class="feedback-question question-2">How do you feel about this advertiser?</h3></li>\n            <li class="feedback-question question-3">Thanks for helping us improve your experience!</h3></li>\n          </ul>\n\n          <ul class="feedback-answers">\n            <li class="feedback-answer bad question-1" data-answer="bad" data-event-question-1-active="ad-bad"\n                data-event-question-2-active="brand-bad">\n              <svg viewBox="0 0 156.14 156.14">\n                <g>\n                  <circle class="base" cx="78.07" cy="78.07" r="78.07" />\n                  <path class="mouth"\n                        d="M77.84,93.35c11.29.29,21,4.23,28.69,12.5a7.21,7.21,0,1,1-10.38,10,24.47,24.47,0,0,0-9.9-6.54,26.45,26.45,0,0,0-12.4-1.06,24.74,24.74,0,0,0-14.08,7.4A7.15,7.15,0,0,1,52,117.43a6.54,6.54,0,0,1-4.71-6.06,6.87,6.87,0,0,1,1.92-5.48A39.35,39.35,0,0,1,66.16,95.18,48.1,48.1,0,0,1,77.84,93.35Z" />\n                  <path class="right_eye"\n                        d="M96.32,56.82,105.55,53a5.12,5.12,0,0,1,7,3.46,10.26,10.26,0,0,1-.51,6.29,10.37,10.37,0,0,1-13.34,5.63,10.08,10.08,0,0,1-4.83-4.2A5.14,5.14,0,0,1,96.32,56.82Z" />\n                  <path class="left_eye"\n                        d="M58.88,56.82,49.65,53a5.12,5.12,0,0,0-7,3.46,10.26,10.26,0,0,0,.51,6.29,10.37,10.37,0,0,0,13.34,5.63,10.08,10.08,0,0,0,4.83-4.2A5.14,5.14,0,0,0,58.88,56.82Z" />\n                  <path class="check"\n                        d="M116.47,49a7.19,7.19,0,0,0-10.41,0L66.69,90.81,50.08,72A7.36,7.36,0,1,0,39.67,82.38L62.43,107.6a5.47,5.47,0,0,0,8,.12l46-48.34A7.19,7.19,0,0,0,116.47,49Z" />\n                </g>\n              </svg>\n              <span>Bad</span>\n            </li>\n            <li class="feedback-answer not_good question-1" data-answer="not-good"\n                data-event-question-1-active="ad-not-good" data-event-question-2-active="brand-not-good">\n              <svg viewBox="0 0 156.14 156.14">\n                <g>\n                  <circle class="base" cx="78.07" cy="78.07" r="78.07" />\n                  <path class="mouth"\n                        d="M77.84,93.35c11.29.29,21,4.23,28.69,12.5a7.21,7.21,0,1,1-10.38,10,24.47,24.47,0,0,0-9.9-6.54,26.45,26.45,0,0,0-12.4-1.06,24.74,24.74,0,0,0-14.08,7.4A7.15,7.15,0,0,1,52,117.43a6.54,6.54,0,0,1-4.71-6.06,6.87,6.87,0,0,1,1.92-5.48A39.35,39.35,0,0,1,66.16,95.18,48.1,48.1,0,0,1,77.84,93.35Z" />\n                  <path class="right_eye"\n                        d="M109.71,59.67l-7.07-7.07a5.12,5.12,0,0,0-7.76.54,10.26,10.26,0,0,0-1.92,6,10.37,10.37,0,0,0,10.19,10.28,10.08,10.08,0,0,0,6.06-2A5.14,5.14,0,0,0,109.71,59.67Z" />\n                  <path class="left_eye"\n                        d="M53.17,52.64,46.1,59.71a5.12,5.12,0,0,0,.54,7.76,10.26,10.26,0,0,0,6,1.92A10.37,10.37,0,0,0,62.93,59.21a10.08,10.08,0,0,0-2-6.06A5.14,5.14,0,0,0,53.17,52.64Z" />\n                  <path class="check"\n                        d="M116.47,49a7.19,7.19,0,0,0-10.41,0L66.69,90.81,50.08,72A7.36,7.36,0,1,0,39.67,82.38L62.43,107.6a5.47,5.47,0,0,0,8,.12l46-48.34A7.19,7.19,0,0,0,116.47,49Z" />\n                </g>\n              </svg>\n              <span>Not Good</span>\n            </li>\n            <li class="feedback-answer okay question-1" data-answer="okay" data-event-question-1-active="ad-okay"\n                data-event-question-2-active="brand-okay">\n              <a class="action" href="#">\n                <svg viewBox="0 0 156.14 156.14">\n                  <g>\n                    <circle class="base" cx="78.07" cy="78.07" r="78.07" />\n                    <path class="mouth" d="M51.45,70.47A10.24,10.24,0,1,1,51.6,50a10.24,10.24,0,1,1-.14,20.47Z" />\n                    <path class="right_eye"\n                          d="M104.41,70.47A10.21,10.21,0,1,1,114.7,60.29,10.37,10.37,0,0,1,104.41,70.47Z" />\n                    <path class="left_eye"\n                          d="M102.06,98.88H55.2a6.87,6.87,0,1,0,0,13.74h46.86a6.87,6.87,0,1,0,0-13.74Z" />\n                    <path class="check"\n                          d="M116.47,49a7.19,7.19,0,0,0-10.41,0L66.69,90.81,50.08,72A7.36,7.36,0,1,0,39.67,82.38L62.43,107.6a5.47,5.47,0,0,0,8,.12l46-48.34A7.19,7.19,0,0,0,116.47,49Z" />\n                  </g>\n                </svg>\n                <span>Okay</span>\n              </a>\n            </li>\n            <li class="feedback-answer good question-1" data-answer="good" data-event-question-1-active="ad-good"\n                data-event-question-2-active="brand-good">\n              <svg viewBox="0 0 156.14 156.14">\n                <g>\n                  <circle class="base" cx="78.07" cy="78.07" r="78.07" />\n                  <path class="mouth"\n                        d="M78.45,118.15c-11.29-.29-21-4.23-28.69-12.5a7.21,7.21,0,1,1,10.38-10,24.47,24.47,0,0,0,9.9,6.54,26.45,26.45,0,0,0,12.4,1.06,24.74,24.74,0,0,0,14.08-7.4,7.15,7.15,0,0,1,7.74-1.78,6.54,6.54,0,0,1,4.71,6.06A6.87,6.87,0,0,1,107,105.6a39.35,39.35,0,0,1-16.92,10.72A47.74,47.74,0,0,1,78.45,118.15Z" />\n                  <path class="right_eye" d="M51.92,70.47A10.24,10.24,0,1,1,52.06,50a10.24,10.24,0,1,1-.14,20.47Z" />\n                  <path class="left_eye"\n                        d="M104.88,70.47a10.21,10.21,0,1,1,10.28-10.19A10.37,10.37,0,0,1,104.88,70.47Z" />\n                  <path class="check"\n                        d="M116.47,49a7.19,7.19,0,0,0-10.41,0L66.69,90.81,50.08,72A7.36,7.36,0,1,0,39.67,82.38L62.43,107.6a5.47,5.47,0,0,0,8,.12l46-48.34A7.19,7.19,0,0,0,116.47,49Z" />\n                </g>\n              </svg>\n              <span>Good</span>\n            </li>\n            <li class="feedback-answer great question-1" data-answer="great" data-event-question-1-active="ad-great"\n                data-event-question-2-active="brand-great">\n              <svg viewBox="0 0 156.14 156.14">\n                <g>\n                  <circle class="base" cx="78.07" cy="78.07" r="78.07" />\n                  <path class="mouth"\n                        d="M61.79,60.33a10.28,10.28,0,1,0-20.57-.1A10.21,10.21,0,0,0,51.45,70.47,10.34,10.34,0,0,0,61.79,60.33Z" />\n                  <path class="right_eye" d="M104.32,50A10.21,10.21,0,1,0,114.7,60.29,10.28,10.28,0,0,0,104.32,50Z" />\n                  <path class="left_eye"\n                        d="M105.36,97.36h-55a3.15,3.15,0,0,0-3.15,3.17,7.26,7.26,0,0,0,2.05,5.12c7.74,8.27,17.4,12.21,28.69,12.5a47.74,47.74,0,0,0,11.68-1.83,39.35,39.35,0,0,0,16.92-10.72,6.86,6.86,0,0,0,1.94-5.08A3.16,3.16,0,0,0,105.36,97.36Z" />\n                  <path class="check"\n                        d="M116.47,49a7.19,7.19,0,0,0-10.41,0L66.69,90.81,50.08,72A7.36,7.36,0,1,0,39.67,82.38L62.43,107.6a5.47,5.47,0,0,0,8,.12l46-48.34A7.19,7.19,0,0,0,116.47,49Z" />\n                </g>\n              </svg>\n              <span>Great</span>\n            </li>\n          </ul>\n          <div class="counter">\n            <span id="count">1 of 2</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Ad Preferences Form --\x3e\n  <div class="ad__preferences">\n    <div class="preferences form">\n      <div class="preferences__positioner">\n        <button class="preferences__close-button">\n          <p>Close</p>\n          <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M7.15006 6.08894C7.10106 6.03994 7.10106 5.96094 7.15006 5.91194L11.7816 1.28094C12.0746 0.987438 12.0741 0.512438 11.7806 0.219438C11.4871 -0.0735621 11.0121 -0.0730621 10.7196 0.220438L6.08856 4.84944C6.03956 4.89844 5.96056 4.89844 5.91156 4.84944L1.28056 0.220438C0.987563 -0.0725621 0.512563 -0.0725621 0.220063 0.219938C-0.0724375 0.512438 -0.0729375 0.987938 0.219563 1.28094L4.85006 5.91194C4.89906 5.96094 4.89906 6.03994 4.85006 6.08894L0.219563 10.7204C-0.0734375 11.0134 -0.0729375 11.4884 0.219563 11.7814C0.512063 12.0744 0.987563 12.0739 1.28056 11.7814L5.91156 7.14994C5.96056 7.10094 6.03956 7.10094 6.08856 7.14994L10.7196 11.7814C11.0126 12.0744 11.4876 12.0744 11.7806 11.7814C12.0736 11.4884 12.0736 11.0134 11.7806 10.7204L7.15006 6.08894Z"\n                fill="black" />\n          </svg>\n        </button>\n        <div class="preferences__content">\n          \x3c!-- Ad Personalization --\x3e\n          <h1>Your Preferences</h1>\n\n          <div class="personalization-content">\n            <div class="personalization-label">\n              Ad personalization is\n              <span class="personalization--state">on</span>\n            </div>\n            <label class="personalization-toggle">\n              <input type="checkbox" />\n              <span class="personalization-toggle-slider"></span>\n            </label>\n          </div>\n\n          <p>\n            <a href="https://cdn.concert.io/lib/bids/preferences.html" class="learn-more" target="_blank">Learn more</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,e,n){"use strict";var i=n(39),r=n(14),o=n(110),a=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?c(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){var i=n(164);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(44)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(43)(!1)).push([t.i,'.feedback-form{display:none}.feedback-form.is-active{display:block;height:0;left:0;margin:auto;overflow:hidden;padding-top:calc(960.0 / 640.0 * 100%);position:absolute;right:0;bottom:10px;width:100%;z-index:9000000}.hidden{display:none}.ad__hymnal .feedback-form__close-button{border:none;cursor:pointer;display:flex;position:absolute;right:8px;top:15px}.ad__hymnal .feedback-form__close-button p{color:#000000;font-family:"Inter", sans-serif;line-height:107%;font-size:0.9em;font-weight:500;padding-right:12px}.ad__hymnal .feedback-form__close-button svg{fill:#000000;height:0.8em;width:0.8em}.feedback-form__positioner{background-color:#fff;box-sizing:border-box;height:92%;left:50%;padding:10px;position:absolute;top:50%;transform:translate(-50%, -50%);width:93%;box-shadow:0 0 10px rgba(0,0,0,0.25);border-radius:5px}.is-medium .feedback-form__positioner,.is-large .feedback-form__positioner{height:91%;width:97%}.ad__hymnal .feedback-form__positioner{background-color:#fff}.feedback-form__content{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);width:100%}.is-medium .feedback-form.is-active,.is-large .feedback-form.is-active,.feedback-form.is-short.is-active{padding-top:calc(610.0 / 1060.0 * 100%)}.ad__hymnal .feedback-questions{align-items:center;display:flex;list-style:none;margin:0 auto 45px auto;min-height:20px;overflow:hidden;padding:0;position:relative;text-align:center;transform:translate3d(33%, 0, 0);transition:transform .25s ease-in-out;width:300%;width:300%}.feedback-questions.question-1-active{transform:translate3d(0, 0, 0)}.feedback-questions.question-2-active{transform:translate3d(-33.33%, 0, 0)}.feedback-questions.question-3-active{transform:translate3d(-66.66%, 0, 0)}.ad__hymnal .feedback-question{color:#888;display:block;font-family:"Helvetica neue",sans-serif;font-size:15px;font-weight:200;margin:0 auto;text-align:center;transition:transform .25s ease-in-out;width:100%}.feedback-answers{display:block;list-style-type:none;padding:0;position:relative;text-align:center;width:100%}.feedback-answers:before{border-top:3px solid #eee;content:"";height:0;left:0;margin:-13px auto 0 auto;max-width:480px;position:absolute;right:0;top:50%;width:100%;z-index:-1}@media (max-width: 500px){.feedback-answers:before{max-width:300px}}.ad__hymnal .feedback-answer{cursor:pointer;display:inline-block;margin:0 15px;min-width:52px;transition:opacity 1s ease-out}@media (max-width: 500px){.ad__hymnal .feedback-answer{margin:0 5px;min-width:45px}}.ad__hymnal .feedback-answer svg{display:block;height:40px;margin:0 auto;transition:transform ease-in-out 0.2s;width:40px}@media (max-width: 500px){.ad__hymnal .feedback-answer svg{height:28px;width:28px}}.ad__hymnal .feedback-answer path,.ad__hymnal .feedback-answer circle{transition:transform ease-in-out 0.2s;transition:opacity ease-in-out 0.2s}.ad__hymnal .feedback-answer li.active svg{transform:scale(1.5)}.ad__hymnal .feedback-answer li.active svg .mouth,.ad__hymnal .feedback-answer li.active svg .left_eye,.ad__hymnal .feedback-answer li.active svg .right_eye{fill:#645e52}.ad__hymnal .feedback-answer li.active span{color:#645e52;transform:translateY(5px)}.ad__hymnal .feedback-answer li:active{transform:translateY(4px)}.ad__hymnal .feedback-answer span{color:#abb2b6;display:block;font-family:"Helvetica neue",sans-serif;font-size:13px;font-weight:200;margin-top:9px;transition:transform ease-in-out 0.2s}@media (max-width: 500px){.ad__hymnal .feedback-answer span{font-size:10px}}.is-large .ad__hymnal .feedback-answer:hover svg{transform:scale(1.5)}.is-large .ad__hymnal .feedback-answer:hover svg .mouth,.is-large .ad__hymnal .feedback-answer:hover svg .left_eye,.is-large .ad__hymnal .feedback-answer:hover svg .right_eye{fill:#645e52}.is-large .ad__hymnal .feedback-answer:hover span{color:#645e52;transform:translateY(5px)}.base{fill:#d2d2d2}.mouth,.left_eye,.right_eye{fill:#888}.active .mouth,.active .left_eye,.active .right_eye{opacity:0;transition:opacity ease-in-out 0.6s;transition:transform ease-in-out 0.6s}.check{fill:#645e52;opacity:0}.active .check{opacity:1;transition:all ease-in-out 1.2s}.counter{text-align:center}.counter #count{border-radius:3px;border:1px solid #eee;color:#d2d2d2;display:inline-block;font-family:"Helvetica neue",sans-serif;font-size:10px;margin-top:26px;padding:2px 4px}.bad.active svg .base{fill:#fc7242}.not_good.active svg .base{fill:#fec389}.okay.active svg .base{fill:#f8e57d}.good.active svg .base{fill:#8cdee1}.great.active svg .base{fill:#57dce3}.is-large .bad:hover svg .base{fill:#fc7242}.is-large .not_good:hover svg .base{fill:#fec389}.is-large .okay:hover svg .base{fill:#f8e57d}.is-large .good:hover svg .base{fill:#8cdee1}.is-large .great:hover svg .base{fill:#57dce3}.beGone:not(.stay){opacity:0;transition:opacity 1s ease-out}.is-small .slideOver-bad{transform:translateX(calc(200% + 27px));transition:transform .5s ease-out}.is-medium .slideOver-bad,.is-large .slideOver-bad{transform:translateX(calc(200% + 65px));transition:transform .5s ease-out}.is-small .slideOver-not-good{transform:translateX(calc(100% + 14px));transition:transform .5s ease-out}.is-medium .slideOver-not-good,.is-large .slideOver-not-good{transform:translateX(calc(100% + 32px));transition:transform .5s ease-out}.is-small .slideOver-okay,.is-medium .slideOver-okay,.is-large .slideOver-okay{transition:transform .5s ease-out}.is-small .slideOver-good{transform:translateX(calc(-100% - 14px));transition:transform .5s ease-out}.is-medium .slideOver-good,.is-large .slideOver-good{transform:translateX(calc(-100% - 32px));transition:transform .5s ease-out}.is-small .slideOver-great{transform:translateX(calc(-200% - 27px));transition:transform .5s ease-out}.is-medium .slideOver-great,.is-large .slideOver-great{transform:translateX(calc(-200% - 65px));transition:transform .5s ease-out}.slideOver-bad.active svg .base,.slideOver-not-good.active svg .base,.slideOver-okay.active svg .base,.slideOver-good.active svg .base,.slideOver-great.active svg .base{fill:#44ed9e}.slideOver-bad.active span,.slideOver-not-good.active span,.slideOver-okay.active span,.slideOver-good.active span,.slideOver-great.active span{opacity:0}\n',""])},function(t,e,n){var i=n(166);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(44)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(43)(!1)).push([t.i,'.preferences{display:none;font-size:1rem}.preferences.is-active{display:block;height:0;left:0;margin:auto;overflow:hidden;padding-top:calc(960.0 / 640.0 * 100%);position:absolute;right:0;bottom:1em;width:100%;z-index:9000000}.is-medium .preferences.is-active,.is-large .preferences.is-active,.preferences.is-active.is-short{padding-top:calc(610.0 / 1060.0 * 100%)}.is-small .preferences.is-active.is-short{bottom:3em}.ad__hymnal .preferences .preferences__close-button{border:none;cursor:pointer;display:flex;align-items:baseline;position:absolute;right:8px;top:15px}.ad__hymnal .preferences .preferences__close-button p{color:#000000;font-family:"Inter", sans-serif;font-size:0.9rem;font-weight:500;padding-right:12px}.ad__hymnal .preferences .preferences__close-button svg{fill:#000000;height:0.8rem}.preferences__positioner{background-color:#fff;box-sizing:border-box;height:92%;left:50%;padding:10px;position:absolute;top:50%;transform:translate(-50%, -50%);width:93%;display:flex;box-shadow:0 0 10px rgba(0,0,0,0.25);border-radius:5px}.ad__hymnal .preferences__positioner{background-color:#fff}.ad__hymnal .preferences .preferences__content{padding:1em;margin:auto;max-width:400px}.ad__hymnal .preferences .preferences__content h1{margin-bottom:1em}.ad__hymnal .preferences .preferences__content h2{font-size:1.2em;padding-bottom:5%;margin-top:30px;color:#000000}@media screen and (min-width: 280px) and (max-width: 356px){.ad__hymnal .preferences .preferences__content h2{font-size:1em}}@media screen and (max-height: 215px){.ad__hymnal .preferences .preferences__content h2{font-size:.7em;margin-top:0px;padding-bottom:1%}}.ad__hymnal .preferences .preferences__content p{color:#000000;font-size:.875rem;margin-bottom:1em;font-family:"Inter", sans-serif;font-style:normal;font-weight:200;line-height:125%;letter-spacing:0.5px}@media screen and (max-height: 215px){.ad__hymnal .preferences .preferences__content p{font-size:.7rem}}@media screen and (min-width: 325px) and (max-width: 356px){.ad__hymnal .preferences .preferences__content p{font-size:.75rem}}.ad__hymnal .preferences .preferences__content p a{color:#397BDA;cursor:pointer;text-decoration-line:underline}.ad__hymnal .preferences .preferences__content>*{flex-basis:50%}.is-medium .preferences .preferences__positioner,.is-large .preferences .preferences__positioner{height:91%;width:97%}.preferences .personalization-content{display:flex;align-items:center;justify-content:space-between;margin-bottom:1em;font-size:1rem}.preferences .personalization-label{font-size:1em;font-weight:500;letter-spacing:0.5px;float:left;width:250px}@media screen and (max-height: 215px){.preferences .personalization-label{font-size:.8em}}@media screen and (min-width: 280px) and (max-width: 356px){.preferences .personalization-label{width:210px}}@media screen and (max-width: 355px){.preferences .personalization-label{width:180px;font-size:0.8em}}.personalization--state{text-transform:uppercase}.on{color:#1e7be2}.off{color:#5f5f5f}.personalization-toggle{position:relative;display:inline-block;height:30px;width:58px}.personalization-toggle input{display:none}.personalization-toggle-slider{position:relative;display:block;height:28px;width:56px;border-radius:500px;border:1px solid #e0e0e0;cursor:pointer;transition-property:background-color;transition-duration:0.2s;box-shadow:inset 0 0 2px rgba(0,0,0,0.07)}.personalization-toggle-slider:before{content:"";background-color:#94989e;position:absolute;width:24px;height:24px;left:2px;bottom:1px;border-radius:50%;transition-property:left, box-shadow;transition-duration:0.2s}input:checked+.personalization-toggle-slider:before{background-color:#1e7be2 !important}input:checked+.personalization-toggle-slider:before{left:28px}.hidden{display:none !important}\n',""])},function(t,e,n){var i=n(93),r=n(37);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(10)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e){!function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var n,i;return(e=e||{}).bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()},function(t,e,n){var i=n(17),r=n(33),o=n(34),a=n(50).f;t.exports=function(t){return function(e){for(var n,s=o(e),c=r(s),l=c.length,u=0,f=[];l>u;)n=c[u++],i&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(24),n(21),n(11),n(46),n(56),n(22),n(25),n(20);var i=n(2),r=n(6),o=n(3),a=n(0),s=n(32);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialPosition=e.initialPosition,this.startX=e.startX,this.currentSwipe=0}var e,n,i;return e=t,(n=[{key:"update",value:function(t){return this.currentSwipe=this.startX-t,this.initialPosition-this.currentSwipe}},{key:"end",value:function(t){var e={endPosition:this.update(t),direction:""};return this.initialPosition===this.currentSwipe||(e.direction=e.endPosition>this.initialPosition?"right":"left"),e}}])&&c(e.prototype,n),i&&c(e,i),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slideshow=e,this.slideCountIndex=e.slideCount-1,this.totalSlides=e.slideElements.length,this.setSlideIndex(),this.initListeners()}var e,n,i;return e=t,(n=[{key:"initListeners",value:function(){var t=this,e="ontouchstart"in window,n=e?"touchstart":"mousedown",i=e?"touchmove":"mousemove",r=e?"touchend":"mouseup";this.slideshow.container.addEventListener(n,(function(e){t.updatePos(e,"start")})),this.slideshow.container.addEventListener(i,(function(e){t.updatePos(e,"move")})),this.slideshow.container.addEventListener(r,(function(e){t.updatePos(e,"end")}))}},{key:"setTransform",value:function(t){this.slideshow.infiniteLooping&&(t-=this.slideshow.slideWidth),this.slideshow.container.style.transform="translate3D("+t+"px,0,0)"}},{key:"validSwipe",value:function(t){var e=Math.abs(t)-this.activeSlideIndex*this.slideshow.slideWidth;return Math.floor(this.slideshow.slideWidth/e)<3}},{key:"snapToSlide",value:function(t){var e=t.endPosition,n=t.direction;this.validSwipe(e)?"left"===n?this.slideshow.goToNextSlide():"right"===n&&this.slideshow.goToPreviousSlide():this.setTransform(this.activeSlideIndex*this.slideshow.slideWidth*-1),this.setSlideIndex()}},{key:"setSlideIndex",value:function(){this.activeSlideIndex=this.slideshow.activeSlide-1}},{key:"updatePos",value:function(t,e){var n=t.pageX?t.pageX:t.changedTouches[0].pageX;switch(this.setSlideIndex(),e){case"start":this.onMove=new l({initialPosition:this.activeSlideIndex*this.slideshow.slideWidth*-1,startX:n});break;case"move":if(this.onMove){this.preventDefault=!0;var i=this.onMove.update(n);this.setTransform(i)}break;case"end":this.preventDefault&&(t.preventDefault(),this.preventDefault=!1);var r=this.onMove.end(n);this.snapToSlide(r),this.onMove=null}}}])&&u(e.prototype,n),i&&u(e,i),t}();function d(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var p={transitionDefault:"transform .3s ease-in-out",clickClass:"ad__slide-click",noClickClass:"ad__slide-info",progressElement:"ad__slideshow-progress-dot",progressActive:"ad__progress-active",resetStyles:function(t){var e=t.container,n=t.prevButton,i=t.nextButton,o=t.progressEl,a=t.slideElements.length,s=t.infiniteLooping?"translateX(-".concat(100/a,"%)"):"translateX(-".concat(0,"%)");if("UL"===e.tagName){var c=t.slideElements.length*t.slideWidth,l=100*t.slideHeightPercentage;r.a.applyStyle(e,{listStyle:"none",margin:0,padding:0,width:"".concat(c,"px"),height:"".concat(l,"%"),transform:s})}else console.error("The slideshow container element should be an UL tag.");var u={zIndex:"20000",position:"absolute"};n&&!t.disableDefaultStyles&&r.a.applyStyle(n,u),i&&!t.disableDefaultStyles&&r.a.applyStyle(i,u),o&&!t.disableDefaultStyles&&r.a.applyStyle(o,{listStyle:"none",position:"absolute",margin:"0 auto",width:"100%",bottom:"4px",zIndex:"200"})},progressElementStyles:function(t){t.progressElements.forEach((function(t){r.a.applyStyle(t,{display:"inline-block"})}))},createWrapper:function(t){var e=r.a.createEl("section",{class:"ad__slideshow-wrapper",style:t.disableDefaultStyles?"position: absolute;":t.wrapperStyle});return t.container.parentNode.insertBefore(e,t.container),e.appendChild(t.container),e},setupSlides:function(t){var e=t.slideElements.map((function(e,n){n++,e.setAttribute("data-index",n),e.setAttribute("data-name","slide-".concat(n)),r.a.applyStyle(e,{transform:"translateX(".concat(100*(n-1),"%)"),position:"absolute",width:"".concat(t.slideWidth,"px"),zIndex:100});var i=e.getAttribute("data-clickthrough");return i&&(i=s.a.wrapURL(i)),{el:e,index:n,clickthrough:i,mobile:e.getAttribute("data-mobile"),desktop:e.getAttribute("data-desktop")}}));return this.simplifyHTML(e),e},removeEmptySlides:function(t,e){if(t.surveyFormat&&t.numberSurveyQuestions){var n=e.length,i=parseInt(t.numberSurveyQuestions,10),r=n-1-i;return e.splice(i,r).forEach((function(t){t.remove()})),e}return e.filter((function(t){var e=t.getAttribute("data-mobile"),n=t.getAttribute("data-desktop");return!(!e&&!n)||(t.remove(),!1)}))},cloneEndSlides:function(t){return[t.slice(0,1).shift(),t.slice(-1).shift()].forEach((function(e,n){var i=e.cloneNode(!0);i.setAttribute("data-cloned-element","true"),0===n?e.parentNode.appendChild(i):e.parentNode.insertBefore(i,t[0])})),d(t[0].parentNode.children)},setupSwiper:function(t){t.swiper=new f(t)},simplifyHTML:function(t){t.forEach((function(t){t.el.removeAttribute("data-clickthrough"),t.el.removeAttribute("data-mobile"),t.el.removeAttribute("data-desktop")}))},createImages:function(t){var e=this;t.slideObjects.forEach((function(n){var i;i=n.clickthrough?r.a.createEl("a",{target:"_blank",href:n.clickthrough,class:e.clickClass,style:"object-fit: cover;"}):r.a.createEl("div",{class:e.noClickClass,style:"object-fit: cover;"});for(var o=n.el.cloneNode(!0),a="mobile"===t.activeBreakpoint?n.mobile:n.desktop,s=r.a.createEl("img",{src:a,style:"width: 100%;",class:"slide-background"}),c=0;c<o.children.length;c++)i.appendChild(o.children[c]);i.appendChild(s),n.el.innerHTML="",n.el.appendChild(i)}))},updateImages:function(t){t.slideObjects.forEach((function(e){var n=e.el.querySelector(".slide-background"),i="mobile"===t.activeBreakpoint?e.mobile:e.desktop;n.src=i}))},determineWrapperStyle:function(t){t.wrapperStyle=t.wrapperStyles?t.wrapperStyles[t.activeBreakpoint]:"overflow: hidden; position: absolute; top: 0; left: 0; right: 0; bottom: 0;"},determineSlideDimensions:function(t){t.slideWidthPercentage=t.slideSizePercentages?t.slideSizePercentages[t.activeBreakpoint].width:1,t.slideHeightPercentage=t.slideSizePercentages?t.slideSizePercentages[t.activeBreakpoint].height:1,t.slideWidth=r.a.currentIframeWidth()*t.slideWidthPercentage},ensureCorrectSizing:function(t){t.container.width=t.slideWidth,t.activeWidth=t.slideWidth}},v=(n(31),n(38),"The slides for a slideshow must be the children of the container element. The suggested semantic HTML is <ul> and <li> elements."),g="Slideshow must be initialized with options object that includes a containing element and optional previous/next buttons.",y="Slideshow must be initialized with a container HTML element.",m=function(t){return"The initialization keys ".concat(JSON.stringify(t)," are not the required type.")};function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w={containerTransitionCleanup:null,validateOpts:function(t){var e={disableDefaultStyles:"boolean",enableMobileSwiper:"boolean",infiniteLooping:"boolean",numberSurveyQuestions:"number",slideSizePercentages:"object",surveyFormat:"boolean",wrapperStyles:"object"},n=Object.keys(t).filter((function(n){return e[n]?!(b(t[n])===e[n]):!(t[n]instanceof Element)}));if(!t.container)throw new Error(y);if(n.length>0)throw new Error(m(n));return 0===n.length},addContainerListener:function(t){var e=this;t.container.addEventListener("transitionend",(function(){t.container.style.transition="",e.containerTransitionCleanup&&(e.containerTransitionCleanup.call(t),e.containerTransitionCleanup=null)}))},addWindowResizeListener:function(t){window.addEventListener("resize",(function(){t.newActiveBreakpoint=t.API.isMobile()?"mobile":"desktop",t.newActiveBreakpoint!==t.activeBreakpoint&&(t.activeBreakpoint=t.newActiveBreakpoint,p.updateImages(t)),p.determineWrapperStyle(t),p.determineSlideDimensions(t);var e=t.slideElements.length*t.slideWidth,n=100*t.slideHeightPercentage;r.a.applyStyle(t.container,{width:"".concat(e,"px"),height:"".concat(n,"%")}),t.slideElements.forEach((function(e){r.a.applyStyle(e,{width:"".concat(t.slideWidth,"px")})})),t.disableDefaultStyles||t.wrapper.setAttribute("style",t.wrapperStyle)}))},transitionToActiveSlide:function(t){var e=t.targetSlide,n=t.slideElements.length,i=(t.infiniteLooping?e:e-1)*(100/n),r=e;if(0===e||e>t.slideCount){var o=0===e?t.slideCount*(100/n):100/n;this.containerTransitionCleanup=function(){t.container.style.transform="translateX(-".concat(o,"%)")},r=0===e?t.slideCount:1}return t.container.style.transition=p.transitionDefault,t.container.style.transform="translateX(-".concat(i,"%)"),r},highlightActiveSlide:function(t){if(!t.progressEl)return!1;var e=t.activeSlide,n=t.progressEl;n.querySelector(".".concat(p.progressActive)).classList.remove(p.progressActive);var i=t.infiniteLooping?e:e-1;n.querySelector('[data-index="'.concat(i,'"]')).classList.add(p.progressActive)}};function k(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.API=e,this.autoplaying=!1}var e,n,s;return e=t,(n=[{key:"createSlideshow",value:function(t){if(!t)throw new Error(g);if(!w.validateOpts(t))return!1;if(this.log=i.a.init("Creating new Slideshow in the ad."),this.container=t.container,this.infiniteLooping="boolean"!=typeof t.infiniteLooping||t.infiniteLooping,this.slideSizePercentages=t.slideSizePercentages,this.wrapperStyles=t.wrapperStyles,this.disableDefaultStyles=t.disableDefaultStyles||!1,this.enableMobileSwiper=t.enableMobileSwiper||!1,this.nextButton=t.nextButton||null,this.prevButton=t.prevButton||null,this.surveyFormat=t.surveyFormat,this.numberSurveyQuestions=t.numberSurveyQuestions,w.addContainerListener(this),w.addWindowResizeListener(this),this.activeBreakpoint=this.API.isMobile()?"mobile":"desktop",p.determineWrapperStyle(this),p.determineSlideDimensions(this),!this.container.children.length)throw new Error(v);return this.wrapper=p.createWrapper(this),this.findAndPrepareSlides(),this.slideObjects=p.setupSlides(this),p.createImages(this),t.progressContainer&&(this.progressEl=t.progressContainer,this.createProgressElements(),p.progressElementStyles(this)),p.ensureCorrectSizing(this),p.resetStyles(this),this.setupButtons(),this.enableMobileSwiper&&AD.isMobile()&&p.setupSwiper(this),a.a.create({slideChange:{action:"",activeSlide:this.activeSlide}}),a.a.create("slideshowReady",!1),a.a.publish("slideshowReady"),this}},{key:"autoplay",value:function(t){var e=this,n=1e3*t||3e3;function i(){return this.autoplaying?this.paused?(this.timeout=setTimeout(i.bind(this),n),!1):(a.a.publishWithData({slideChange:{action:"right-autoplay-progressed",activeSlide:this.activeSlide}}),this.goToNextSlide(),void(this.timeout=setTimeout(i.bind(this),n))):clearTimeout(this.timeout)}this.paused=!1,this.autoplaying=!0,this.container.addEventListener("mouseover",(function(){return e.paused=!0})),this.container.addEventListener("mouseout",(function(){return e.paused=!1})),this.container.addEventListener("touchstart",(function(){return e.paused=!0})),this.container.addEventListener("touchend",(function(){return e.paused=!0})),a.a.subscribe(o.a.standardEvents.OUT_OF_VIEW_EVENT,(function(){e.autoplaying=!1,e.paused=!0})),a.a.subscribe(o.a.standardEvents.IN_VIEW_EVENT,(function(){e.autoplaying=!0,e.paused=!1,e.timeout=setTimeout(i.bind(e),n)})),AD&&AD.isInView()&&(this.timeout=setTimeout(i.bind(this),n))}},{key:"findAndPrepareSlides",value:function(){var t=p.removeEmptySlides(this,k(this.container.children));this.slideCount=t.length,this.slideElements=this.infiniteLooping?p.cloneEndSlides(t):t,this.activeSlide=1,this.targetSlide=1}},{key:"setupButtons",value:function(){var t=this;this.prevButton&&this.prevButton.addEventListener("click",(function(){t.autoplaying=!1,t.goToPreviousSlide()})),this.nextButton&&this.nextButton.addEventListener("click",(function(){t.autoplaying=!1,t.goToNextSlide()}))}},{key:"goToPreviousSlide",value:function(){if(a.a.publishWithData({slideChange:{action:"left-button-clicked",activeSlide:this.activeSlide}}),this.targetSlide=this.activeSlide-1,0===this.targetSlide&&!this.infiniteLooping)return!0;this.activeSlide=w.transitionToActiveSlide(this),w.highlightActiveSlide(this)}},{key:"goToNextSlide",value:function(){if(a.a.publishWithData({slideChange:{action:"right-button-clicked",activeSlide:this.activeSlide}}),this.targetSlide=this.activeSlide+1,this.targetSlide>this.slideCount&&!this.infiniteLooping)return this.autoplaying&&(this.autoplaying=!1,clearTimeout(this.timeout)),!0;this.activeSlide=w.transitionToActiveSlide(this),w.highlightActiveSlide(this)}},{key:"createProgressElements",value:function(){var t=this;if(!this.progressEl)return!1;this.progressEl.innerHTML="",this.slideElements.forEach((function(e,n){if(e.getAttribute("data-cloned-element"))return!0;var i=n===(t.infiniteLooping?1:0)?"".concat(p.progressElement," ").concat(p.progressActive):p.progressElement;t.progressEl.appendChild(r.a.createEl("li",{class:i,"data-index":n,"data-indicator-for":e.getAttribute("data-name")}))})),this.progressElements=k(this.progressEl.querySelectorAll("li"))}}])&&_(e.prototype,n),s&&_(e,s),t}(),C={install:function(t){this.log=i.a.init("./plugins/slideshow/index.js");var e=new E(t);return t.Slideshow=e.createSlideshow.bind(e),this.log("Slideshow plugin is now available in the ad."),t}};e.a=C},,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(114),r=n(113),o=n(222);e.default=new i.a({Metrics:r.a,Slideshow:o.a})}]).default.API;