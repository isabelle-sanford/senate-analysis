!function(){"use strict";var t,e=[],n=["www.washingtonpost.com","pb-impact.washingtonpost.com","fusion-sandbox.washingtonpost.com","www.wapodev.com","www.wapostage.com","pb-dev.digitalink.com","pb-staging.digitalink.com","localhost","localhost.digitalink.com","subscribe.digitalink.com","subs-stage.digitalink.com"],o={prod:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},fStage:{anon:{default:3e5,optedOut:63072e6},signed:{default:3e5,optedOut:3e5}},fqa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}},stage:{anon:{default:864e5,optedOut:63072e6},signed:{default:864e5,optedOut:864e5}},qa:{anon:{default:3e5,optedOut:18e5},signed:{default:3e5,optedOut:3e5}}};function a(){if(void 0!==t)return t;try{var e=(new Date).toString();window.localStorage.setItem(e,e);var n=window.localStorage.getItem(e)===e;return window.localStorage.removeItem(e),t=n,n}catch(e){return t=!1,!1}}function i(t){if(!t)return null;if(!document.cookie)return null;for(var e={},n=null,o=document.cookie.split(";"),a=0;a<o.length;a++)if(o[a].indexOf("=")>0){var i=o[a].split("="),s=i[0],r=i[1];s&&(s=s.trim()),s===t&&(r||(r=""),n=r.trim()),e[s]=r.trim()}return n}function s(t,e,n,o,a,i){var s,r="",c="",p=".washingtonpost.com",w=!1===a?"":";secure";n<0?r=";expires=".concat(new Date(1e3).toUTCString):n>0&&(r=";expires=".concat(new Date(n).toUTCString())),"qa"===i&&(p=".digitalink.com"),null!=p&&(c=";domain=".concat(p)),e||(e=""),s=o?e:encodeURIComponent(e);var l="".concat(t,"=").concat(s,";path=/").concat(r).concat(c).concat(w);document.cookie=l}function r(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function c(t,e,o){if(a()&&!r(e)){var i=window.location.hostname;-1!==n.indexOf(i)&&(e.e=Date.now()+(o||0),localStorage.setItem(t,JSON.stringify(e)))}}function p(t,e,n,o){return e=e||"GET",n=n&&JSON.stringify(n)||null,new Promise((function(a,i){var s=new XMLHttpRequest;s.open(e,t,!0),s.timeout=3e3,s.withCredentials=!0,o&&o.contentType&&s.setRequestHeader("Content-Type",o.contentType),s.onload=function(t){if(4===(t=t.target||{}).readyState&&200===t.status){var e={};try{(e=JSON.parse(t.response)).statusCode=200,a(e)}catch(t){i("")}}else t.status>=400&&i({message:t.status})},s.onerror=function(t){i("")},s.ontimeout=function(){i("")},s.send(n)}))}function w(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]".concat(t,"(=([^&#]*)|&|#|$)")).exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var l="wapo_identity",u="wapo_secure_login_id",d="wp_usp",g="privacySetting",m={iabSpec:1,explicitNotice:"Y",optOut:"N",lspa:"Y"},f={prod:{env:"prod",feLoggingApi:"https://www.washingtonpost.com/subscribe/logging/",pwapiProxyApi:"https://www.washingtonpost.com/pwapi-proxy/pwproxy",pwapiProxyV2Api:"https://www.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://www.washingtonpost.com/subscribe/user/auth-status",sipUrl:"https://www.washingtonpost.com/subscribe/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.washingtonpost.com/swg/check-entitlement"},fStage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.wapostage.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},stage:{env:"stage",feLoggingApi:"https://subs-stage.washingtonpost.com/logging/",pwapiProxyApi:"https://pwapiproxy-stage.washingtonpost.com/pwproxy",pwapiProxyV2Api:"https://subs-stage.washingtonpost.com/pwapiv2/article",cookieDomain:".washingtonpost.com",LSDomain:"www.washingtonpost.com",authStatusUrl:"https://subs-stage.washingtonpost.com/user/auth-status",sipUrl:"https://subs-stage.washingtonpost.com/user/save-identity-preferences",checkEntitlementUrl:"https://subs-stage.washingtonpost.com/swg/check-entitlement"},fQa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://pwapi2.digitalink.com/article",cookieDomain:".digitalink.com",LSDomain:"www.wapodev.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"},qa:{env:"qa",feLoggingApi:"https://subscribe.digitalink.com/logging/",pwapiProxyApi:"https://testpwapi-proxy.digitalink.com/pwproxy",pwapiProxyV2Api:"https://pwapi2.digitalink.com/article",cookieDomain:".digitalink.com",LSDomain:"pb-dev.digitalink.com",authStatusUrl:"https://subscribe.digitalink.com/user/auth-status",sipUrl:"https://subscribe.digitalink.com/user/save-identity-preferences",checkEntitlementUrl:"https://subscribe.digitalink.com/swg/check-entitlement"}};function h(){var t="prod";return-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pb/")||-1!==window.location.hostname.indexOf("pb-impact")||-1!==window.location.hostname.indexOf("impact.wash")||-1!==window.location.hostname.indexOf("vforum-stage.")?t="stage":-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.wash")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("sandbox.wash")||-1!==window.location.hostname.indexOf("preview.now.washingtonpost.com")?t="fStage":-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf("/pf/")||-1!==window.location.hostname.indexOf("localhost.digitalink")&&-1!==window.location.href.indexOf(":3000")||-1!==window.location.hostname.indexOf("www.digitalink.com")||-1!==window.location.hostname.indexOf("dev.wash")&&-1!==window.location.href.indexOf("/pf/")?t="fQa":-1===window.location.hostname.indexOf("digitalink.com")&&-1===window.location.hostname.indexOf("dev.wash")||(t="qa"),t}function v(){return f[h()]}var y={},S=window.performance&&window.performance.timing||{},_=(new Date).getTime();function O(t,e){for(var n=e.split("."),o=0,a=n.length;null!=t&&o<a;){t=t[n[o++]]}return o&&o===a?t:void 0}var b=(new Date).getTime();function x(t,e,n){var o,a=v();switch(n=n||{},e=e||"",t){case"info":o="logInfo";break;case"success":o="logSuccess";break;case"error":o="logHandledError";break;case"expectedError":o="logExpectedError";break;default:o="logInfo"}var i=a.feLoggingApi;try{var s=new XMLHttpRequest;s.open("POST",i+o,!0),s.setRequestHeader("Content-Type","application/json"),n.processId=b,n.path=window.location.pathname;var r={appName:"site-paywall",locationId:"pwapi-proxy",message:e,state:n};s.withCredentials=!0,s.send(JSON.stringify(r)),s.onload=function(){},s.onerror=function(){}}catch(t){console.error("LOGGING ERROR")}}function k(t){var n;(t=t||{}).referrer=document.referrer,Object.assign(t,(n={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,o,a){e.indexOf(o)>=0&&(n[o]=a)})),n));var o="";for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];"string"==typeof i&&""!==i&&(o+="".concat(a,"=").concat(encodeURIComponent(i.trim()),"&"))}return o}function C(t){var e=v()||{};return new Promise((function(n,o){var a,i,s={entitlements:t};if(a=document.cookie.match(/wapo_login_id=([^\;]*)/),i=document.cookie.match(/wapo_secure_login_id=([^\;]*)/),null!=a&&null!=a[1]&&null!=i&&null!=i[1])return n({status:"NOT_CHECKED",systemMessages:"User logged in"});p(e.checkEntitlementUrl,"POST",s,{contentType:"application/json"}).then((function(t){n(t)})).catch((function(t){var e={status:"ERROR",systemMessages:"Check Entitlement failed with ".concat(t.message)};n(e)}))}))}function P(t){var e;if(function(t){var e=!1,n=i("wp_dbg_ent");return(t.toString().indexOf("23")>=0||null!=n)&&(e=!0),e}(t))switch(y.name){case"fusion":window.wpMetaData=window.wpMetaData||{},(e=window.wpMetaData.sct_tags&&window.wpMetaData.sct_tags.split(",")||[]).push("subs_enterprise"),window.wpMetaData.sct_tags=e.join(",");break;case"classic":window.wp_meta_data=window.wp_meta_data||{},(e=window.wp_meta_data.tags_for_paywall_subs&&window.wp_meta_data.tags_for_paywall_subs.split(",")||[]).push("subs_enterprise"),window.wp_meta_data.tags_for_paywall_subs=e.join(",")}}var T=36e5,D=[{name:"wapo_login_id",expireOffsetMillis:T,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wapo_secure_login_id",expireOffsetMillis:T,cookiesToLocalStorage:!1,localStorageToCookies:!0,useDelimiter:!1},{name:"wp_ak_v_m",expireOffsetMillis:5184e6,cookiesToLocalStorage:!0,localStorageToCookies:!0,useDelimiter:!0,delimiterValue:"|",notEncoded:!0}];function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}window.consumers=window.consumers||[],window.extConsumers=window.extConsumers||[];var A={status:"init"},j={};function N(t){A=Object.assign(A,t),window.pwapiPaywallResponse=A;for(var e=0;e<window.extConsumers.length;e++)window.extConsumers[e](A);for(var n=0;n<window.consumers.length;n++)window.consumers[n](A)}function R(t,e){var n;(n=document.createElement("script")).type="text/javascript",n.setAttribute("subscriptions-control","manual"),n.src="https://news.google.com/swg/js/v1/swg.js",n.onerror=function(){},document.head.appendChild(n),function(t,e){(window.SUBSCRIPTIONS=window.SUBSCRIPTIONS||[]).push((function(n){var o=!1,a={process:"swg-entitlement"};if(-1===window.location.href.indexOf("localhost.")&&-1===window.location.href.indexOf("local."))try{n.init("washingtonpost.com:basic"),n.getEntitlements().then((function(n){return n&&n.entitlements&&n.entitlements.length>0?(N({action:0,data:{action:0},status:"final"}),o=!0,a.numEntitlements=n.entitlements.length,a.pwresp_action=t,a.pwresp_action_final=0,a.pwresp_mtrct=e,a.raw_entitlements=JSON.stringify(n.entitlements),n.entitlements.forEach((function(t,e){if(t.source.indexOf("washingtonpost.com")>=0)a.postSWGPurchase=!0,t.subscriptionToken?a["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.subscriptionToken):a["entitlement_".concat(e)]="entitlementType=post|subscriptionToken=".concat(t.signedEntitlements);else if(t.subscriptionToken){a.gglSWGPurchase=!0;var n=JSON.parse(t.subscriptionToken);a["entitlement_".concat(e)]="entitlementType=google|orderId=".concat(n.orderId,"|packageName=").concat(n.packageName,"|productId=").concat(n.productId,"|purchaseTime").concat(n.purchaseTime)}}))):N({status:"final"}),n})).then((function(t){o&&C(t.entitlements).then((function(t){var e=[];e.push("isEntitled=".concat(t.status)),t.createAccount&&e.push("isLinked=".concat(!t.createAccount)),t.systemMessages&&e.push("messages=".concat(t.systemMessages)),a.entitlement_status=e.join("|"),x("info","swg entitlements",a)}))})).catch((function(){N({status:"final"})}))}catch(t){N({status:"final"})}else N({status:"final"})}))}(t,e),setTimeout((function(){"final"!==A.status&&N({status:"final"})}),5e3)}function L(t,e){var n=t.data&&t.data.actionCodes?"v2":"v1",o="v2"===n?"v2_":"",i=function(t,e){return"v1"===e?t:M(M({},t),{},{sub:t.data.isSubscriber?1:0,data:M({action:t.data.action,actions:t.data.actionCodes,ip:t.data.ipAddress||null,mtr:t.data.meterState,mtrct:t.data.meterCount,mtrw:t.data.articleWeight,mtrwman:t.data.articleWeightManual,mtrwmac:t.data.articleWeightMachine,sgn:t.data.isSignedIn?1:0},t.data)})}(t,n);if(i.listeningTo=e,j.process="paywall-display",j["pwresp_".concat(o,"action")]=i.data.action,j["pwresp_".concat(o,"actions")]=i.data.actions.join(","),j["pwresp_".concat(o,"mtrct")]=i.data.meterCount,n===e){i.status="processing",window.pwapiPaywallStatus=200;var s=i.data.meterCount,r={3:"paywall",6:"softwall",9:"regwall"}[i.data.action],c=i.data.actions,p=i.data.wallMeterType,w="";switch(r){case"paywall":w="".concat(p||"meter","_").concat(r),2===i.data.mtrw&&(w="double_meter_".concat(r)),i.data.mtrct=w,i.data.meterCount=w;break;case"softwall":case"regwall":p&&(i.data.mtrct="".concat(p,"_").concat(r),i.data.meterCount="".concat(p,"_").concat(r))}P(c),!function(){if(!a())return!1;var t=localStorage.getItem("wp_sponsored");if(window.location.search.indexOf("das=pw_spsrd_hit")>-1||window.location.search.indexOf("pw_unlock_mgclink")>-1){if(localStorage.setItem("wp_sponsored",window.location.pathname),"function"==typeof window.history.replaceState){var e=window.location.href;e=e.replace(/das=[^\&]*/,""),window.history.replaceState({},null,e)}return!0}return!(!t||window.location.pathname!==t)}()?3===i.data.action||8===i.data.action||9===i.data.action?R(i.data.action,s):i.status="final":(i.status="final",i.action=0,i.data.action=0),N(i)}}function J(t,e,n){t=t||{},e=e||"info",N({status:"error"});var o={process:"pwapiproxy-".concat(n,"response"),xhrstatus:t.statusCode};t.timeout&&(o.timeout=t.timeout),x(e,t.msg,o)}function q(t,e,n,o){var a={method:"v2"===n?"POST":"GET",withCredentials:!0,timeout:5e3};return new Promise((function(i){var s=null;if("v2"===n){var r=k(e),c=window.location.href&&window.location.href.split("?")[0]||"";s=JSON.stringify({articles:[{article:"".concat(c,"?").concat(r)}]})}try{if(t){var p=new XMLHttpRequest;p.open(a.method,t),p.timeout=a.timeout,p.withCredentials=a.withCredentials,p.onload=function(){if(window["pwapi".concat(n,"Response")]=(new Date).getTime()-_,window["pwapiAPI".concat(n,"End")]=(new Date).getTime()-(S.navigationStart||0),p.readyState===XMLHttpRequest.DONE&&200===p.status){window["pwapiAPI".concat(n,"Ready")]=(new Date).getTime()-(S.navigationStart||0);var t={};try{(t=JSON.parse(p.response)).statusCode=p.status,L(t,o),i(t)}catch(t){t.statusCode=-1;var e={status:"error",statusCode:-1,msg:"pwapiproxy ".concat(n," response invalid").concat(t.statusText?" - ".concat(t.statusText):"")};J(e,"error",n),i(e)}}else if(p.readyState===XMLHttpRequest.DONE&&202===p.status)i({status:"error",msg:"black hole"});else{var a={status:"error",statusCode:p.status,msg:"pwapiproxy ".concat(n," response invalid")};J(a,"error",n),i(a)}},p.onerror=function(t){window["pwapiAPI".concat(n,"End")]=(new Date).getTime()-(S.navigationStart||0);var e={status:"error",statusCode:t&&t.statusCode?t.statusCode:500};e.msg="pwapiproxy ".concat(n," error"),J(e,"error",n),i(e)},p.ontimeout=function(){var t={status:"error",statusCode:504,timeout:((new Date).getTime()-_)/1e3,msg:"PWAPIPROXY ".concat(n.toUpperCase()," TIMEOUT")};J(t,"expectedError",n),i(t)},p.setRequestHeader("Content-Type","application/json"),window["pwapiAPI".concat(n,"Start")]=(new Date).getTime()-(S.navigationStart||0),p.send(s)}}catch(t){var w={status:"error",statusCode:500};w.msg="pwapiproxy ".concat(n," error").concat(t.message?" - ".concat(t.message):""),J(w,"error",n),i(w)}}))}function V(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(document.cookie.match(/wp_pwapi=([^\;]*);/)||{})[1]||h();if(e){var o=[/^www-washingtonpost-com/],a=f[n].pwapiProxyV2Api||f.prod.pwapiProxyV2Api;if(o.some((function(t){return t.test(window.location.hostname)}))){var i=document.createElement("a");return i.href=a,i.pathname}return a}var s=f[n].pwapiProxyApi||f.prod.pwapiProxyApi,r=window.location.pathname,c="".concat(k(t),"&as_json=1");return"".concat(s+r,"?").concat(c)}(t,!0),n=function(t){if("v2"===w("pwapiVersion"))return"v2";if("v1"===w("pwapiVersion"))return"v1";var e={commercial_node:[],href:[]},n=window.location.href,o="v2";return e.href.forEach((function(t){var e=new RegExp(t);n&&n.match(e)&&(o="v2")})),e.commercial_node.forEach((function(e){var n=new RegExp(e);t.commercial_node&&t.commercial_node.match(n)&&(o="v2")})),o}(t);Promise.all([q(e,t,"v2",n)]).then((function(){(j.pwresp_action>=3||j.hasOwnProperty("pwresp_v2_action")&&j.hasOwnProperty("pwresp_action")&&j.pwresp_action!==j.pwresp_v2_action)&&x("info","pwresp action: ".concat((j.pwresp_action||"").toString()||(j.pwresp_v2_action||"").toString()),j)})).catch((function(){}))}window.registerPwapiConsumer=function(t){window.consumers.push(t),t(A)},window.registerExtUpdates=function(t){window.extConsumers.push(t),t(A)},window.extListener=function(t){N(t)};var H={};H.pwapi_contentsection=O(window,"wpMetaData.content_section"),H.pwapi_ct_tags=O(window,"wpMetaData.ct_tags"),H.pwapi_sct_tags=O(window,"wpMetaData.sct_tags"),H.commercial_node=O(window,"wpMetaData.commercial_node"),H.content_type=O(window,"wpMetaData.content_type"),H.is_amp="0";var Y,G=H,W=v()||{},X=(Y=W.env,o[Y]);function B(t){for(var e=0;e<window.authConsumers.length;e++)window.authConsumers[e](t)}function Q(t){var e=!!i(u),n=!(!t||!t.ccpa||"Y"!==t.ccpa.optOut),o=X&&X[e?"signed":"anon"][n?"optedOut":"default"]||0;return Date.now()+o}function $(t){if(a()){var e=window.location.hostname;if(-1!==n.indexOf(e)){var o=localStorage.getItem(l);o=o&&JSON.parse(o)||{};var i=Object.assign(o,t),s=Q(i.privacySetting||{});i.e=s,localStorage.setItem(l,JSON.stringify(i))}}}function F(){var t=null;a()&&localStorage.getItem(l)&&(function(){var t=!1;if(a()&&localStorage.getItem(l)){var e=JSON.parse(localStorage.getItem(l));e.e&&Date.now()>e.e&&(t=!0)}return t}()?a()&&localStorage.removeItem(l):t=JSON.parse(localStorage.getItem(l)));return t}function K(t){if(a()&&localStorage.getItem(l))return JSON.parse(localStorage.getItem(l))[t]}function z(t){var e,n,o;return t=t||(e=i(u),n=i(d),!1===K("signedIn")&&e?"sip":(window.wp_meta_data&&window.wp_meta_data.tags_for_paywall&&-1!==window.wp_meta_data.tags_for_paywall.indexOf("ccpa")||window.wpMetaData&&window.wpMetaData.ct_tags&&-1!==window.wpMetaData.ct_tags.indexOf("ccpa")||!!(r(F())||e&&!n))&&"auth-status"),new Promise((function(e,n){!1!==t?function(t){return new Promise((function(e,n){var o;if("auth-status"===t)p("".concat(W.authStatusUrl,"?_v=").concat((new Date).getTime())).then((function(t){e(t)})).catch((function(t){n({status:"FAIL",errorState:"Auth Status failed"})}));else if("sip"===t){var a=F(),i={caller:"SubsStorageManager",requestId:(o=window.crypto||window.msCrypto,([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^o.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))),authStatus:!0};i=Object.assign(i,a),p(W.sipUrl,"POST",i,{contentType:"application/json"}).then((function(t){e(t)})).catch((function(t){n("Auth Status failed")}))}else n("Invalid action: ".concat(t))}))}(t).then((function(t){t&&"SUCCESS"===t.status&&$(o=t.userState)})).finally((function(){B(o=F()),e(o)})):(B(o=F()),e(o))}))}window.authConsumers=window.authConsumers||[],window.registerAuthConsumer=function(t){window.authConsumers.push(t),t(F())},window.storePrivacySetting=function(t){t="object"===I(t)?t:{};var e=K(g)||{};if(e.ccpa=M(M(M({},m),e.ccpa),t.ccpa),!r(e)){var n=i(u),o="".concat(e.ccpa.iabSpec,e.ccpa.explicitNotice,e.ccpa.optOut,e.ccpa.lspa);if($({privacySetting:e}),n)z("sip");else{var a=h(),c=Q(e);s(d,o,c,!0,!0,a)}}};var Z={getUspString:function(t){return"".concat((t=t||{}).iabSpec,t.explicitNotice,t.optOut,t.lspa)},getUSPData:function(t,e){var n="".concat(t,"---");if(a()&&localStorage.getItem(l)){var o=K("geoState");if(navigator.globalPrivacyControl&&"CA"===o)n="1YYY";else{var i=K(g);i&&i.ccpa&&(n=Z.getUspString(i.ccpa))}}if(n){var s={};s.version=t,s.uspString=n,e(s,!0)}},v1:{getUSPData:function(t){Z.getUSPData(1,t)}}};window.addEventListener("message",(function(t){if(t.data.hasOwnProperty("__uspapiCall")){t.stopImmediatePropagation&&t.stopImmediatePropagation();var e=t.data.__uspapiCall.command,n=t.data.__uspapiCall.version;e&&n&&window.__uspapi(e,n,(function(e,n){n?t.source.postMessage({__uspapiReturn:{returnValue:e,success:n,callId:t.data.__uspapiCall.callId}},t.origin):t.source.postMessage({__uspapiReturn:{returnValue:{version:1,uspString:"1NYY"},success:!1,callId:t.data.__uspapiCall.callId}},t.origin)}))}return null}),!1),y.name="fusion",window.pwapiVersion="Version 1.7.0 on Wed, 10 Mar 2021 21:07:13 GMT",window.pwapiStart=_-(S.navigationStart||0),V(G),function(t){var e={},n={};if(a()){for(var o=0;o<D.length;o++){var r=D[o];try{var p=r.name,w=i(p),l=localStorage.getItem(p),u={};if(l)try{(u=JSON.parse(l)).e<(new Date).getTime()&&(u={},localStorage.removeItem(p))}catch(t){u={},localStorage.removeItem(p)}var d=null!=w,g=null!=u.v;if(g&&!d&&r.localStorageToCookies&&(s(p,u.v,u.e,r.notEncoded,!0,t),n[p]=u.v),!g&&d&&r.cookiesToLocalStorage&&c(p,{v:w},r.expireOffsetMillis),d&&g&&r.useDelimiter){var m=r.delimiterValue||"|",f=w.split(m),h=u.v.split(m);r.cookiesToLocalStorage&&f&&h&&f[1]&&f[1]!==h[1]?c(p,{v:w},r.expireOffsetMillis):r.localStorageToCookies&&f&&h&&f[0]!==h[0]&&(!f[1]||f[1]===h[1])&&s(p,u.v,u.e||Date.now()+r.expireOffsetMillis,r.notEncoded,!0,t)}}catch(t){console.error("Unable to synchCookiesAndLocalStorage for synchCookie item: ".concat(JSON.stringify(r)),t)}}try{(Object.keys(n).length>0||Object.keys(e).length>0)&&x("info","User storage Synced",{process:"storage-sync","cookie-sync":JSON.stringify(e),"ls-sync":JSON.stringify(n)})}catch(t){}}}(h());try{window.__uspapi=function(t,e,n){return Z["v".concat(e)]&&"function"==typeof Z["v".concat(e)][t]?n?void Z["v".concat(e)][t].apply(null,[n]):Z["v".concat(e)][t]:!!n&&void n(null,!1)}}catch(t){}try{setTimeout((function(){z()}),0)}catch(t){}}();
