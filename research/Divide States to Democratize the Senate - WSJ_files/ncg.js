/*
 * @preserve ncg 2021-04-27T07:50:28.809Z 7d09fff18725bb8d92b9b6b8cd967b9708768a8d
 */
!function e(t,n,i){function a(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return a(t[o][1][e]||e)}),u,u.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){t.exports={sites:{SITENAME:["GROUP","COOKIENAME","ISNOTSNOWPLOWCOOKIE","ENVIRONMENTS","DONOTTRACK","EXCLUDEPIXELS","GDPRENABLED"],".ace.wsj.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".wsj.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".marketwatch.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".realtor.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".nypost.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".barrons.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".mansionglobal.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".fnlondon.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".move.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".moving.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".seniorhousingnet.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".decider.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".pagesix.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".heatst.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".checkout51.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".ncaudienceexchange.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".harpercollins.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".biblegateway.com":["1","_ncg_sp_",0,null,!0,[],!1,!0],".remodelista.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".gardenista.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".organized-home.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".thetimes.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".thesun.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".thescottishsun.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".thesun.ie":["1","_ncg_sp_",0,null,!0,[],!1,!1],".driving.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".talksport.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".newscgp.com":["1","sp",1,null,!0,[],!1,!1],".moneyish.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".housing.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],"dowjones-projectx-develop.go-vip.co":["1","_ncg_sp_",0,null,!0,[],!1,!1],"knewz.go-vip.co":["1","_ncg_sp_",0,null,!0,[],!1,!1],".knewz.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".knewz-develop.go-vip.co":["1","_ncg_sp_",0,null,!0,[],!1,!1],".knewz-com-preprod.go-vip.co":["1","_ncg_sp_",0,null,!0,[],!1,!1],".the-sun.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".talkradio.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".dreamteamfc.com":["1","_ncg_sp_",0,null,!0,[],!1,!1],".mytimesplus.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".the-tls.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".ukholidaysinthesun.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".club950.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1],".virginradio.co.uk":["1","_ncg_sp_",0,null,!0,[],!1,!1]},groups:{1:[{url:"us.tags.newscgp.com",ssl:!0,network:!0},{url:"www.ncaudienceexchange.com",ssl:!0,isOptOut:!0,optOutCookieName:"opt-out",optOutCookieValue:"1"},{url:"tags.realtor.com",ssl:!0},{url:"tags.barrons.com",ssl:!0},{url:"tags.mansionglobal.com",ssl:!0},{url:"tags.marketwatch.com",ssl:!0},{url:"tags.wsj.com",ssl:!0},{url:"tags.nypost.com",ssl:!0},{url:"tags.decider.com",ssl:!0},{url:"tags.pagesix.com",ssl:!0},{url:"tags.knewz.com",ssl:!0},{url:"tags.penews.com",ssl:!0}]}}},{}],2:[function(e,t,n){t.exports={"ETLTD+1":["TAGS URL","ENABLED"],"barrons.com":["tags.barrons.com",!1],"biblegateway.com":["tags.biblegateway.com",!1],"club950.co.uk":["tags.club950.co.uk",!1],"decider.com":["tags.decider.com",!1],"dreamteamfc.com":["tags.dreamteamfc.com",!1],"driving.co.uk":["tags.driving.co.uk",!1],"efinancialnews.com":["tags.efinancialnews.com",!1],"foxnews.com":["tags.foxnews.com",!1],"harpercollins.com":["tags.harpercollins.com",!1],"knewz.com":["tags.knewz.com",!1],"mansionglobal.com":["tags.mansionglobal.com",!1],"marketwatch.com":["tags.marketwatch.com",!1],"moving.com":["tags.moving.com",!1],"mytimesplus.co.uk":["tags.mytimesplus.co.uk",!1],"nypost.com":["tags.nypost.com",!1],"pagesix.com":["tags.pagesix.com",!1],"realtor.com":["tags.realtor.com",!1],"seniorhousingnet.com":["tags.seniorhousingnet.com",!1],"talkradio.co.uk":["tags.talkradio.co.uk",!1],"talksport.com":["tags.talksport.com",!1],"thescottishsun.co.uk":["tags.thescottishsun.co.uk",!1],"thesun.co.uk":["tags.thesun.co.uk",!1],"thesun.ie":["tags.thesun.ie",!1],"thetimes.co.uk":["tags.thetimes.co.uk",!1],"the-sun.com":["tags.the-sun.com",!1],"the-tls.co.uk":["tags.the-tls.co.uk",!1],"ukholidaysinthesun.co.uk":["tags.ukholidaysinthesun.co.uk",!1],"virginradio.co.uk":["tags.virginradio.co.uk",!1],"wsj.com":["tags.wsj.com",!1],"fnlondon.com":["tags.fnlondon.com",!1],"penews.com":["tags.penews.com",!1]}},{}],3:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},c=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,n=i.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||i.call(e,t)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(o)return o(e,t).value}return e[t]};t.exports=function e(){var t,n,i,a,r,o,d=arguments[0],p=1,g=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<g;++p)if(null!=(t=arguments[p]))for(n in t)i=l(d,n),d!==(a=l(t,n))&&(h&&a&&(c(a)||(r=s(a)))?(r?(r=!1,o=i&&s(i)?i:[]):o=i&&c(i)?i:{},u(d,{name:n,newValue:e(h,o,a)})):void 0!==a&&u(d,{name:n,newValue:a}));return d}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var i=p(e("./v1.js")),a=p(e("./v3.js")),r=p(e("./v4.js")),o=p(e("./v5.js")),s=p(e("./nil.js")),c=p(e("./version.js")),u=p(e("./validate.js")),l=p(e("./stringify.js")),d=p(e("./parse.js"));function p(e){return e&&e.__esModule?e:{default:e}}},{"./nil.js":6,"./parse.js":7,"./stringify.js":11,"./v1.js":12,"./v3.js":13,"./v4.js":15,"./v5.js":16,"./validate.js":17,"./version.js":18}],5:[function(e,t,n){"use strict";function i(e){return 14+(e+64>>>9<<4)+1}function a(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,i,r,o){return a((s=a(a(t,e),a(i,o)))<<(c=r)|s>>>32-c,n);var s,c}function o(e,t,n,i,a,o,s){return r(t&n|~t&i,e,t,a,o,s)}function s(e,t,n,i,a,o,s){return r(t&i|n&~i,e,t,a,o,s)}function c(e,t,n,i,a,o,s){return r(t^n^i,e,t,a,o,s)}function u(e,t,n,i,a,o,s){return r(n^(t|~i),e,t,a,o,s)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length;for(let i=0;i<n;i+=8){const n=e[i>>5]>>>i%32&255,a=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;let n=1732584193,r=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const i=n,p=r,g=l,h=d;n=o(n,r,l,d,e[t],7,-680876936),d=o(d,n,r,l,e[t+1],12,-389564586),l=o(l,d,n,r,e[t+2],17,606105819),r=o(r,l,d,n,e[t+3],22,-1044525330),n=o(n,r,l,d,e[t+4],7,-176418897),d=o(d,n,r,l,e[t+5],12,1200080426),l=o(l,d,n,r,e[t+6],17,-1473231341),r=o(r,l,d,n,e[t+7],22,-45705983),n=o(n,r,l,d,e[t+8],7,1770035416),d=o(d,n,r,l,e[t+9],12,-1958414417),l=o(l,d,n,r,e[t+10],17,-42063),r=o(r,l,d,n,e[t+11],22,-1990404162),n=o(n,r,l,d,e[t+12],7,1804603682),d=o(d,n,r,l,e[t+13],12,-40341101),l=o(l,d,n,r,e[t+14],17,-1502002290),r=o(r,l,d,n,e[t+15],22,1236535329),n=s(n,r,l,d,e[t+1],5,-165796510),d=s(d,n,r,l,e[t+6],9,-1069501632),l=s(l,d,n,r,e[t+11],14,643717713),r=s(r,l,d,n,e[t],20,-373897302),n=s(n,r,l,d,e[t+5],5,-701558691),d=s(d,n,r,l,e[t+10],9,38016083),l=s(l,d,n,r,e[t+15],14,-660478335),r=s(r,l,d,n,e[t+4],20,-405537848),n=s(n,r,l,d,e[t+9],5,568446438),d=s(d,n,r,l,e[t+14],9,-1019803690),l=s(l,d,n,r,e[t+3],14,-187363961),r=s(r,l,d,n,e[t+8],20,1163531501),n=s(n,r,l,d,e[t+13],5,-1444681467),d=s(d,n,r,l,e[t+2],9,-51403784),l=s(l,d,n,r,e[t+7],14,1735328473),r=s(r,l,d,n,e[t+12],20,-1926607734),n=c(n,r,l,d,e[t+5],4,-378558),d=c(d,n,r,l,e[t+8],11,-2022574463),l=c(l,d,n,r,e[t+11],16,1839030562),r=c(r,l,d,n,e[t+14],23,-35309556),n=c(n,r,l,d,e[t+1],4,-1530992060),d=c(d,n,r,l,e[t+4],11,1272893353),l=c(l,d,n,r,e[t+7],16,-155497632),r=c(r,l,d,n,e[t+10],23,-1094730640),n=c(n,r,l,d,e[t+13],4,681279174),d=c(d,n,r,l,e[t],11,-358537222),l=c(l,d,n,r,e[t+3],16,-722521979),r=c(r,l,d,n,e[t+6],23,76029189),n=c(n,r,l,d,e[t+9],4,-640364487),d=c(d,n,r,l,e[t+12],11,-421815835),l=c(l,d,n,r,e[t+15],16,530742520),r=c(r,l,d,n,e[t+2],23,-995338651),n=u(n,r,l,d,e[t],6,-198630844),d=u(d,n,r,l,e[t+7],10,1126891415),l=u(l,d,n,r,e[t+14],15,-1416354905),r=u(r,l,d,n,e[t+5],21,-57434055),n=u(n,r,l,d,e[t+12],6,1700485571),d=u(d,n,r,l,e[t+3],10,-1894986606),l=u(l,d,n,r,e[t+10],15,-1051523),r=u(r,l,d,n,e[t+1],21,-2054922799),n=u(n,r,l,d,e[t+8],6,1873313359),d=u(d,n,r,l,e[t+15],10,-30611744),l=u(l,d,n,r,e[t+6],15,-1560198380),r=u(r,l,d,n,e[t+13],21,1309151649),n=u(n,r,l,d,e[t+4],6,-145523070),d=u(d,n,r,l,e[t+11],10,-1120210379),l=u(l,d,n,r,e[t+2],15,718787259),r=u(r,l,d,n,e[t+9],21,-343485551),n=a(n,i),r=a(r,p),l=a(l,g),d=a(d,h)}return[n,r,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(i(t));for(let i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};n.default=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},{"./validate.js":17}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),a=new Uint8Array(16)},{}],10:[function(e,t,n){"use strict";function i(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function a(e,t){return e<<t|e>>>32-t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,o=Math.ceil(r/16),s=new Array(o);for(let t=0;t<o;++t){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=e[64*t+4*i]<<24|e[64*t+4*i+1]<<16|e[64*t+4*i+2]<<8|e[64*t+4*i+3];s[t]=n}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const r=new Uint32Array(80);for(let t=0;t<16;++t)r[t]=s[e][t];for(let e=16;e<80;++e)r[e]=a(r[e-3]^r[e-8]^r[e-14]^r[e-16],1);let o=n[0],c=n[1],u=n[2],l=n[3],d=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),s=a(o,5)+i(n,c,u,l)+d+t[n]+r[e]>>>0;d=l,l=u,u=a(c,30)>>>0,c=o,o=s}n[0]=n[0]+o>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+u>>>0,n[3]=n[3]+l>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).substr(1));n.default=function(e,t=0){const n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!(0,a.default)(n))throw TypeError("Stringified UUID is invalid");return n}},{"./validate.js":17}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./rng.js")),a=r(e("./stringify.js"));function r(e){return e&&e.__esModule?e:{default:e}}let o,s,c=0,u=0;n.default=function(e,t,n){let r=t&&n||0;const l=t||new Array(16);let d=(e=e||{}).node||o,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let g=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:u+1;const m=g-c+(h-u)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||g>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=g,u=h,s=p,g+=122192928e5;const f=(1e4*(268435455&g)+h)%4294967296;l[r++]=f>>>24&255,l[r++]=f>>>16&255,l[r++]=f>>>8&255,l[r++]=255&f;const _=g/4294967296*1e4&268435455;l[r++]=_>>>8&255,l[r++]=255&_,l[r++]=_>>>24&15|16,l[r++]=_>>>16&255,l[r++]=p>>>8|128,l[r++]=255&p;for(let e=0;e<6;++e)l[r+e]=d[e];return t||(0,a.default)(l)}},{"./rng.js":9,"./stringify.js":11}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./v35.js")),a=r(e("./md5.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,i.default)("v3",48,a.default);n.default=o},{"./md5.js":5,"./v35.js":14}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){function r(e,r,o,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,a.default)(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(r),c.set(e,r.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,o){s=s||0;for(let e=0;e<16;++e)o[s+e]=c[e];return o}return(0,i.default)(c)}try{r.name=e}catch(e){}return r.DNS=o,r.URL=s,r},n.URL=n.DNS=void 0;var i=r(e("./stringify.js")),a=r(e("./parse.js"));function r(e){return e&&e.__esModule?e:{default:e}}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=o;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=s},{"./parse.js":7,"./stringify.js":11}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./rng.js")),a=r(e("./stringify.js"));function r(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,t,n){const r=(e=e||{}).random||(e.rng||i.default)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return(0,a.default)(r)}},{"./rng.js":9,"./stringify.js":11}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("./v35.js")),a=r(e("./sha1.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,i.default)("v5",80,a.default);n.default=o},{"./sha1.js":10,"./v35.js":14}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=e("./regex.js"))&&i.__esModule?i:{default:i};n.default=function(e){return"string"==typeof e&&a.default.test(e)}},{"./regex.js":8}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};n.default=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},{"./validate.js":17}],19:[function(e,t,n){var i=function(){};i.prototype={params:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},setup:function(e){return this.xmlhttpsetup={},e&&e.timeout&&(this.xmlhttpsetup.timeout=e.timeout),this},call:function(e,t,n,i){var a=this.xmlhttp||new XMLHttpRequest;n&&n.bust&&!0===n.bust&&(n.bust=(new Date).getTime().toString()+Math.random());var r=t+(/\?/.test(t)?"&":"?")+this.params(n);if(a.open(e,r),this.xmlhttpsetup)for(var o in this.xmlhttpsetup)a[o]=this.xmlhttpsetup[o];a.onreadystatechange=function(){if(a.readyState==XMLHttpRequest.DONE){try{a.responseObject=JSON.parse(a.responseText)}catch(e){}i(a)}},a.ontimeout=function(e){i(a,e)},a.crossDomain=!0,a.withCredentials=!0,a.send()},callWithoutCredential:function(e,t,n,i){var a=this.xmlhttp||new XMLHttpRequest;n&&n.bust&&!0===n.bust&&(n.bust=(new Date).getTime().toString()+Math.random());var r=t+(/\?/.test(t)?"&":"?")+this.params(n);if(a.open(e,r),this.xmlhttpsetup)for(var o in this.xmlhttpsetup)a[o]=this.xmlhttpsetup[o];a.onreadystatechange=function(){if(a.readyState==XMLHttpRequest.DONE&&200===a.status){try{a.responseObject=JSON.parse(a.responseText)}catch(e){}i(a)}},a.ontimeout=function(e){i(a,e)},a.crossDomain=!0,a.withCredentials=!1,a.send()}},t.exports=new i},{}],20:[function(e,t,n){var i=function(e,t){this.domain=e.replace(/^\./,""),this.group=t[0],this.cookieName=t[1],this.isSnowplowCookie=!(1==t[2]),this.envs=t[3]&&Array.isArray(t[3])?t[3]:[],this.dnt=t[4],this.excludePixels=t[5]||[],this.gdprCheckEnabled=t[6]};t.exports=function(e){var t=e,n=function(e){var n=e.group;return t.groups[n]};return{findDomain:function(e){var a=!1,r="."+e;for(var o in t.sites){var s=new i(o,t.sites[o]);if([""].concat(s.envs).forEach((function(e){var t=o.replace(/([^.]+)(\.com|\.com\.au|\.co\.uk|\.ie)$/,"$1"+e+"$2");r.indexOf(t)>=0&&r.indexOf(t)==r.length-t.length&&((a=s).domain=t.replace(/^\./,""))})),a)break}return a&&(a.domainsInGroup=n(a),a.optOutDomain=!1,Array.isArray(a.domainsInGroup)&&a.domainsInGroup.forEach((function(t){t.isOptOut&&(a.optOutDomain=t,0==t.url.indexOf(e)&&(a.isOptOut=!0))}))),a},getGroup:n}}},{}],21:[function(e,t,n){const i=["thesun.co.uk","thetimes.co.uk","club950.co.uk","dreamteamfc.com","driving.co.uk","mytimesplus.co.uk","talkradio.co.uk","talksport.com","thescottishsun.co.uk","thesun.ie","the-sun.com","the-tls.co.uk","ukholidaysinthesun.co.uk","virginradio.co.uk","ace.wsj.com","marketwatch.com","barrons.com","fnlondon.com","penews.com","mansionglobal.com"];var a={consentOk:function(e){return!(e&&this.isValidDomain(e)&&this.tcfAPIExists()&&this.gdprApplies(e)&&!this.isNewsiqConsentOk())},gdprApplies:function(e){var t=!0;try{return __tcfapi("ping",2,(e,n)=>{t=n&&e.gdprApplies}),t}catch(e){return!0}},isNewsiqConsentOk:function(){var e=!1;try{return __tcfapi("getTCData",2,(t,n)=>{e=n&&t.purpose.consents[1]&&t.vendor.consents[709]},[709]),e}catch(e){return!1}},isValidDomain:function(e){return 1===i.filter(t=>e.endsWith(t)).length},tcfAPIExists:function(){return"function"==typeof __tcfapi}};t.exports=a},{}],22:[function(e,t,n){const i=e("./countries/us/schemas/sites/nypost_schema"),a=e("./countries/us/schemas/sites/decider_schema"),r=e("./countries/us/schemas/sites/pagesix_schema"),o=e("./countries/us/schemas/sites/knewz_schema"),s=e("./countries/us/schemas/sites/thesunuk_schema"),c=e("./countries/us/schemas/sites/thetimes_schema"),u=e("./countries/us/schemas/sites/thesunie_schema"),l=e("./countries/us/schemas/sites/thescottishsun_schema"),d=e("./countries/us/schemas/sites/the-sunus_schema"),p=e("./countries/us/schemas/sites/talksport_schema"),g=e("./countries/us/schemas/sites/dreamteamfc_schema"),h=e("./countries/us/schemas/sites/penews_schema"),m=e("./countries/us/schemas/sites/wsj_schema"),f=e("./countries/us/schemas/sites/marketwatch_schema"),_=e("./countries/us/schemas/sites/barrons_schema"),w=e("./countries/us/schemas/sites/fnlondon_schema"),v=e("./countries/us/schemas/sites/mansionglobal_schema"),b=e("./countries/us/schemas/sites/realtor_schema"),y=e("./countries/us/schemas/sites/moving_schema"),k=e("./countries/us/schemas/sites/biblegateway_schema"),A=e("./countries/us/schemas/sites/nc_audience_schema"),{validateHost:S}=e("./countries/us/schemas/sites/utils");t.exports=new class{constructor(e){this.params=e}getContext(e){if(e)return S("nypost.com")?i.getAllSchemas(e):S("decider.com")?a.getAllSchemas(e):S("pagesix.com")?r.getAllSchemas(e):S("knewz.com")?o.getAllSchemas(e):S("thesun.co.uk")?s.getAllSchemas(e):S("thetimes.co.uk")?c.getAllSchemas(e):S("thesun.ie")?u.getAllSchemas(e):S("thescottishsun.co.uk")?l.getAllSchemas(e):S("the-sun.com")?d.getAllSchemas(e):S("talksport.com")?p.getAllSchemas(e):S("dreamteamfc.com")?g.getAllSchemas(e):S("penews.com")?h.getAllSchemas(e):S("wsj.com")?m.getAllSchemas(e):S("marketwatch.com")?f.getAllSchemas(e):S("barrons.com")?_.getAllSchemas(e):S("fnlondon.com")?w.getAllSchemas(e):S("mansionglobal.com")?v.getAllSchemas(e):S("realtor.com")?b.getAllSchemas(e):S("moving.com")?y.getAllSchemas(e):S("biblegateway.com")?k.getAllSchemas(e):S("ncaudienceexchange.com")?A.getAllSchemas(e):e.countrySchemas.getAllSchemas(e)}}},{"./countries/us/schemas/sites/barrons_schema":26,"./countries/us/schemas/sites/biblegateway_schema":27,"./countries/us/schemas/sites/decider_schema":28,"./countries/us/schemas/sites/dreamteamfc_schema":29,"./countries/us/schemas/sites/fnlondon_schema":30,"./countries/us/schemas/sites/knewz_schema":31,"./countries/us/schemas/sites/mansionglobal_schema":32,"./countries/us/schemas/sites/marketwatch_schema":33,"./countries/us/schemas/sites/moving_schema":34,"./countries/us/schemas/sites/nc_audience_schema":35,"./countries/us/schemas/sites/nypost_schema":36,"./countries/us/schemas/sites/pagesix_schema":37,"./countries/us/schemas/sites/penews_schema":38,"./countries/us/schemas/sites/realtor_schema":39,"./countries/us/schemas/sites/talksport_schema":40,"./countries/us/schemas/sites/the-sunus_schema":41,"./countries/us/schemas/sites/thescottishsun_schema":42,"./countries/us/schemas/sites/thesunie_schema":43,"./countries/us/schemas/sites/thesunuk_schema":44,"./countries/us/schemas/sites/thetimes_schema":45,"./countries/us/schemas/sites/utils":46,"./countries/us/schemas/sites/wsj_schema":47}],23:[function(e,t,n){var i=e("./localonly");t.exports={set:function(e,t,n,a){var r;a=a?"; domain="+a:"",r=escape(t)+"; path=/"+a,-1==n?r+="; expires="+new Date(0).toUTCString():parseInt(n,10)>0&&(r+="; expires="+new Date((new Date).getTime()+6e4*n).toUTCString()),document.cookie=e+"="+r,"_ncg_id_"!==e&&"_ncg_g_id_"!==e||i.set(e,t)},get:function(e){var t=new RegExp("(?:^"+e+"|; *"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]},getWithPrefix:function(e){var t=new RegExp("(^| *)("+e+")\\=([^;]+)\\;?","g").exec(document.cookie);return null===t?null:[t[2],t[3]]},getWithSuffix:function(e,t){var n=new RegExp("(?:^"+e+"|; *"+e+")("+t+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===n?null:n[2]},getCookieFromNamePattern:function(e){var t=new RegExp("(?:^"+e+"|; *"+e+")\\=([^;]+)\\;?","g").exec(document.cookie);return null===t?null:t[1]},findCookieDomain:function(){var e="";if(this._cookieDomain)e=this._cookieDomain;else for(var t=location.hostname.split("."),n=t.length-1;n>=0;n--)if(e=t.slice(n).join("."),document.cookie="domtes2=1;path=/;domain="+e,/domtes2=1/.test(document.cookie.toString())){document.cookie="domtes2=;path=/;expires="+new Date(0).toUTCString()+";domain="+e;break}return this._cookieDomain=e,e}}},{"./localonly":53}],24:[function(e,t,n){var i=e("../../metadata"),a=function(e){this.params=e};a.prototype={getAkaSchema:function(e){return{schema:"iglu:com.newscgp/aka/jsonschema/1-0-0",data:{user_id:e.user_id||"",user_provider:e.user_id&&e.user_provider?e.user_provider:"",user_memtype:e.user_memtype||"",user_newsletter_id:e.user_newsletter_id||"",user_newsletter_provider:e.user_newsletter_provider||"",browser_dmp_id:e.browser_dmp_id||"",browser_dmp_provider:e.browser_dmp_provider||"",browser_ads_ppid:e.browser_ads_ppid||"",browser_ads_provider:e.browser_ads_provider||"",browser_analytics_id:e.browser_analytics_id||"",browser_analytics_provider:e.browser_analytics_provider||"",browser_ncg_id:e.browser_ncg_id||""}}},getArticleSchema:function(e){var t=!1,n=!1,a=[],r="",o="",s="",c="",u=[];if(this.isRealtor()&&window.MOVE_DATA&&window.MOVE_DATA.adobeDTM&&window.MOVE_DATA.adobeDTM.postID)return a=i.getSectionsFromURL(2),{schema:"iglu:com.newscgp/article/jsonschema/1-0-0",data:{article_id:window.MOVE_DATA.adobeDTM.postID||"",article_source:"",article_published_time:window.MOVE_DATA.adobeDTM.articleDate||"",content_type:window.MOVE_DATA.adobeDTM.pageType||"",section:window.MOVE_DATA.adobeDTM.top_category||a[0]||"",subsection:window.MOVE_DATA.adobeDTM.category||a[1]||"",subsubsection:"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}};if(n=i.getMetadata("article.id"))r=i.getMetadata("article.section"),o=i.getMetadata("article.page"),s=i.getMetadata("article.type"),a=i.getSectionsFromURL(),u=i.getSectionsList(r,o,s,a),t={schema:"iglu:com.newscgp/article/jsonschema/1-0-0",data:{article_id:n+"",article_source:i.getMetadata("page.content.source")||"",article_published_time:i.getMetadata("article.published")||"",content_type:"",section:u[0]||"",subsection:u[1]||"",subsubsection:u[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:i.getMetadata("article.access")||""}};else if(r=i.getMetadata("page.section"))r=i.getMetadata("page.section"),o=i.getMetadata("page.subsection"),s="",a=i.getSectionsFromURL(),t={schema:"iglu:com.newscgp/article/jsonschema/1-0-0",data:{article_id:"",article_source:"",article_published_time:"",content_type:"",section:(u=i.getSectionsList(r,o,s,a))[0]||"",subsection:u[1]||"",subsubsection:s,subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}};else if(window.utag_data&&window.utag_data.article_id)r=window.utag_data.page_section,o="",s="",a=i.getSectionsFromURL(),u=i.getSectionsList(r,o,s,a),t={schema:"iglu:com.newscgp/article/jsonschema/1-0-0",data:{article_id:window.utag_data.article_id+"",article_source:window.utag_data.page_content_source,article_published_time:window.utag_data.article_published||"",content_type:"",section:u[0]||"",subsection:u[1]||"",subsubsection:s,subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:window.utag_data.article_access}};else if(Array.isArray(window.dataLayer)){for(var l=-1,d=0;d<window.dataLayer.length;d++)if(dataLayer[d].post_id||dataLayer[d].section){l=d;break}if(-1==l)return!1;var p=(dataLayer[l].publish_date||"")+" "+(dataLayer[l].publish_time||"");r=dataLayer[l].section||"",o=dataLayer[l].primary_tag||"",s="",a=i.getSectionsFromURL(3),u=i.getSectionsList(r,o,s,a),c=dataLayer[l].byline&&dataLayer[l].byline[0]||"",t={schema:"iglu:com.newscgp/article/jsonschema/1-0-0",data:{article_id:(window.dataLayer[l].post_id||"").toString(),article_source:c,article_published_time:p.trim(),content_type:"",section:u[0]||"",subsection:u[1]||"",subsubsection:u[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}}}else(page_name=i.getMetadata("page.name"))&&(matches=page_name.match(/_([0-9]+)$/))&&(n=matches[1],r=i.getMetadata("article:section"),o=i.getMetadata("page.subsection"),s="",a=i.getSectionsFromURL(),u=i.getSectionsList(r,o,s,a),t={schema:"iglu:com.newscgp/article/jsonschema/1-0-0",data:{article_id:n+"",article_source:i.getMetadata("article:author")||"",article_published_time:i.getMetadata("article:published_time")||"",content_type:"",section:u[0]||"",subsection:u[1]||"",subsubsection:s,subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:i.getMetadata("page.access")||""}});return t},isRealtor:function(){var e=document.location.host||"",t="realtor.com";return!!(e.length==t.length&&e===t||e.length>t.length&&e.endsWith("."+t))},isFromDomain:function(e){var t=document.location.host||"";return!!(t.length==e.length&&t===e||t.length>e.length&&t.endsWith("."+e))},getRESearchSchemaSPA:function(e){var t=!1;if(this.isRealtor()&&window.kxdl&&"SRP"===window.prebidSection){var n="";n+=window.kxdl.citystsrch||"",n+=" "+(window.kxdl.zipsrch||""),t={schema:"iglu:com.newscgp/research/jsonschema/1-0-0",data:{search_location:n=(n+=" "+(window.kxdl.countysrch||"")).replace(/_+/g," ").replace(/ +/g," ").trim(),search_type:window.kxdl.tsrch||"",search_beds_min:window.kxdl.bedsrch?parseInt(window.kxdl.bedsrch):0,search_beds_max:0,search_baths_min:window.kxdl.bathsrch?parseInt(window.kxdl.bathsrch):0,search_baths_max:0,search_property_type:window.kxdl.ptsrch||"",search_price_min:parseInt(window.kxdl.min)||0,search_price_max:parseInt(window.kxdl.max)||0}}}return t},getREListingSchemaSPA:function(e){var t=!1;return this.isRealtor()&&window.kxdl&&"LDP"===window.prebidSection&&(t={schema:"iglu:com.newscgp/relisting/jsonschema/1-0-0",data:{listing_property_id:window.kxdl.mprid||"",listing_id:window.kxdl.mlid||"",listing_type:window.kxdl.status||"",listing_location_lat:0,listing_location_long:0,listing_location_address:window.kxdl.address?window.kxdl.address.replace(/_+/g," ").replace(/ +/," ").trim():"",listing_location_city:window.kxdl.cityldp?window.kxdl.cityldp.replace(/_+/g," ").replace(/ +/," ").trim():"",listing_location_state:window.kxdl.st||"",listing_location_postcode:window.kxdl.zipldp||"",listing_location_country:"",listing_property_type:window.kxdl.ptldp||"",listing_price:parseInt(window.kxdl.listingprice)||0,listing_bedrooms:parseInt(window.kxdl.bedldp)||0,listing_bathrooms:parseInt(window.kxdl.bathldp)||0}}),t},getMansionGlobalListingSchema:function(e){if(this.isFromDomain("mansionglobal.com")){var t=null;try{var n=utag_data.page_name.toLowerCase();t=window.__STATE__.data[n].data.data.listing}catch(e){return!1}return{schema:"iglu:com.newscgp/relisting/jsonschema/1-0-0",data:{listing_property_id:t.id.toString(),listing_id:t.id.toString(),listing_type:t.property_type||"",listing_location_lat:t.geocoded_address&&Number(t.geocoded_address.lat)||Number(t.lat)||0,listing_location_long:t.geocoded_address&&Number(t.geocoded_address.lng)||Number(t.lng)||0,listing_location_address:t.address&&t.address.street_address1||"",listing_location_city:t.address&&t.address.city||"",listing_location_state:t.address&&t.address.state_code||"",listing_location_postcode:t.geocoded_address&&t.geocoded_address.postal_code||"",listing_location_country:t.geocoded_address&&t.geocoded_address.country||"",listing_property_type:t.property_type||"",listing_price:t.price/100||0,listing_bedrooms:t.bedrooms||0,listing_bathrooms:t.full_bathrooms||0}}}return!1},getAllSchemas:function(e){var t=[];return t.push(this.getAkaSchema(e)),t.push(this.getArticleSchema(e)),t.push(this.getRESearchSchemaSPA(e)),t.push(this.getREListingSchemaSPA(e)||this.getMansionGlobalListingSchema(e)),t}},t.exports=new a},{"../../metadata":54}],25:[function(e,t,n){const{AKA_SCHEMA_URL:i}=e("./sites/utils");t.exports=class{constructor(){}getAkaSchema(e){return!!e&&{schema:i,data:{user_id:e.user_id||"",user_provider:e.user_id&&e.user_provider?e.user_provider:"",user_memtype:e.user_memtype||"anonymous",user_newsletter_id:e.user_newsletter_id||"",user_newsletter_provider:e.user_newsletter_provider||"",browser_dmp_id:e.browser_dmp_id||"",browser_dmp_provider:e.browser_dmp_provider||"",browser_ads_ppid:e.browser_ads_ppid||"",browser_ads_provider:e.browser_ads_provider||"",browser_analytics_id:e.browser_analytics_id||"",browser_analytics_provider:e.browser_analytics_provider||"",browser_ncg_id:e.browser_ncg_id||""}}}}},{"./sites/utils":46}],26:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,getWindowUTagData:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=s("page_section")||o("article.section")||o("page.section")||"",n=s("page_subsection")||o("page.subsection")||o("article.page")||"",i=s("article_type")||o("article.type")||"",u=a(),l=r(t,n,i,u),d=s("article_id")||o("article.id")||"";return e={schema:c,data:{article_id:String(d),article_source:s("page_content_source")||o("page.content.source")||"",article_published_time:s("article_publish")||o("article.published")||"",content_type:s("page_content_type")||o("page.content.type")||"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_access")||o("article.access")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],27:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,ARTICLE_SCHEMA_URL:r}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(e){let t=!1,n=a(2);return t={schema:r,data:{article_id:"",article_source:"",article_published_time:"",content_type:"",section:n[0]||"",subsection:n[1]||"",subsubsection:"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}},t}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(e),!1,!1]}}},{"../baseschema":25,"./utils":46}],28:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,ARTICLE_SCHEMA_URL:o}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1;if(Array.isArray(window.dataLayer)){let t=[],n="",i="",s="",c="",u=[],l=-1;for(let e=0;e<window.dataLayer.length;e++)if(dataLayer[e].post_id||dataLayer[e].section){l=e;break}if(t=a(3),-1==l&&t.length<1)return!1;let d=dataLayer[l],p=(d&&d.publish_date||"")+" "+(d&&d.publish_time||"");if(n=d&&d.section||"",i=d&&d.primary_tag||"",s="",u=r(n,i,s,t),c=d&&d.byline&&d.byline[0]||"",!u[1]&&t.length>1)try{u[1]=getMetadata("og:description")?getMetadata("og:description").split("|")[0].trim():""}catch(e){}e={schema:o,data:{article_id:(d&&d.post_id||"").toString(),article_source:c,article_published_time:p.trim(),content_type:"",section:u[0]||"",subsection:u[1]||"",subsubsection:u[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}}}return e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],29:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getWindowUTagData:o,fetchSection:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=o("article_id")||"",n=o("page_section_hierarchy")?o("page_section_hierarchy").split("|"):[],i=o("page_section")||n[0]||"",u=n[1]||s(o("page_section_2"),":",2)||"",l=n[2]||s(o("page_section_3"),":",3)||"",d=a(),p=r(i,u,l,d);return e={schema:c,data:{article_id:String(t),article_source:"",article_published_time:o("article_publish_timestamp")||"",content_type:o("page_type")||"",section:p[0]||"",subsection:p[1]||"",subsubsection:p[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:o("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],30:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,getWindowUTagData:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=s("page_section")||o("article.section")||o("page.section")||"",n=s("page_subsection")||o("article.page")||o("page.subsection")||"",i=s("article_type")||o("article.type")||"",u=a(),l=r(t,n,i,u),d=s("article_id")||o("article.id")||"";return e={schema:c,data:{article_id:String(d),article_source:s("page_content_source")||o("page.content.source")||"",article_published_time:s("article_publish")||o("article.published")||"",content_type:s("page_content_type")||o("page.content.type")||"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_access")||o("article.access")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],31:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,ARTICLE_SCHEMA_URL:o}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1;if(window.utag_data&&window.utag_data.article_id){let t=window.utag_data.page_section||"",n="",i="",s=a(),c=r(t,n,i,s);e={schema:o,data:{article_id:window.utag_data.article_id+""||"",article_source:window.utag_data.page_content_source||"",article_published_time:window.utag_data.article_published||"",content_type:"",section:c[0]||"",subsection:c[1]||"",subsubsection:i||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:window.utag_data.article_access||""}}}return e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],32:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,getWindowUTagData:s,ARTICLE_SCHEMA_URL:c,RELISTING_SCHEMA_URL:u}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=s("page_section")||o("article.section")||o("page.section")||"",n=s("page_subsection")||o("article.page")||o("page.subsection")||"",i=s("article_type")||o("article.type")||"",u=a(),l=r(t,n,i,u),d=s("article_id")||o("article.id")||"";return e={schema:c,data:{article_id:String(d),article_source:s("page_content_source")||o("page.content.source")||"",article_published_time:s("article_publish")||o("article.published")||"",content_type:s("page_content_type")||o("page.content.type")||"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_access")||o("article.access")||""}},e}getReListingSchema(e){let t=!1;var n=null;try{var i=utag_data.page_name.toLowerCase();n=window.__STATE__.data[i].data.data.listing}catch(e){return!1}return t={schema:u,data:{listing_property_id:n.id.toString(),listing_id:n.id.toString(),listing_type:n.property_type||"",listing_location_lat:n.geocoded_address&&Number(n.geocoded_address.lat)||Number(n.lat)||0,listing_location_long:n.geocoded_address&&Number(n.geocoded_address.lng)||Number(n.lng)||0,listing_location_address:n.address&&n.address.street_address1||"",listing_location_city:n.address&&n.address.city||"",listing_location_state:n.address&&n.address.state_code||"",listing_location_postcode:n.geocoded_address&&n.geocoded_address.postal_code||"",listing_location_country:n.geocoded_address&&n.geocoded_address.country||"",listing_property_type:n.property_type||"",listing_price:n.price/100||0,listing_bedrooms:n.bedrooms||0,listing_bathrooms:n.full_bathrooms||0}},t}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,this.getReListingSchema(e)]}}},{"../baseschema":25,"./utils":46}],33:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,getWindowUTagData:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=s("page_section")||o("article.section")||o("page.section")||"",n=s("page_subsection")||o("article.page")||o("page.subsection")||"",i=s("article_type")||o("article.type")||"",u=a(),l=r(t,n,i,u),d=s("article_id")||o("article.id")||"";return e={schema:c,data:{article_id:String(d),article_source:s("page_content_source")||o("page.content.source")||"",article_published_time:s("article_publish")||o("article.published")||"",content_type:s("page_content_type")||o("page.content.type")||"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_access")||o("article.access")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],34:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,ARTICLE_SCHEMA_URL:r}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(e){let t=!1,n=a(2);return t={schema:r,data:{article_id:"",article_source:"",article_published_time:"",content_type:"",section:n[0]||"",subsection:n[1]||"",subsubsection:"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}},t}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(e),!1,!1]}}},{"../baseschema":25,"./utils":46}],35:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,ARTICLE_SCHEMA_URL:r}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=a();return schema={schema:r,data:{article_id:"",article_source:"",article_published_time:"",content_type:"",section:e[0]||"",subsection:"",subsubsection:"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}},schema}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(e),!1,!1]}}},{"../baseschema":25,"./utils":46}],36:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,ARTICLE_SCHEMA_URL:s}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1;if(Array.isArray(window.dataLayer)){let t=[],n="",i="",c="",u="",l=[],d=-1;for(let e=0;e<window.dataLayer.length;e++)if(dataLayer[e].post_id||dataLayer[e].section){d=e;break}if(t=a(3),-1==d&&t.length<1)return!1;let p=dataLayer[d],g=(p&&p.publish_date||"")+" "+(p&&p.publish_time||"");if(n=p&&p.section||"",i=p&&p.primary_tag||"",c="",t=a(3),l=r(n,i,c,t),u=p&&p.byline&&p.byline[0]||"",!l[1]&&t.length>1)try{l[1]=o("og:description")?o("og:description").split("|")[0].trim():""}catch(e){}e={schema:s,data:{article_id:(p&&p.post_id||"").toString(),article_source:u,article_published_time:g.trim(),content_type:"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}}}return e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],37:[function(e,t,n){const i=e("../baseschema.js"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,ARTICLE_SCHEMA_URL:s}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1;if(Array.isArray(window.dataLayer)){let t=[],n="",i="",c="",u="",l=[],d=-1;for(let e=0;e<window.dataLayer.length;e++)if(dataLayer[e].post_id||dataLayer[e].section){d=e;break}if(t=a(3),-1==d&&t.length<1)return!1;let p=dataLayer[d],g=(p&&p.publish_date||"")+" "+(p&&p.publish_time||"");if(n=p&&p.section||"",i=p&&p.primary_tag||"",c="",t=a(3),l=r(n,i,c,t),u=p&&p.byline&&p.byline[0]||"",!l[1]&&t.length>1)try{l[1]=o("og:description")?o("og:description").split("|")[0].trim():""}catch(e){}e={schema:s,data:{article_id:(p&&p.post_id||"").toString(),article_source:u,article_published_time:g.trim(),content_type:"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}}}return e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema.js":25,"./utils":46}],38:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,getWindowUTagData:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=a(),n=s("page_section")||o("article.section")||o("page.section")||"",i=s("page_subsection")||o("article.page")||o("page.subsection")||"",u=s("article_type")||o("article.type")||"",l=r(n,i,u,t),d=o("article.id")||s("article_id")||"";return e={schema:c,data:{article_id:String(d),article_source:s("page_content_source")||o("page.content.source")||"",article_published_time:s("article_publish")||o("article.published")||"",content_type:s("page_content_type")||o("page.content.type")||"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_access")||o("article.access")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],39:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,RELISTING_SCHEMA_URL:r,ARTICLE_SCHEMA_URL:o,RESEARCH_SCHEMA_URL:s}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=a(2),n=window.MOVE_DATA?window.MOVE_DATA.adobeDTM:{};return e={schema:o,data:{article_id:n.postID||"",article_source:"",article_published_time:n.articleDate||"",content_type:n.pageType||"",section:n.top_category||t[0]||"",subsection:n.category||t[1]||"",subsubsection:"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:""}},e}getRESearchSchemaSPA(e){let t=!1;if(window.kxdl&&"SRP"===window.prebidSection){let e="";e+=window.kxdl.citystsrch||"",e+=" "+(window.kxdl.zipsrch||""),e+=" "+(window.kxdl.countysrch||""),e=e.replace(/_+/g," ").replace(/ +/g," ").trim(),t={schema:s,data:{search_location:e,search_type:window.kxdl.tsrch||"",search_beds_min:window.kxdl.bedsrch?parseInt(window.kxdl.bedsrch):0,search_beds_max:0,search_baths_min:window.kxdl.bathsrch?parseInt(window.kxdl.bathsrch):0,search_baths_max:0,search_property_type:window.kxdl.ptsrch||"",search_price_min:parseInt(window.kxdl.min)||0,search_price_max:parseInt(window.kxdl.max)||0}}}return t}getREListingSchemaSPA(e){var t=!1;return window.kxdl&&"LDP"===window.prebidSection&&(t={schema:r,data:{listing_property_id:window.kxdl.mprid||"",listing_id:window.kxdl.mlid||"",listing_type:window.kxdl.status||"",listing_location_lat:0,listing_location_long:0,listing_location_address:window.kxdl.address?window.kxdl.address.replace(/_+/g," ").replace(/ +/," ").trim():"",listing_location_city:window.kxdl.cityldp?window.kxdl.cityldp.replace(/_+/g," ").replace(/ +/," ").trim():"",listing_location_state:window.kxdl.st||"",listing_location_postcode:window.kxdl.zipldp||"",listing_location_country:"",listing_property_type:window.kxdl.ptldp||"",listing_price:parseInt(window.kxdl.listingprice)||0,listing_bedrooms:parseInt(window.kxdl.bedldp)||0,listing_bathrooms:parseInt(window.kxdl.bathldp)||0}}),t}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),this.getRESearchSchemaSPA(e),this.getREListingSchemaSPA(e)]}}},{"../baseschema":25,"./utils":46}],40:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getWindowUTagData:o,fetchSection:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=o("article_id")||"",n=o("page_section_hierarchy")?o("page_section_hierarchy").split("|"):[],i=o("page_section")||n[0]||"",u=n[1]||s(o("page_section_2"),":",2)||"",l=n[2]||s(o("page_section_3"),":",3)||"",d=a(),p=r(i,u,l,d);return e={schema:c,data:{article_id:String(t),article_source:"",article_published_time:o("article_publish_timestamp")||"",content_type:o("page_type")||"",section:p[0]||"",subsection:p[1]||"",subsubsection:p[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:o("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],41:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getWindowUTagData:o,fetchSection:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=o("article_id")||"",n=o("page_section_hierarchy")?o("page_section_hierarchy").split("|"):[],i=o("page_section")||n[0]||"",u=n[1]||s(o("page_section_2"),":",2)||"",l=n[2]||s(o("page_section_3"),":",3)||"",d=a(),p=r(i,u,l,d);return e={schema:c,data:{article_id:String(t),article_source:"",article_published_time:o("article_publish_timestamp")||"",content_type:o("page_type")||"",section:p[0]||"",subsection:p[1]||"",subsubsection:p[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:o("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],42:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getWindowUTagData:o,fetchSection:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=o("article_id")||"",n=o("page_section_hierarchy")?o("page_section_hierarchy").split("|"):[],i=o("page_section")||n[0]||"",u=n[1]||s(o("page_section_2"),":",2)||"",l=n[2]||s(o("page_section_3"),":",3)||"",d=a(),p=r(i,u,l,d);return e={schema:c,data:{article_id:String(t),article_source:"",article_published_time:o("article_publish_timestamp")||"",content_type:o("page_type")||"",section:p[0]||"",subsection:p[1]||"",subsubsection:p[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:o("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],43:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getWindowUTagData:o,fetchSection:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=o("article_id")||"",n=o("page_section_hierarchy")?o("page_section_hierarchy").split("|"):[],i=o("page_section")||n[0]||"",u=n[1]||s(o("page_section_2"),":",2)||"",l=n[2]||s(o("page_section_3"),":",3)||"",d=a(),p=r(i,u,l,d);return e={schema:c,data:{article_id:String(t),article_source:"",article_published_time:o("article_publish_timestamp")||"",content_type:o("page_type")||"",section:p[0]||"",subsection:p[1]||"",subsubsection:p[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:o("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],44:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getWindowUTagData:o,fetchSection:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=o("article_id")||"",n=o("page_section_hierarchy")?o("page_section_hierarchy").split("|"):[],i=o("page_section")||n[0]||"",u=n[1]||s(o("page_section_2"),":",2)||"",l=n[2]||s(o("page_section_3"),":",3)||"",d=a(),p=r(i,u,l,d);return e={schema:c,data:{article_id:String(t),article_source:"",article_published_time:o("article_publish_timestamp")||"",content_type:o("page_type")||"",section:p[0]||"",subsection:p[1]||"",subsubsection:p[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:o("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],45:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,ARTICLE_SCHEMA_URL:o,getWindowUTagData:s}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=s("article_id")||"",n=s("page_section_hierarchy")?s("page_section_hierarchy").split("|"):[],i=s("page_section")||n[0]||"",c=s("attrs").label||n[1]||"",u=n[2]||"",l=a(),d=r(i,c,u,l);return e={schema:o,data:{article_id:String(t),article_source:"",article_published_time:s("article_publish_timestamp")||"",content_type:s("page_type")||"",section:d[0]||"",subsection:d[1]||"",subsubsection:d[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_restrictions")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],46:[function(e,t,n){function i(e){var t=document.querySelector('meta[name="'+e+'"]');if(t||(t=document.querySelector('meta[property="'+e+'"]')),t)return t.getAttribute("content")}function a(e,t,n,a){var r=[],o=0,s=a||3;return e.map((function(e,n){return e||i(t[n])||""})).map((function(e,t){return e||n[o++]||""})).concat(n.slice(o)).filter((function(e,t){return e&&-1===r.indexOf(e.toLowerCase())?r.push(e.toLowerCase())&&e:""})).slice(0,s)}n.AKA_SCHEMA_URL="iglu:com.newscgp/aka/jsonschema/1-0-0",n.ARTICLE_SCHEMA_URL="iglu:com.newscgp/article/jsonschema/1-0-0",n.getMetadata=i,n.getSectionsFromURL=function(e){var t=e||2,n=(window.__karma__?window._ncg_kjut&&window._ncg_kjut["location.pathname"]||"":document.location.pathname).split("/"),i=[];return n[1]&&!n[1].match("^[0-9-]+$")&&(i=n.slice(1).map((function(e){return null===e.match(/^[0-9-]+$/)?e:""})).slice(0,t).concat("")),i},n.getSectionsList=function(e,t,n,i,r){return a([e,t,n],["section","subsection","subsubsection"],[i[0],i[1],i[2],i[3]],r)},n.getSections=a,n.RELISTING_SCHEMA_URL="iglu:com.newscgp/relisting/jsonschema/1-0-0",n.RESEARCH_SCHEMA_URL="iglu:com.newscgp/research/jsonschema/1-0-0",n.getWindowUTagData=function(e){return window.utag_data&&window.utag_data[e]||!1},n.validateHost=function(e){return document.location.host.endsWith(e)||!1},n.fetchSection=function(e,t,n){return e?e.split(t)[n-1]:""}},{}],47:[function(e,t,n){const i=e("../baseschema"),{getSectionsFromURL:a,getSectionsList:r,getMetadata:o,getWindowUTagData:s,ARTICLE_SCHEMA_URL:c}=e("./utils");t.exports=new class extends i{constructor(){super()}getArticleSchema(){let e=!1,t=a(),n=s("page_section")||o("article.section")||o("page.section")||"",i=s("page_subsection")||o("article.page")||o("page.subsection")||"",u=s("article_type")||o("article.type")||"",l=r(n,i,u,t),d=o("article.id")||s("article_id")||"";return e={schema:c,data:{article_id:String(d),article_source:s("page_content_source")||o("page.content.source")||"",article_published_time:s("article_publish")||o("article.published")||"",content_type:s("page_content_type")||o("page.content.type")||"",section:l[0]||"",subsection:l[1]||"",subsubsection:l[2]||"",subsubsubsection:"",subsubsubsubsection:"",article_paid_content_type:s("page_access")||o("article.access")||""}},e}getAllSchemas(e){return[this.getAkaSchema(e),this.getArticleSchema(),!1,!1]}}},{"../baseschema":25,"./utils":46}],48:[function(e,t,n){var i=e("../../tags/bluekai"),a=e("../../tags/aapi"),r=e("../../tags/appnexus"),o=e("../../tags/krux"),s=e("../../tags/liveramp"),c=e("../../tags/deviceid"),u=e("extend"),l=e("../../local"),d=function(e){this.params=e};d.prototype={load:function(e,t){var n=this,i=new a(e);if(i.shouldRun()&&i.triggerPixel(),e.ncg_data.match_id)this.triggerPartnerSyncs(e);else{if(!l.get("_ncg_dps_")){var r=u(!0,{},e);r.ncg_data.match_id=e.userInfo.id,this.triggerPartnerSyncs(r)}console.log("ncg:first-view-aapi-ready"),window.nb.push(["ncg:first-view-aapi-ready",function(){console.log("listener called : ncg:first-view-aapi-ready"),n.triggerPartnerSyncs(t.getTagsParams.apply(t))}])}var o=new c(document.location.hostname,e.tagsConfig,e.deviceIdSyncTime);o.shouldRun()&&o.run()},triggerPartnerSyncs:function(e){if(e.ncg_data.match_id!=e.userInfo.id||1!=l.get("_ncg_dps_")){e.ncg_data.match_id==e.userInfo.id?l.set("_ncg_dps_",1):l.set("_ncg_dps_",0);var t=new i(e);t.shouldRun()&&t.run();var n=new r(e);n.shouldRun()&&n.run();var a=new o(e);a.shouldRun()&&a.run();var c=new s(e);c.shouldRun()&&c.run()}}},t.exports=new d},{"../../local":52,"../../tags/aapi":62,"../../tags/appnexus":63,"../../tags/bluekai":64,"../../tags/deviceid":67,"../../tags/krux":68,"../../tags/liveramp":69,extend:3}],49:[function(e,t,n){var i=e("../../local"),a=function(e){this.params=e};a.prototype={init:function(e){this.getNyPostUserIds(),this.populateNyPostAnalyticsId()},getNyPostUserIds:function(){if((!window.ncg_data||!window.ncg_data.user_id)&&i.get("janrainCaptureProfileData"))try{var e=JSON.parse(i.get("janrainCaptureProfileData"));window.ncg_data.user_id=e.uuid,window.ncg_data.user_provider="nypost"}catch(e){}},populateNyPostAnalyticsId:function(){try{ga.getAll().forEach((function(e){"UA-3922003-6"===e.get("trackingId")&&(window.ncg_data.browser_analytics_id=e.get("clientId"),window.ncg_data.browser_analytics_provider="ga")}))}catch(e){}},aapiExtraIds:function(){var e=[];return this.ncg_data.user_id&&e.push({type:"user",site:this.domainConfig.domain,value:this.ncg_data.user_id}),e}},t.exports=new a},{"../../local":52}],50:[function(e,t,n){var i=function(){this.init()};i.prototype={id:"_ncg_debugger_overlay",init:function(e){this.checkIfActive()&&this.buildUI(),this.initNewsBusDebug(),this.isdev=e},initNewsBusDebug:function(){var e;/(\?|\&)nbd=1($|\&)/.test(location.search)&&(function(){for(var e=document.getElementsByTagName("script"),t=e.length;t--;)if(e[t].src.indexOf("/nbv.js")>=0)return!0;return!1}()||((e=document.createElement("script")).src="//tags.news.com.au/prod/ntag/nbv.js",document.getElementsByTagName("head")[0].appendChild(e)))},checkIfActive:function(){var e=/(\?|\&)_ncg_debug_=1($|\&)/.test(location.search),t=window.sessionStorage&&window.sessionStorage._ncg_debug_&&1==window.sessionStorage._ncg_debug_;return e&&window.sessionStorage&&(window.sessionStorage._ncg_debug_=1),e||t},log:function(){if(this.checkIfActive()||this.isdev){var e=[];Array.prototype.slice.call(arguments).forEach((function(t){var n=JSON.stringify(t,null,4);e.push(n),document.body||console.log(n)}));var t=document.createElement("div");t.setAttribute("class","ncg-pre"),t.innerHTML=e.join(" "),this.overlay.appendChild(t),window.console&&console.log.apply(window.console,Array.prototype.slice.call(arguments))}},buildUI:function(){document.createElement("style");var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),n="";n+=" #"+this.id+"{position:fixed;bottom:0;left:0;right:0;opacity:0.7;z-index:10000000;width:95%;height:100px;background-color:black;color:white;overflow-x:scroll;overflow-y:auto;font-size:12px;font-weight:normal}",n+=" #"+this.id+" .ncg-close {position:absolute;top:0px;right:0px;margin:2px;cursor:pointer}",n+=" #"+this.id+" .ncg-clear {position:absolute;top:0px;right:20px;margin:2px;cursor:pointer}",n+=" #"+this.id+" .ncg-pre {white-space: pre; font-size: 12px !important; background-color: #000 !important; color: #fff !important; border-bottom: 1px solid gray}",t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t);var i=document.createElement("div");i.id=this.id,document.body&&document.body.appendChild(i),this.overlay=i;var a=document.createElement("div");a.setAttribute("class","ncg-close"),a.innerHTML="&#9447;",this.overlay.appendChild(a),a.addEventListener("click",(function(){try{delete window.sessionStorage._ncg_debug_,window.location=window.location.toString().replace(/(\\?|&|&amp;)_ncg_debug_=1/,"")}catch(e){}}));var r=document.createElement("div");r.setAttribute("class","ncg-clear"),r.innerHTML="Clear Scheduler",this.overlay.appendChild(r),r.addEventListener("click",(function(){try{delete window.localStorage._ncg_sch_}catch(e){}})),this.log("Your matchid: "+(localStorage._ncg_matchid_||"N/A"))}},t.exports=new i},{}],51:[function(e,t,n){var i=e("uuid");function a(e){if(!e)return null;var t=e.split(".");if(4!=t.length)return null;var n=t[0],a=parseInt(t[1]),r=parseInt(t[2]),o=parseInt(t[3]);return i.validate(n)&&!isNaN(a)&&a>=0&&!isNaN(r)&&!isNaN(o)?[n,a,r,o]:null}n.DomainId=class{constructor(e){var t=a(e);this.valid=!1,!t||0!=t[1]&&1!=t[1]||(this.valid=!0,this.id=t[0],this.httpCookie=t[1],this.createTS=t[2],this.expiryTS=t[3])}isValid(){return this.valid}getId(){return this.isValid()?this.id:null}isHttpCookie(){return!!this.isValid()&&1==this.httpCookie}},n.NetworkId=class{constructor(e){var t=a(e);this.valid=!1,!t||1!=t[1]&&3!=t[1]||(this.valid=!0,this.id=t[0],this.supports3PC=3==t[1],this.createTS=t[2],this.expiryTS=t[3])}isValid(){return this.valid}getId(){return this.valid?this.id:null}}},{uuid:4}],52:[function(e,t,n){var i=e("./cookie"),a=function(){};a.prototype={storage:localStorage,cookieTime:5256e3,session:function(){var e=new a;return e.storage=sessionStorage,e.cookieTime=null,e},set:function(e,t){try{return this.storage.setItem(e,t)}catch(n){return i.set(e,t,this.cookieTime)}},get:function(e){var t="";try{t=this.storage.getItem(e)}catch(e){}return t||(t=i.get(e)||""),t},unset:function(e){try{return this.storage.removeItem(e)}catch(t){return i.set(e,value,-1)}},increment:function(e){var t=this.get(e)||0;this.set(e,parseInt(t)+1)},flatten:function e(t,n){var i,a=[],r=0;for(var o in""!=n&&(n+="."),t)if("[object Array]"===Object.prototype.toString.call(t[o]))a.push({k:n+o,v:t[o].join(",")});else if("object"==typeof t[o])for(i=e(t[o],n+o),r=0;r<i.length;r++)a.push(i[r]);else a.push({k:n+o,v:t[o]});return a}},t.exports=new a},{"./cookie":23}],53:[function(e,t,n){var i=function(){};i.prototype={storage:localStorage,cookieTime:5256e3,session:function(){var e=new local;return e.storage=sessionStorage,e.cookieTime=null,e},set:function(e,t){try{return this.storage.setItem(e,t)}catch(e){}},get:function(e){try{return this.storage.getItem(e)}catch(e){return null}},unset:function(e){try{this.storage.removeItem(e)}catch(e){}},getKeysWithPrefix:function(e){var t=Object.getOwnPropertyNames(this.storage).filter((function(t){return t.match("^"+e+".*$")}));return void 0!==t&&t.length>0?t:[]}},t.exports=new i},{}],54:[function(e,t,n){var a=e("./cookie"),r=function(e){this.params=e};r.prototype={getMetadata:function(e){var t=document.querySelector('meta[name="'+e+'"]');if(t||(t=document.querySelector('meta[property="'+e+'"]')),t)return t.getAttribute("content")},parseAddress:function(e){var t=e.split(","),n={address:"",city:"",state:"",postal_code:"",country:""},a=t[t.length-1].split("-");if(2==a.length?(n.country=a[1].trim(),n.postal_code=a[0].trim()):n.country=a[0].trim(),1==t.length&&(n.address=t[0].trim()),2==t.length&&(n.city=t[0].trim()),3==t.length&&(n.city=t[0].trim(),n.state=t[1].trim()),t.length>3){for(n.state=t[t.length-2].trim(),n.city=t[t.length-3].trim(),n.address="",i=0;i<t.length-3;i++)n.address+=t[i]+" ";n.address=n.address.trim()}return n},getSectionsFromURL:function(e){var t=e||2,n=(window.__karma__?window._ncg_kjut&&window._ncg_kjut["location.pathname"]||"":document.location.pathname).split("/"),i=[];return n[1]&&!n[1].match("^[0-9-]+$")&&(i=n.slice(1).map((function(e){return null===e.match(/^[0-9-]+$/)?e:""})).slice(0,t).concat("")),i},getSections:function(e,t,n,i){var a=[],r=0,o=i||3,s=this;return e.map((function(e,n){return e||s.getMetadata(t[n])||""})).map((function(e,t){return e||n[r++]||""})).concat(n.slice(r)).filter((function(e,t){return e&&-1===a.indexOf(e.toLowerCase())?a.push(e.toLowerCase())&&e:""})).slice(0,o)},getSectionsList:function(e,t,n,i,a){return this.getSections([e,t,n],["section","subsection","subsubsection"],[i[0],i[1],i[2],i[3]],a)},getOmnitureCookie:function(){return a.getCookieFromNamePattern("AMCV\\_[A-Z0-9]+\\%40AdobeOrg")}},t.exports=new r},{"./cookie":23}],55:[function(e,t,n){var i=e("../lib/scheduler")("_ncg_sch_"),a=e("../lib/snowplow"),r=e("../lib/newsbus"),o=e("../lib/cookie"),s=e("../lib/debug"),c=e("../lib/local"),u=e("../lib/localonly"),l=e("extend"),d=e("../lib/ncg_id"),p=e("../lib/tags/aapi"),g=e("../lib/tags/cookiesync"),h=e("../lib/ruleChecker"),m=e("../lib/consenttag"),f=e("./ids");const _=e("./tags/cookiesetter");var w=function(){};w.prototype={_defer_pageview_triggered:!1,_pageview_done:!1,init:function(t){if(this.params=t,this.config=e("./config")(this.params.domainsConfig),this.params.domainConfig=this.domainConfig=this.config.findDomain(document.location.hostname),this.is_dnt_site=this.domainConfig&&!0===this.domainConfig.dnt,window.nb=window.nb||[],r(window,"nb",window),ncg_data=window.ncg_data||{},ncg_data.events=ncg_data.events||[],r(ncg_data,"events",this),this.ncg_data=ncg_data,1!=c.get("_ncg_dnt_")){if(m.consentOk(this.domainConfig.domain)){var n=1==["thesun.ie","thescottishsun.co.uk","the-sun.com","thetimes.co.uk","thesun.co.uk"].filter(e=>document.location.hostname.length==e.length&&e===document.location.hostname||document.location.hostname.length>e.length&&document.location.hostname.endsWith("."+e)).length;this.ncg_data._cookie_sync_enabled=!!n,n&&(new _).run(),i=this,a.init(this.params.collector,{siteId:this.params.siteId},(function(){i.snowplowReady.apply(i)})),this.sp=a,this.params.countryConfig.utils.init(this),d.events.push(["optOut",function(e){s.log("setting opt out...",e),i.setOptout(e),i.dntOptout(e,i.is_dnt_site)}]),window.nb=window.nb||[],r(window,"nb",window),this.ncg_data.link_tracker_selector&&("function"==typeof window.addEventListener?window.addEventListener("load",(function(){s.log("activating link tracking after window load"),i.sp.activateLinkTracking({link_tracker_selector:i.ncg_data.link_tracker_selector,link_tracker_watch_selector:i.ncg_data.link_tracker_watch_selector})})):setTimeout((function(){s.log("activating link tracking after 3000"),i.sp.activateLinkTracking({link_tracker_selector:i.ncg_data.link_tracker_selector,link_tracker_watch_selector:i.ncg_data.link_tracker_watch_selector})}),3e3))}}else{if(this.cookiesync=new g(this.getTagsParams()),this.cookiesync.shouldRun()){var i=this;this.cookiesync.runDntSync((function(e){i.setOptout(e.optOut),i.dntOptout(e.optOut,i.is_dnt_site)}))}s.log("NCG DNT")}},snowplowReady:function(){var e=a.getUserInfo();if((matchId=d.getMatchid())&&(ncg_data.match_id=matchId),ncg_data._cookie_sync_enabled){var t=new f.NetworkId(o.get("_ncg_g_id_"));t.isValid()&&(ncg_data.browser_ncg_id=t.getId())}else{var n=o.get("_ncg_g_id_");n&&(ncg_data.browser_ncg_id=n)}if(this.ncg_data.user_id){var r=c.get("_ncg_cached_userid_");r&&r==this.ncg_data.user_id||(c.set("_ncg_cached_userid_",this.ncg_data.user_id),i.remove("aapi"),i.remove("cs"))}d.update({match_id:ncg_data.match_id,domain_id:e.id});var u=new h(this.params.gdprEndpoint),l=this;l.cookiesync=new g(l.getTagsParams()),u.shouldEnableNcgTracker(this.params.domainConfig,(function(e,t){e?console.log(e):t&&(l.cookiesync.shouldRun()?(l.pageViewLogic(1e3),l.cookiesync.run((function(e){s.log("One cookie sync",e),l.triggerPageView({from:"after-cookiesync"})}),(function(e){s.log("All cookie sync",e)}),(function(e){s.log("Opt-out callback",e),d.events.push(["optOut",e])}))):l.pageViewLogic(0),l.params.countryConfig.tags.load(l.getTagsParams(),l))})),ncg_data.events.push(["ready"])},getTagsParams:function(){return this.params.countryConfig.utils.aapiExtraIds&&(this.params.aapiExtraIds=this.params.countryConfig.utils.aapiExtraIds),l({},this.params,{userInfo:a&&Object.keys(a).length?a.getUserInfo():{},ncg_data:ncg_data,sp:a})},pageViewConditions:function(){},pageViewLogic:function(e){var t=this;ncg_data.defer?ncg_data.events.push(["pageview",function(){t._defer_pageview_triggered=!0,t.triggerPageView({from:"pageview"})}]):setTimeout((function(){t.triggerPageView({from:"timeout",wait:e})}),e)},triggerPageView:function(e){s.log("trigger-pv",e),this._pageview_done||ncg_data.defer&&!this._defer_pageview_triggered||(this._pageview_done=!0,s.log("pv",e),c.increment("_ncg_pv_"),l(ncg_data,{country:this.params.country,countrySchemas:this.params.countryConfig.schemas,gigyaEnabledSites:this.params.domainsConfig.gigyaEnabledSites}),a.pageView(ncg_data))},optOut:function(){this.getAllMatchids((function(e){if(e.length>0)for(var t in e)s.log("Opt out",e[t]),a.optOut({match_id:e[t]});else s.log("Opt out","no matchid"),a.optOut({})}))},optIn:function(){this.getAllMatchids((function(e){if(e.length>0)for(var t in e)s.log("Opt in",e[t]),a.optIn({match_id:e[t]});else s.log("Opt in","no matchid"),a.optIn({})}))},dntOptout:function(e,t){e&&t?c.set("_ncg_dnt_",1):c.unset("_ncg_dnt_")},setOptout:function(e){e?c.set("_ncg_optout_",1):c.unset("_ncg_optout_")},checkOptOutStatus:function(e){this.getAllMatchidsUsingCookieSyncAndAAPI((function(t){if(Object.keys(t).length>0){var n=!1;for(var i in t){var a=t[i];a.preferences&&Array.isArray(a.preferences)&&a.preferences.forEach((function(e){"opt-out"!=e.name||(n=e.value)}))}e(n)}else e(!1)}))},getPreference:function(e,t){return d.getPreference(e)},getAllMatchids:function(e){d.getMatchid()?e([d.getMatchid()]):this.getAllMatchidsUsingCookieSyncAndAAPI((function(t){e(Object.keys(t))}))},getAllMatchidsUsingCookieSyncAndAAPI:function(e){if(this.__cached_getAllMatchidsUsingCookieSyncAndAAPI)e(this.__cached_getAllMatchidsUsingCookieSyncAndAAPI);else{var t=this,n=new p(this.getTagsParams());this.cookiesync.run((function(e){}),(function(i){s.log("OO ALL CS",i);for(var a=[],r=0;r<i.length;r++)(u=i[r]).aka&&a.push(u);var o=0,c={};if(0==a.length)e([]);else for(r=0;r<a.length;r++){var u=a[r];n.lookup([{type:"domain",site:u.domain,value:u.aka}],(function(n,i){o++,i&&i.matchid&&(c[i.matchid]=i),o==a.length&&(t.__cached_getAllMatchidsUsingCookieSyncAndAAPI=c,e(c))}))}}))}},sendIABConsentString:function(){var e=[".thetimes.co.uk",".thesun.co.uk"];if(document.location.hostname.endsWith(e[0])||document.location.hostname.endsWith(e[1])){var t=o.get("eupubconsent"),n=u.get("eupubconsent");null===t||null!==n&&n===t||(u.set("eupubconsent",t),a.sendIABConsentString(t))}}},t.exports=w},{"../lib/consenttag":21,"../lib/cookie":23,"../lib/debug":50,"../lib/local":52,"../lib/localonly":53,"../lib/ncg_id":56,"../lib/newsbus":57,"../lib/ruleChecker":59,"../lib/scheduler":60,"../lib/snowplow":61,"../lib/tags/aapi":62,"../lib/tags/cookiesync":66,"./config":20,"./ids":51,"./tags/cookiesetter":65,extend:3}],56:[function(e,t,n){var i=e("../lib/cookie"),a=e("../lib/local"),r=e("./newsbus"),o=e("extend"),s=function(){r(this,"events")};s.prototype={prefsPrefix:"_ncg_prefs_.",events:[],update:function(e){e.match_id&&a.set("_ncg_matchid_",e.match_id),i.set("_ncg_id_",e.match_id||e.domain_id,1051200,i.findCookieDomain())},getMatchid:function(){return a.get("_ncg_matchid_")},setPreferencesFromObject:function(e){var t=this,n={},i={},r={};if(a.get("_ncg_prefs_keys_").split(",").forEach((function(e){a.unset(e)})),e.groupids&&Array.isArray(e.groupids)&&e.groupids.forEach((function(e){if(e.preferences&&Array.isArray(e.preferences)&&(r=t.extractPreferences(e.preferences),n=o(n,r[0]),i=o(i,r[1])),e.metadata&&"object"==typeof e.metadata){var a=[];Object.keys(e.metadata).forEach((function(t){a.push({name:t,value:e.metadata[t]})})),r=t.extractPreferences(a),n=o(n,r[0]),i=o(i,r[1])}})),e.preferences&&Array.isArray(e.preferences)&&(r=this.extractPreferences(e.preferences),n=o(n,r[0]),i=o(i,r[1])),e.metadata&&"object"==typeof e.metadata){var s=[];Object.keys(e.metadata).forEach((function(t){s.push({name:t,value:e.metadata[t]})})),r=this.extractPreferences(s),n=o(n,r[0]),i=o(i,r[1])}return Object.keys(n).forEach((function(e){t.events.push(["setPreferences",n[e]])})),Object.keys(i).forEach((function(e){a.set(e,i[e])})),a.set("_ncg_prefs_keys_",Object.keys(i).join(",")),[n,i]},extractPreferences:function(e){for(var t={},n={},i=0;i<e.length;i++){var r=e[i],o=r.value;try{o=JSON.parse(o)}catch(e){}var s={};s[r.name]=o;var c=a.flatten(s,"");if(c.length)for(var u=0;u<c.length;u++)n[this.prefsPrefix+c[u].k]="object"==typeof c[u].v?JSON.stringify(c[u].v):c[u].v;else n[this.prefsPrefix+r.name]="object"==typeof r.value?JSON.stringify(r.value):r.value;r.lastUpdated&&(n[this.prefsPrefix+r.name+"_updated"]=r.lastUpdated),t[r.name]=r}return[t,n]},getPreference:function(e){var t=a.get(this.prefsPrefix+e);try{t=JSON.parse(t)}catch(e){}return t}},t.exports=new s},{"../lib/cookie":23,"../lib/local":52,"./newsbus":57,extend:3}],57:[function(e,t,n){t.exports=function(e,t,n){var i=/(\?|\&)nbd=1($|\&)/.test(location.search),a=e[t]||[];if(a.pop)for(var r=e[t]={push:function(e){var t,a=e[0],r=e[1],o=e[2]||!1,s=this.l[a]=this.l[a]||[],c=this.o[a]=this.o[a]||[];if("function"==typeof r){if(o){var u=function(){var e=[].slice.apply(arguments);r.apply(this,e),s[s.indexOf(u)]=function(){}};s.push(u)}else s.push(r);for(t=0;t<c.length;t++){if(i)r.apply(n||this,c[t]);else try{r.apply(n||this,c[t])}catch(e){window.console&&console.log(e.message||e)}if(o)break}}else{for(t=0;t<s.length;t++)if(i)s[t].apply(n||this,[r]);else try{s[t].apply(n||this,[r])}catch(e){window.console&&console.log(e.message||e)}c.push(r)}return this},l:{},o:{}},o=0;o<a.length;o++)r.push(a[o])}},{}],58:[function(e,t,n){n.pixel=function(e,t,n,i){if(!t)throw new Exception("Expecting a pixel name in second parameter");var a=[];for(var r in e)void 0!==e[r]&&a.push(r+"="+encodeURIComponent(e[r]));var o=new Image;n&&(o.onload=n),i&&(o.onerror=i),a.length&&(t+=(t.indexOf("?")<0?"?":"&")+a.join("&")),o.src=t}},{}],59:[function(e,t,n){var i=e("./ajax"),a=e("./debug"),r=function(e){this.gdprEndpoint=e};r.prototype={shouldEnableNcgTracker:function(e,t){var n=function(e){a.log("GDPR error:",e),t(null,!1)};e.gdprCheckEnabled?i.setup({timeout:5e3}).callWithoutCredential("GET","//"+this.gdprEndpoint,null,(function(e,i){var r;switch(e.status){case 200:r=e,a.log("GDPR response",r),r.responseObject&&"true"===r.responseObject.gdpr_user?t(null,!1):t(null,!0);break;case 404:n(e);break;default:i&&i.type&&"timeout"==i.type?a.log("ruleChecker timeout error",i):a.log("Unknown ruleChecker error",e.status,e.statusText,e.responseText,i),n(e)}})):t(null,!0)}},t.exports=r},{"./ajax":19,"./debug":50}],60:[function(e,t,n){var i=e("./local"),a=function(e){if(!(this instanceof a))return new a(e);a.prototype.init.call(this,e)};a.prototype={local_name:"",init:function(e){this.local_name=e||"sch",this.load()},load:function(){this.sch=i.get(this.local_name);try{this.sch=JSON.parse(this.sch)}catch(e){this.sch={}}},save:function(){i.set(this.local_name,JSON.stringify(this.sch))},remove:function(e){this.load(),delete this.sch[e],this.save()},schedule:function(e,t){this.load(),this.sch[e]={t:t,l:null},this.save()},update:function(e,t){return this.load(),t||(t=Math.floor((new Date).getTime()/1e3)),!!this.sch[e]&&(this.sch[e].l=t,this.save(),!0)},check:function(e){if(this.sch[e]){var t=Math.floor((new Date).getTime()/1e3);return!this.sch[e].l||this.sch[e].l+this.sch[e].t<=t}return-1},time:function(e){return this.sch[e]&&this.sch[e].t?this.sch[e].t:null},checkOrSchedule:function(e,t){var n=this.check(e);return-1!==n&&this.time(e)===t||(this.schedule(e,t),n=!0),n}},t.exports=a},{"./local":52}],61:[function(e,t,n){var i=e("./cookie"),a=e("./local"),r=e("../lib/debug"),o=e("./contexts"),s=e("./ids");String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var c=function(){};c.prototype={sp_namespace_base:"_ncg_",trackedLinks:[],init:function(e,t,n){r.log("Initing sp");var i=this;window.GlobalSnowplowNamespace=window.GlobalSnowplowNamespace||[],window.GlobalSnowplowNamespace.push("_ncg_snowplow"),window._ncg_snowplow=function(){r.log("called window._ncg_snowplow",arguments),r.log("window._ncg_snowplow.q",window._ncg_snowplow.q),(window._ncg_snowplow.q=window._ncg_snowplow.q||[]).push(arguments)};var a=e.split("|");i.sp_namespace=[];for(var o=0;o<a.length;o++){var s=i.sp_namespace_base+"_"+o;i.sp_namespace.push(s);var c={appId:t.siteId,discoverRootDomain:!0,cookieName:"_ncg_sp_",extraInfo:this.getExtraInfo(),forceSecureTracker:!0};if(window._ncg_snowplow("newTracker",s,a[o],c),window._ncg_snowplow("setCountPreRendered:"+this.sp_namespace.join(";"),!0),window.location.href.indexOf("#")>=0){var u=i.checkForInvalidUrlAndClean(window.location.href);u&&window._ncg_snowplow("setCustomUrl:"+this.sp_namespace.join(";"),u)}}r.log("finish setup collectors"),window._ncg_snowplow((function(){i.sp=this[i.sp_namespace[0]],r.log("apply snowplow ready function","function"==typeof n),n&&"function"==typeof n&&n.apply(this[i.sp_namespace])}))},checkForInvalidUrlAndClean:function(e){var t=e.match(/#/g);return!!(t&&t.length>1)&&e.split("#").slice(0,1).join("")+"#"+e.split("#").slice(1).join("%23")},guessDefaults:function(e){var t;return e.browser_dmp_id||e.browser_dmp_provider||((t=a.get("kxuser"))?(e.browser_dmp_provider="krux",e.browser_dmp_id=t):(t=a.get("kxkuid"))&&(e.browser_dmp_provider="krux",e.browser_dmp_id=t)),e},pageView:function(e){var t,n=this;e.match_id&&n.userId(e.match_id),e=n.guessDefaults(e),t=o.getContext(e),r.log("got schemas from context as ",t);for(var i=[],a=0;a<t.length;a++)t[a]&&i.push(t[a]);r.log("Schemas",i),window._ncg_snowplow("trackPageView:"+n.sp_namespace.join(";"),null,i),e.user_extra_ids&&e.user_extra_ids.forEach((function(e){n.akaLink("provider",e.provider,e.id)}))},userId:function(e){window._ncg_snowplow("setUserId:"+this.sp_namespace.join(";"),e)},akaLink:function(e,t,n){window._ncg_snowplow("trackStructEvent:"+this.sp_namespace.join(";"),"aka","link:"+e,n,t)},optOut:function(e){e.match_id&&this.userId(e.match_id),window._ncg_snowplow("trackStructEvent:"+this.sp_namespace.join(";"),"preferences","opt-out","","",1)},optIn:function(e){e.match_id&&this.userId(e.match_id),window._ncg_snowplow("trackStructEvent:"+this.sp_namespace.join(";"),"preferences","opt-out","","",0)},sendPreference:function(e){e.match_id&&this.userId(e.match_id),window._ncg_snowplow("trackStructEvent:"+this.sp_namespace.join(";"),"preferences",e.preferenceEventName,"","",e.preferenceEventValue)},sendIABConsentString:function(e){window._ncg_snowplow("trackStructEvent:"+this.sp_namespace.join(";"),"preferences","IAB_CS",e)},extractFilterLinks:function(e,t){var n=e.querySelectorAll(t);r.log("Find links for "+t+","+n.length+", already tracked links: "+this.trackedLinks),this.trackedLinks||(this.trackedLinks=[]);for(var i=0;i<n.length;i++){var a=n[i].href;this.trackedLinks.indexOf(a)<0&&this.trackedLinks.push(a)}r.log("Tracked links: "+this.trackedLinks)},activateLinkTracking:function(e){var t=this;if(e.link_tracker_watch_selector&&document.querySelectorAll(e.link_tracker_watch_selector)){var n=document.querySelectorAll(e.link_tracker_watch_selector);r.log("Watched elements for "+e.link_tracker_watch_selector+", "+n.length);for(var i=0;i<n.length;i++){var a=n[i];if(t.extractFilterLinks(a,e.link_tracker_selector),"BODY"!==a.tagName.toUpperCase()){if(window.MutationObserver){t.observers||(t.observers=[]);var o=new MutationObserver((function(n){var i=document.querySelectorAll(e.link_tracker_watch_selector);r.log("Refreshing link tracking updatedWatchElements: "+i.length+",mutation:"+n);for(var a=0;a<i.length;a++){var o=i[a];t.extractFilterLinks(o,e.link_tracker_selector),window._ncg_snowplow("refreshLinkClickTracking:"+t.sp_namespace.join(";"))}}));o.observe(a,{childList:!0,subtree:!0}),t.observers.push(o),r.log("Number of link tracker observers: "+t.observers.length)}}else r.log("BODY tag will not be observed because it may have too many mutations")}}else t.extractFilterLinks(document,e.link_tracker_selector);window._ncg_snowplow("enableLinkClickTracking:"+this.sp_namespace.join(";"),{filter:function(e){var n=t.trackedLinks&&t.trackedLinks.indexOf(e.href)>-1;return r.log("linkFilter:"+e.href+", "+n),n}})},getUserInfo:function(){var e=this.sp.getDomainUserInfo();return{firstSession:e[0],id:e[1],cookieTs:e[2],sessions:e[3],lastSessionTs:e[4],firstSessionTs:e[5]}},getExtraInfo:function(){var e={},t=i.get("_ncg_g_id_"),n=new s.NetworkId(t);n.isValid()&&(e.nuId=n.getId(),e.extraContexts=[{schema:"iglu:com.newscgp/adhoc/jsonschema/1-0-0",data:{namespace:"newsid.deviceid",data:[{key:"device_id",value:t}]}}]);var a=new s.DomainId(i.get("_ncg_domain_id_"));return a.isValid()&&(e.domainId=a.getId()),e},getDeviceId:function(){return i.get("_ncg_g_id_")}},t.exports=new c},{"../lib/debug":50,"./contexts":22,"./cookie":23,"./ids":51,"./local":52}],62:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../ajax"),r=e("../debug"),o=(e("../local"),e("../ncg_id")),s=function(e){this.params=e};s.prototype={id:"aapi",notFirstPageView:!1,shouldRun:function(){return this.notFirstPageView=this.params.userInfo.lastSessionTs>this.params.userInfo.firstSessionTs,i.checkOrSchedule(this.id,5)},triggerPixel:function(e){var t=this;this.notFirstPageView?this.run(e):window.nb.push(["ncg:first-view-ready",function(n){setTimeout(t.run.bind(t,e),5e3)}])},run:function(e){var t=[];this.params.aapiExtraIds&&(t=t.concat(this.params.aapiExtraIds())),this.params.ncg_data.browser_ncg_id&&t.push({type:"network",site:"",value:this.params.ncg_data.browser_ncg_id}),t.push({type:"domain",site:this.params.domainConfig.domain,value:this.params.userInfo.id}),this.lookup(t,e),i.update(this.id)},lookup:function(e,t){var n=this,i=function(n){r.log("AAPI NOT FOUND",e),t&&t({message:"Not found"})},s=function(e){r.log("AAPI FOUND",e.responseObject);var i=!o.getMatchid(),a=null;o.update({match_id:e.responseObject.matchid,domain_id:n.params.userInfo.id}),o.setPreferencesFromObject(e.responseObject),t&&t(null,e.responseObject),n.notFirstPageView?i&&(a=o.getMatchid())&&(ncg_data.match_id=a,console.log("2-message : ncg:first-view-aapi-ready"),window.nb.push(["ncg:first-view-aapi-ready",!!ncg_data.match_id])):(ncg_data.match_id=o.getMatchid(),console.log("1-message : ncg:first-view-aapi-ready"),window.nb.push(["ncg:first-view-aapi-ready",!!ncg_data.match_id]))};!function(t){var o="";e.forEach((function(e){"newscgp.com"==e.site&&"domain"==e.type&&(e.site="",e.type="network"),o+=a.params(e)+"&"})),a.setup({timeout:1e3}).call("GET","https://"+n.params.aapi+"/lookuplist?"+o,{bust:!0,"errors-in-body":1},(function(e,t){var n=e.status;switch(e.responseObject&&e.responseObject.code&&(n=e.responseObject.code),n){case 200:s(e);break;case 404:i();break;default:t&&t.type&&"timeout"==t.type?r.log("AAPI timeout error",t):r.log("Unknown AAPI error",e.status,e.statusText,e.responseText,t),i()}}))}()}},t.exports=s},{"../ajax":19,"../debug":50,"../local":52,"../ncg_id":56,"../scheduler":60}],63:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../pixel"),r=function(e){this.params=e};r.prototype={id:"appnexus",url:"//ib.adnxs.com/mapuid",shouldRun:function(){var e=this.params&&this.params.ncg_data&&this.params.ncg_data.match_id,t=86400;return this.params.ncg_data.match_id===this.params.userInfo.id&&(t=1),e&&i.checkOrSchedule(this.id,t)},run:function(){a.pixel({member:7239,user:this.params.ncg_data.match_id},this.url),i.update(this.id)}},t.exports=r},{"../pixel":58,"../scheduler":60}],64:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../pixel"),r=function(e){this.params=e};const o=["wsj.com","barrons.com","marketwatch.com","fnlondon.com","penews.com","mansionglobal.com","heatst.com","moneyish.com"];r.prototype={id:"bkp",url:"//tags.bluekai.com/site/39670",shouldRun:function(){var e=this.params&&this.params.ncg_data&&this.params.ncg_data.match_id,t=86400;return this.params.ncg_data.match_id===this.params.userInfo.id&&(t=1),e&&i.checkOrSchedule(this.id,t)&&!this.checkDowJonesBU(this.params.domainConfig.domain)},run:function(){a.pixel({id:this.params.ncg_data.match_id},this.url),i.update(this.id)},checkDowJonesBU:function(e){return 1===o.filter(t=>e.endsWith(t)).length}},t.exports=r},{"../pixel":58,"../scheduler":60}],65:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../pixel"),r=e("../cookie"),o=e("uuid"),s=e("../ids"),c=function(e){this.expiryTS=e};c.prototype={cookieDomain:r.findCookieDomain(),schedulerId:"ckstr_"+document.location.hostname.replace(/\./g,"_"),schedulerTimeout:14400,cookieExpiryDuration:63072e3,ncgGId:"_ncg_g_id_",ncgDomainId:"_ncg_domain_id_",ncgSpIdPattern:"_ncg_sp_id..{4}",hasHttpDomainIdCookie:function(){var e=new s.DomainId(r.get(this.ncgDomainId));return e.isValid()&&e.isHttpCookie()},hasNewFormatGIdCookie:function(){return new s.NetworkId(r.get(this.ncgGId)).isValid()},setDomainId:function(){if(!this.hasHttpDomainIdCookie()){var e=r.get(this.ncgDomainId);if(e){var t=e.split(".");if(4==t.length&&o.validate(t[0]))return}var n=r.getCookieFromNamePattern(this.ncgSpIdPattern),i=Math.floor((new Date).getTime()/1e3),a=i+this.cookieExpiryDuration,s=n?`${n.split(".")[0]}.0.${i}.${a}`:`${o.v4()}.0.${i}.${a}`;r.set(this.ncgDomainId,s,Math.floor(a/60),this.cookieDomain)}},run:function(e=!1){var t=!(this.hasHttpDomainIdCookie()&&this.hasNewFormatGIdCookie());if(t=(t=i.checkOrSchedule(this.schedulerId,this.schedulerTimeout)||t)||e){this.setDomainId();var n=`https://tags.${this.cookieDomain}/cs/sync/i`;this.expiryTS?a.pixel({expiry_ts:expiry_ts},n):a.pixel({},n),i.update(this.schedulerId)}}},t.exports=c},{"../cookie":23,"../ids":51,"../pixel":58,"../scheduler":60,uuid:4}],66:[function(e,t,n){var i=e("../cookie"),a=e("../local"),r=e("../scheduler")("_ncg_sch_"),o=e("extend"),s=e("../debug"),c=e("../userAgent"),u=e("../ids"),l=function(e){this.params=e,this.init()};l.prototype={id:"cs",notFirstPageView:!1,ifrms:{},init:function(){var e=this;window.addEventListener("message",(function(){e.receiveMessage.apply(e,arguments)}),!1)},shouldRun:function(){var e=1==a.get("_ncg_dnt_");this.notFirstPageView=e||this.params.userInfo.lastSessionTs>this.params.userInfo.firstSessionTs;var t=c.isBot(),n=r.checkOrSchedule(this.id,this.params.cookieSyncScheduleTime),i=!this.notFirstPageView||n,o=ncg_data.debug_disable_cookiesync;return s.log("should sync:",e,this.params.userInfo.lastSessionTs>this.params.userInfo.firstSessionTs,!t,!o,i),!t&&!o&&i},run:function(e,t,n){var a=this;r.update(this.id);var o=null;this.params.countryConfig.utils.aapiExtraIds&&(o=this.params.countryConfig.utils.aapiExtraIds.apply(this.params)).forEach((function(e){a.params.sp.akaLink(e.type,e.site,e.value)})),a.params.sp.akaLink("domain",i.findCookieDomain(),this.params.userInfo.id),this.params.domainConfig&&(ncg_data._cookie_sync_enabled?this.newCookieSync(a,o,e,t,n):this.oldCookieSync(a,o,e,t,n))},newCookieSync:function(e,t,n,a,r){var c=new u.NetworkId(i.get("_ncg_g_id_"));if(c.isValid())return ncg_data.browser_ncg_id=c.getId(),void e.params.sp.akaLink("network","",c.getId());var l=o([],this.params.domainConfig.domainsInGroup);this.params.domainConfig.optOutDomain,delete l[0];var d=l;e.notFirstPageView||window.nb.push(["ncg:first-view-ready",{"link:domain":!0,"link:network":c.isValid(),"link:extra_ids":!!t}]),e.sync(d,{basePath:e.params.cookieSyncPath,onCookie:function(t,i){s.log("other-cookie-sync-ret",t,i),i.aka&&e.params.sp.akaLink("domain",t,i.aka),i.isOptOut&&void 0!==i.optOut&&r(i.optOut),n&&n(i)},onAllCookies:a})},oldCookieSync:function(e,t,n,a,r){var c=o([],this.params.domainConfig.domainsInGroup),u=this.params.domainConfig.optOutDomain,l=[c[0]];delete c[0];var d=[];this.sync(l,{basePath:this.params.cookieSyncPath,onCookie:function(o,l){s.log("global-cookie-sync-ret",o,l),l.aka?(i.set("_ncg_g_id_",l.aka,1051200,i.findCookieDomain()),ncg_data.browser_ncg_id=l.aka,e.params.sp.akaLink("network","",l.aka),l.isOptOut?void 0!==l.optOut&&r(l.optOut):!l.isOptOut&&u&&(d=[u])):d=c,n&&n(l),d.length?e.sync(d,{basePath:e.params.cookieSyncPath,onCookie:function(t,i){s.log("other-cookie-sync-ret",t,i),i.aka&&e.params.sp.akaLink("domain",t,i.aka),i.isOptOut&&void 0!==i.optOut&&r(i.optOut),n&&n(i)},onAllCookies:a}):a([l]),e.notFirstPageView||window.nb.push(["ncg:first-view-ready",{"link:domain":!0,"link:network":!!l.aka,"link:extra_ids":!!t}])}})},runDntSync:function(e){if(r.update(this.id),this.params.domainConfig){for(var t=o([],this.params.domainConfig.domainsInGroup),n=[],i=0;i<t.length;i++)if(!0===t[i].isOptOut){n.push(t[i]);break}n.length&&this.sync(n,{basePath:this.params.cookieSyncPath,onCookie:function(t,n){s.log("global-dnt-cookie-sync-ret",t,n),e(n)}})}},ssl:function(){return"https:"===document.location.protocol},createIframe:function(e,t){var n=this.ssl()?"https:":"http:";if(this.ifrms[e])this.ifrms[e].contentWindow.postMessage("getcookie:"+this.ifrms[e].getAttribute("id"),n+e);else{var i=document.createElement("iframe"),a="ncg_cookie_"+parseInt(1e5*Math.random())+"-"+(new Date).getTime();i.setAttribute("width",0),i.setAttribute("height",0),i.setAttribute("frameborder",0),i.setAttribute("aria-hidden",!0),i.setAttribute("title","News ID"),i.setAttribute("id",a);var r=document.body||document.getElementsByTagName("body")[0];i.src=e,r?r.appendChild(i):s.log("cookiesync.createIframe body is: "+r),i.onload=function(){i.contentWindow.postMessage("getcookie:"+a,n+e)},this.ifrms[e]=i}},receiveMessage:function(e){if(e.data&&0==e.data.toString().indexOf("cookie:"))try{var t=JSON.parse(e.data.substr("cookie:".length));s.log("sync domain",t.domain),s.log("sync payload",t),this.onCookie(t.domain,t)}catch(e){s.log("sync error",e)}},sync:function(e,t){for(var n=[],a=0;a<e.length;a++)if(c=e[a]){var r="."+i.findCookieDomain();s.log("cookieDomain:",r),!(c.network||c.url.indexOf(r)<0||c.url.indexOf(r)!==c.url.length-r.length)||this.ssl()&&!c.ssl||(s.log("adding to domainsToCheck:",c),n.push(c))}n.length;var o=[];if(t.onCookie&&(s.log("has conf.onCookie"),this.onCookie=function(e,i){s.log("oncookie done: ",e,i),t.onCookie(e,i),o.push(i),t.onAllCookies&&o.length==n.length&&t.onAllCookies(o)}),n.length>0)for(var a in n){var c=n[a];this.createIframe("//"+c.url+t.basePath+"/cookie.html")}else t.onAllCookies&&t.onAllCookies([])}},t.exports=l},{"../cookie":23,"../debug":50,"../ids":51,"../local":52,"../scheduler":60,"../userAgent":70,extend:3}],67:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../pixel"),r=e("../cookie"),o=function(e,t,n){this.domain=e,this.tagSites=t,this.syncTimeout=n};o.prototype={id:"_ncg_devid_updtedon_",getTagSiteUrl:function(){if(!this.domain||!this.tagSites)return null;for(var e in this.tagSites){var t=this.domain.lastIndexOf(e),n=e.length;if(t>=0&&t+n==this.domain.length)return`https://${this.tagSites[e][0]}/prod/deviceid/i`}return null},endsWith:function(e,t){if(!e||!t||t.length>e.length)return!1;var n=e.lastIndexOf(t);return n>=0&&n+t.length==e.length},getTagsEntry:function(){for(var e in this.tagSites)if(this.endsWith(this.domain,e))return this.tagSites[e]},shouldRun:function(){if(!this.domain||!this.tagSites||!this.syncTimeout)return!1;var e=this.getTagsEntry();return!(!e||0==e[1])&&i.checkOrSchedule(this.id,this.syncTimeout)},fireKruxTag:function(){var e=r.get("_ncg_d_id_");if(e){var t=`https://beacon.krxd.net/usermatch.gif?partner=newsiq_device&partner_uid=${e.substring(0,e.lastIndexOf("."))}`;a.pixel({},t)}else console.log("device id is missing")},run:function(){var e=this.getTagSiteUrl();a.pixel({},e,this.fireKruxTag),i.update(this.id)}},t.exports=o},{"../cookie":23,"../pixel":58,"../scheduler":60}],68:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../pixel"),r=function(e){this.params=e};r.prototype={id:"krux",url:"//beacon.krxd.net/usermatch.gif?partner=newsiq&partner_uid=Partner_User_ID",shouldRun:function(){var e=this.params&&this.params.ncg_data&&this.params.ncg_data.match_id,t=86400;return this.params.ncg_data.match_id===this.params.userInfo.id&&(t=1),e&&i.checkOrSchedule(this.id,t)},run:function(){var e=/AppleWebKit/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),t=this.params.ncg_data.match_id||"",n=this.url.replace(/Partner_User_ID$/,t);e&&(n+="&_kuid="+(this.params.userInfo.id||"")),a.pixel({},n),i.update(this.id)}},t.exports=r},{"../pixel":58,"../scheduler":60}],69:[function(e,t,n){var i=e("../scheduler")("_ncg_sch_"),a=e("../pixel"),r=function(e){this.params=e};r.prototype={id:"liveramp",url:"//idsync.rlcdn.com/465646.gif?partner_uid=Partner_User_ID",shouldRun:function(){var e=this.params&&this.params.ncg_data&&this.params.ncg_data.match_id,t=86400;return this.params.ncg_data.match_id===this.params.userInfo.id&&(t=1),e&&i.checkOrSchedule(this.id,t)},run:function(){a.pixel({},this.url.replace(/Partner_User_ID$/,this.params.ncg_data.match_id)),i.update(this.id)}},t.exports=r},{"../pixel":58,"../scheduler":60}],70:[function(e,t,n){t.exports={isBot:function(){var e=navigator.userAgent.toLowerCase(),t=["bot","crawl","spider","spyder","khte","ktxn","keynote","gomezagent","alertsite","pingdom","yottamonitor","yottaamonitor","yahoo","slurp","scrape","agentname","aport","avantgo","backweb","bimbo","bordermanager","bumblebee","ce-preload","changedetection","charlotte","crescent","dialer","download ninja","dts agent","enews creator","fetch","firehunter","frontier","getright","go!zilla","golem","harvest","httrack","indy library","infolink","internet ninja","justview","kilroy","larbin","libwww-perl","linkchecker","lwp","macreport","microsoft url control","mobipocket webcompanion","monitor","monster","mozilla/5.0 (compatible; msie 5.0)","ms frontpage","ms search","msnptc","nomad","patric","perman surfer","pioneer","powermarks","rpt-http","spike","stuff","sucker","taz","teleport","templeton","thunderstone","t-h-u-n-d-e-r-s-t-o-n-e","voyager","web downloader","webauto","webcapture","webcopier","webdup","webinator","website extractor","webtool","webzip","wget","worm","freedom","yahoofeedseeker","internal zero-knowledge agent","liferea","findlinks","mackster","automapit","advanced email extractor","news reader","feedfetcher","http-webtest","forex trading network organization","newstin","panscient.com","snoopy","n-central","globrix","aol_cap","pagebull","universalsearch","hoopla","maxamine","argus","google wireless transcoder","jobrapido","webnews arianna","python-urllib","litefinder","isearch","pricerunner","system center operations manager","nettraffic sensor","nettraffic+sensor","d1garabicengine","joedog","websitepulse","bitvouseragent","mozilla/4.0 (compatible; msie 6.0; windows nt 5.1;1813)","swish-e","contentsmartz","quintura-crw","paros","msnrv","kalooga","watchmouse","pureload","proximic","powerset","yahoo-richabstracts","scoutjet","twiceler","twingly","attributor","europarchive","search-engine-studio","yanga","webmetrics","irc search","irc+search","vivisimo","onkosh","holmes","sphere scout","sphere+scout","simplepie","drupal","htmlparser","watchfire webxm","daumoa","lucidmedia clicksense","nielsen adr","evrinid","fdm 3.x","webgrab","isense","business-semantics","trovit","riverglassscanner","siteimprove","ruby","apache-httpclient","sitealarm","archive.org","facebookexternalhit","flipboardproxy","google web preview","evidon","google-ads-backdrop-testing"];if(null===e||""===e)return!0;for(var n=0;n<t.length;n++){var i=t[n];if(-1!==e.indexOf(i))return!0}return!1},ssl:function(){return"https:"===document.location.protocol}}},{}],71:[function(e,t,n){var i=e("../lib/ncg"),a=e("../../config/config-prod.json"),r=e("../../config/tags-config.json"),o=document.location.hostname.endsWith("knewz.com")||document.location.hostname.endsWith("knewz-develop.go-vip.co")?"knewz":"newsconnect-global",s={schemas:e("../lib/countries/us/schemas"),tags:e("../lib/countries/us/tags"),utils:e("../lib/countries/us/utils")};(i=new i).init({env:"prod",country:"us",collector:"us.pixel.newscgp.com",tcfCollector:"v2.pixel.newscgp.com",aapi:"us.audience.newscgp.com",cookieSyncPath:"/prod/ncg",siteId:o,schedulerName:"_ncg_sch_",cookieSyncScheduleTime:21600,pageViewThrottleTime:21600,deviceIdSyncTime:86400,globalDomain:"newscgp.com",domainsConfig:a,tagsConfig:r,countryConfig:s,gdprEndpoint:"tags.news.com.au/prod/data-esi/top/gdpr_user_check.esi"})},{"../../config/config-prod.json":1,"../../config/tags-config.json":2,"../lib/countries/us/schemas":24,"../lib/countries/us/tags":48,"../lib/countries/us/utils":49,"../lib/ncg":55}]},{},[71]),
/*! * Snowplow - The world's most powerful web analytics platform
	 *
	 * @description JavaScript tracker for Snowplow
	 * @version     2.9.0
	 * @author      Alex Dean, Simon Andersson, Anthon Pang, Fred Blundun, Joshua Beemster
	 * @copyright   Anthon Pang, Snowplow Analytics Ltd
	 * @license     Simplified BSD
	 */
function e(t,n,i){function a(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,(function(e){var n=t[o][1][e];return a(n||e)}),l,l.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){
/*
	* @version    0.3.1
	* @date       2014-02-25
	* @stability  2 - Unstable
	* @author     Lauri Rooden <lauri@rooden.ee>
	* @license    MIT License
	*/
this.cookie=function(e,t,n,i,a,r){return arguments.length>1?document.cookie=e+"="+escape(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString():"")+(i?"; path="+i:"")+(a?"; domain="+a:"")+(r?"; secure":""):unescape((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}},{}],2:[function(e,t,n){var i={utf8:{stringToBytes:function(e){return i.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(i.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=i},{}],3:[function(e,t,n){var i,a;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&a.rotl(e,8)|4278255360&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var a=e[n]<<16|e[n+1]<<8|e[n+2],r=0;r<4;r++)8*n+6*r<=8*e.length?t.push(i.charAt(a>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,a=0;n<e.length;a=++n%4)0!=a&&t.push((i.indexOf(e.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|i.indexOf(e.charAt(n))>>>6-2*a);return t}},t.exports=a},{}],4:[function(e,t,n){
/**
	 * This script gives you the zone info key representing your device's time zone setting.
	 *
	 * @name jsTimezoneDetect
	 * @version 1.0.5
	 * @author Jon Nylander
	 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
	 *
	 * For usage and examples, visit:
	 * http://pellepim.bitbucket.org/jstz/
	 *
	 * Copyright (c) Jon Nylander
	 */
var i,a;i=this,(a=function(){"use strict";var e=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},t=function(e,t,n){var i=new Date;return void 0!==e&&i.setFullYear(e),i.setMonth(t),i.setDate(n),i},n=function(n){return e(t(n,0,2))},i=function(n){return e(t(n,5,2))};return{determine:function(){var e,t,r,o=(e=n(),t=i(),(r=e-t)<0?e+",1":r>0?t+",1,s":e+",0");return new a.TimeZone(a.olson.timezones[o])},date_is_dst:function(t){var a=t.getMonth()>7,r=a?i(t.getFullYear()):n(t.getFullYear()),o=r-e(t);return r<0||a?0!==o:o<0},dst_start_for:function(e){var t=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":t,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":t,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[e]}}}()).TimeZone=function(e){"use strict";var t={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},n=e;return void 0!==t[n]&&function(){for(var e=t[n],i=e.length,r=0,o=e[0];r<i;r+=1)if(o=e[r],a.date_is_dst(a.dst_start_for(o)))return void(n=o)}(),{name:function(){return n}}},a.olson={},a.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},void 0!==n?n.jstz=a:i.jstz=a},{}],5:[function(e,t,n){!function(){var e=this;function n(e,t){var n,i,a,r,o,s,c,u;for(n=3&e.length,i=e.length-n,a=t,o=3432918353,s=461845907,u=0;u<i;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,a=27492+(65535&(r=5*(65535&(a=(a^=c=(65535&(c=(c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:a^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}var i=n;if(i.v2=function(e,t){for(var n,i=e.length,a=t^i,r=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(n>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++r;switch(i){case 3:a^=(255&e.charCodeAt(r+2))<<16;case 2:a^=(255&e.charCodeAt(r+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(r)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0},i.v3=n,void 0!==t)t.exports=i;else{var a=e.murmur;i.noConflict=function(){return e.murmur=a,i},e.murmur=i}}()},{}],6:[function(e,t,n){var i,a,r,o;i=e("crypt"),a=e("charenc").utf8,r=e("charenc").bin,(o=function(e,t){var n=i.wordsToBytes(function(e){e.constructor==String&&(e=a.stringToBytes(e));var t=i.bytesToWords(e),n=8*e.length,r=[],o=1732584193,s=-271733879,c=-1732584194,u=271733878,l=-1009589776;t[n>>5]|=128<<24-n%32,t[15+(n+64>>>9<<4)]=n;for(var d=0;d<t.length;d+=16){for(var p=o,g=s,h=c,m=u,f=l,_=0;_<80;_++){if(_<16)r[_]=t[d+_];else{var w=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=w<<1|w>>>31}var v=(o<<5|o>>>27)+l+(r[_]>>>0)+(_<20?1518500249+(s&c|~s&u):_<40?1859775393+(s^c^u):_<60?(s&c|s&u|c&u)-1894007588:(s^c^u)-899497514);l=u,u=c,c=s<<30|s>>>2,s=o,o=v}o+=p,s+=g,c+=h,u+=m,l+=f}return[o,s,c,u,l]}(e));return t&&t.asBytes?n:t&&t.asString?r.bytesToString(n):i.bytesToHex(n)})._blocksize=16,o._digestsize=20,t.exports=o},{charenc:2,crypt:3}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./lib/core");n.trackerCore=i.trackerCore},{"./lib/core":9}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.base64encode=function(e){var t,n,i,a,r,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,u=0,l=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(r=e.charCodeAt(c++)<<16|e.charCodeAt(c++)<<8|e.charCodeAt(c++))>>18&63,n=r>>12&63,i=r>>6&63,a=63&r,l[u++]=s.charAt(t)+s.charAt(n)+s.charAt(i)+s.charAt(a)}while(c<e.length);o=l.join("");var d=e.length%3;return(d?o.slice(0,d-3):o)+"===".slice(d||3)}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("uuid"),a=e("./payload");n.trackerCore=function(e,t){void 0===e&&(e=!0);var n={};function r(e,t){n[e]=t}function o(e,t){var n={};for(var i in t=t||{},e)(t[i]||null!==e[i]&&void 0!==e[i])&&(n[i]=e[i]);return n}function s(e,a,r){e.addDict(n),e.add("eid",i.v4());var o=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(r);e.add(o.type,o.value.toString());var s=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(a);return void 0!==s&&e.addJson("cx","co",s),"function"==typeof t&&t(e),e}function c(t,n,i){var r=a.payloadBuilder(e),o={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:t};return r.add("e","ue"),r.addJson("ue_px","ue_pr",o),s(r,n,i)}return{setBase64Encoding:function(t){e=t},addPayloadPair:r,addPayloadDict:function(e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])},resetPayloadPairs:function(e){n=a.isJson(e)?e:{}},setTrackerVersion:function(e){r("tv",e)},setTrackerNamespace:function(e){r("tna",e)},setAppId:function(e){r("aid",e)},setPlatform:function(e){r("p",e)},setUserId:function(e){r("uid",e)},setScreenResolution:function(e,t){r("res",e+"x"+t)},setViewport:function(e,t){r("vp",e+"x"+t)},setColorDepth:function(e){r("cd",e)},setTimezone:function(e){r("tz",e)},setLang:function(e){r("lang",e)},setIpAddress:function(e){r("ip",e)},trackUnstructEvent:c,trackSelfDescribingEvent:c,trackPageView:function(t,n,i,r,o){var c=a.payloadBuilder(e);return c.add("e","pv"),c.add("url",t),c.add("page",n),c.add("refr",i),s(c,r,o)},trackPagePing:function(t,n,i,r,o,c,u,l,d){var p=a.payloadBuilder(e);return p.add("e","pp"),p.add("url",t),p.add("page",n),p.add("refr",i),p.add("pp_mix",r.toString()),p.add("pp_max",o.toString()),p.add("pp_miy",c.toString()),p.add("pp_may",u.toString()),s(p,l,d)},trackStructEvent:function(t,n,i,r,o,c,u){var l=a.payloadBuilder(e);return l.add("e","se"),l.add("se_ca",t),l.add("se_ac",n),l.add("se_la",i),l.add("se_pr",r),l.add("se_va",null==o?void 0:o.toString()),s(l,c,u)},trackEcommerceTransaction:function(t,n,i,r,o,c,u,l,d,p,g){var h=a.payloadBuilder(e);return h.add("e","tr"),h.add("tr_id",t),h.add("tr_af",n),h.add("tr_tt",i),h.add("tr_tx",r),h.add("tr_sh",o),h.add("tr_ci",c),h.add("tr_st",u),h.add("tr_co",l),h.add("tr_cu",d),s(h,p,g)},trackEcommerceTransactionItem:function(t,n,i,r,o,c,u,l,d){var p=a.payloadBuilder(e);return p.add("e","ti"),p.add("ti_id",t),p.add("ti_sk",n),p.add("ti_nm",i),p.add("ti_ca",r),p.add("ti_pr",o),p.add("ti_qu",c),p.add("ti_cu",u),s(p,l,d)},trackScreenView:function(e,t,n,i){return c({schema:"iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0",data:o({name:e,id:t})},n,i)},trackLinkClick:function(e,t,n,i,a,r,s){return c({schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:o({targetUrl:e,elementId:t,elementClasses:n,elementTarget:i,elementContent:a})},r,s)},trackAdImpression:function(e,t,n,i,a,r,s,u,l,d){return c({schema:"iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0",data:o({impressionId:e,costModel:t,cost:n,targetUrl:i,bannerId:a,zoneId:r,advertiserId:s,campaignId:u})},l,d)},trackAdClick:function(e,t,n,i,a,r,s,u,l,d,p){return c({schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:o({targetUrl:e,clickId:t,costModel:n,cost:i,bannerId:a,zoneId:r,impressionId:s,advertiserId:u,campaignId:l})},d,p)},trackAdConversion:function(e,t,n,i,a,r,s,u,l,d,p){return c({schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:o({conversionId:e,costModel:t,cost:n,category:i,action:a,property:r,initialValue:s,advertiserId:u,campaignId:l})},d,p)},trackSocialInteraction:function(e,t,n,i,a){return c({schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:o({action:e,network:t,target:n})},i,a)},trackAddToCart:function(e,t,n,i,a,r,s,u){return c({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",data:o({sku:e,name:t,category:n,unitPrice:i,quantity:a,currency:r})},s,u)},trackRemoveFromCart:function(e,t,n,i,a,r,s,u){return c({schema:"iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0",data:o({sku:e,name:t,category:n,unitPrice:i,quantity:a,currency:r})},s,u)},trackFormChange:function(e,t,n,i,a,r,s,u){return c({schema:"iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",data:o({formId:e,elementId:t,nodeName:n,type:i,elementClasses:a,value:r},{value:!0})},s,u)},trackFormSubmission:function(e,t,n,i,a){return c({schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:o({formId:e,formClasses:t,elements:n})},i,a)},trackSiteSearch:function(e,t,n,i,a,r){return c({schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:o({terms:e,filters:t,totalResults:n,pageResults:i})},a,r)},trackConsentWithdrawn:function(e,t,n,i,a,r,s){var u={schema:"iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0",data:o({id:t,version:n,name:i,description:a})};return c({schema:"iglu:com.snowplowanalytics.snowplow/consent_withdrawn/jsonschema/1-0-0",data:o({all:e})},u.data&&r?r.concat([u]):r,s)},trackConsentGranted:function(e,t,n,i,a,r,s){var u={schema:"iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0",data:o({id:e,version:t,name:n,description:i})};return c({schema:"iglu:com.snowplowanalytics.snowplow/consent_granted/jsonschema/1-0-0",data:o({expiry:a})},r?r.concat([u]):[u],s)}}}},{"./payload":10,uuid:12}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./base64");function a(e){if(!r(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}n.isNonEmptyJson=a,n.isJson=r,n.payloadBuilder=function(e){var t={},n=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:n,addDict:function(e){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])},addJson:function(t,r,o){if(a(o)){var s=JSON.stringify(o);e?n(t,(c=s)?i.base64encode(c).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"):c):n(r,s)}var c},build:function(){return t}}}},{"./base64":8}],11:[function(e,t,n){(function(e){var n,i=e.crypto||e.msCrypto;if(i&&i.getRandomValues){var a=new Uint8Array(16);n=function(){return i.getRandomValues(a),a}}if(!n){var r=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){for(var i=e("./rng"),a=[],r={},o=0;o<256;o++)a[o]=(o+256).toString(16).substr(1),r[a[o]]=o;function s(e,t){var n=t||0,i=a;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}var c=i(),u=[1|c[0],c[1],c[2],c[3],c[4],c[5]],l=16383&(c[6]<<8|c[7]),d=0,p=0;function g(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;o++)t[a+o]=r[o];return t||s(r)}var h=g;h.v1=function(e,t,n){var i=t&&n||0,a=t||[],r=void 0!==(e=e||{}).clockseq?e.clockseq:l,o=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:p+1,g=o-d+(c-p)/1e4;if(g<0&&void 0===e.clockseq&&(r=r+1&16383),(g<0||o>d)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=o,p=c,l=r;var h=(1e4*(268435455&(o+=122192928e5))+c)%4294967296;a[i++]=h>>>24&255,a[i++]=h>>>16&255,a[i++]=h>>>8&255,a[i++]=255&h;var m=o/4294967296*1e4&268435455;a[i++]=m>>>8&255,a[i++]=255&m,a[i++]=m>>>24&15|16,a[i++]=m>>>16&255,a[i++]=r>>>8|128,a[i++]=255&r;for(var f=e.node||u,_=0;_<6;_++)a[i+_]=f[_];return t||s(a)},h.v4=g,h.parse=function(e,t,n){var i=t&&n||0,a=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){a<16&&(t[i+a++]=r[e])}));a<16;)t[i+a++]=0;return t},h.unparse=s,t.exports=h},{"./rng":11}],13:[function(e,t,n){var i=e("./lib_managed/lodash"),a=e("./lib/helpers"),r=window;(void 0!==n?n:this).errorManager=function(e){function t(t,n,i,a,r,o){var s=r&&r.stack?r.stack:null;e.trackSelfDescribingEvent({schema:"iglu:com.snowplowanalytics.snowplow/application_error/jsonschema/1-0-1",data:{programmingLanguage:"JAVASCRIPT",message:t||"JS Exception. Browser doesn't support ErrorEvent API",stackTrace:s,lineNumber:i,lineColumn:a,fileName:n}},o)}return{trackError:t,enableErrorTracking:function(e,n,o){a.addEventListener(r,"error",(function(a){(i.isFunction(e)&&e(a)||null==e)&&function(e,n,a){var r;r=i.isFunction(a)?n.concat(a(e)):n,t(e.message,e.filename,e.lineno,e.colno,e.error,r)}(a,o,n)}),!0)}}}},{"./lib/helpers":18,"./lib_managed/lodash":20}],14:[function(e,t,n){var i=e("./lib_managed/lodash"),a=e("./lib/helpers");(void 0!==n?n:this).getFormTrackingManager=function(e,t,n){var r=["textarea","input","select"],o=t+"form",s=function(){return!0},c=function(){return!0},u=function(e){return e};function l(e){return e[i.find(["name","id","type","nodeName"],(function(t){return e[t]&&"string"==typeof e[t]}))]}function d(t){return function(i){var r=i.target,o=r.nodeName&&"INPUT"===r.nodeName.toUpperCase()?r.type:null,s="checkbox"!==r.type||r.checked?u(r.value):null;e.trackFormChange(function(e){for(;e&&e.nodeName&&"HTML"!==e.nodeName.toUpperCase()&&"FORM"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&e.nodeName&&"FORM"===e.nodeName.toUpperCase())return l(e)}(r),l(r),r.nodeName,o,a.getCssClasses(r),s,n(t))}}function p(t){return function(s){var c=s.target,d=function(e){var t=[];return i.forEach(r,(function(n){var a=i.filter(e.getElementsByTagName(n),(function(e){return e.hasOwnProperty(o)}));i.forEach(a,(function(e){if("submit"!==e.type){var n={name:l(e),value:e.value,nodeName:e.nodeName};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(n.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(n.value=null),t.push(n)}}))})),t}(c);i.forEach(d,(function(e){e.value=u(e.value)})),e.trackFormSubmission(l(c),a.getCssClasses(c),d,n(t))}}return{configureFormTracking:function(e){e&&(s=a.getFilter(e.forms,!0),c=a.getFilter(e.fields,!1),u=a.getTransform(e.fields))},addFormListeners:function(e){i.forEach(document.getElementsByTagName("form"),(function(t){s(t)&&!t[o]&&(i.forEach(r,(function(n){i.forEach(t.getElementsByTagName(n),(function(t){c(t)&&!t[o]&&"password"!==t.type.toLowerCase()&&(a.addEventListener(t,"change",d(e),!1),t[o]=!0)}))})),a.addEventListener(t,"submit",p(e)),t[o]=!0)}))}}}},{"./lib/helpers":18,"./lib_managed/lodash":20}],15:[function(e,t,n){!function(){var t=e("./lib_managed/lodash"),i=e("./lib/helpers");(void 0!==n?n:this).InQueueManager=function(e,n,a,r,o){var s={};function c(e){var n=[];if(e&&0!==e.length)for(var a=0;a<e.length;a++)s.hasOwnProperty(e[a])?n.push(s[e[a]]):i.warn('Warning: Tracker namespace "'+e[a]+'" not configured');else n=t.map(s);return 0===n.length&&i.warn("Warning: No tracker configured"),n}function u(e,n,a){var r;i.warn(e+" is deprecated. Set the collector when a new tracker instance using newTracker."),l(r=t.isUndefined(a)?"sp":a),s[r][e](n)}function l(t,r,c){c=c||{},s.hasOwnProperty(t)?i.warn("Tracker namespace "+t+" already exists."):(s[t]=new e(o,t,n,a,c),s[t].setCollectorUrl(r))}function d(e){var t=e.split(":");return[t[0],t.length>1?t[1].split(";"):[]]}function p(){var e,n,i,a,r,o,p,g;for(e=0;e<arguments.length;e+=1)if(a=arguments[e],r=Array.prototype.shift.call(a),t.isFunction(r))r.apply(s,a);else if(i=(o=d(r))[0],p=o[1],"newTracker"!==i)if("setCollectorCf"!==i&&"setCollectorUrl"!==i||p&&0!==p.length)for(g=c(p),n=0;n<g.length;n++)g[n][i].apply(g[n],a);else u(i,a[0],a[1]);else l(a[0],a[1],a[2])}for(var g=0;g<r.length;g++)p(r[g]);return{push:p}}}()},{"./lib/helpers":18,"./lib_managed/lodash":20}],16:[function(e,t,n){var i,a,r=e("./snowplow"),o=window;o.GlobalSnowplowNamespace&&o.GlobalSnowplowNamespace.length>0?(i=o.GlobalSnowplowNamespace.shift(),(a=o[i]).q=new r.Snowplow(a.q,i)):(o._snaq=o._snaq||[],o._snaq=new r.Snowplow(o._snaq,"_snaq"))},{"./snowplow":23}],17:[function(e,t,n){!function(){var t=e("../lib_managed/lodash"),i=e("murmurhash").v3,a=e("jstimezonedetect").jstz.determine(),r=e("browser-cookie-lite"),o=void 0!==n?n:this,s=window,c=navigator,u=screen,l=document;o.hasSessionStorage=function(){try{return!!s.sessionStorage}catch(e){return!0}},o.hasLocalStorage=function(){try{return!!s.localStorage}catch(e){return!0}},o.localStorageAccessible=function(){var e="modernizr";if(!o.hasLocalStorage())return!1;try{return s.localStorage.setItem(e,e),s.localStorage.removeItem(e),!0}catch(e){return!1}},o.hasCookies=function(e){var n=e||"testcookie";return t.isUndefined(c.cookieEnabled)?(r.cookie(n,"1"),"1"===r.cookie(n)?"1":"0"):c.cookieEnabled?"1":"0"},o.detectSignature=function(e){var t=[c.userAgent,[u.height,u.width,u.colorDepth].join("x"),(new Date).getTimezoneOffset(),o.hasSessionStorage(),o.hasLocalStorage()],n=[];if(c.plugins)for(var a=0;a<c.plugins.length;a++)if(c.plugins[a]){for(var r=[],s=0;s<c.plugins[a].length;s++)r.push([c.plugins[a][s].type,c.plugins[a][s].suffixes]);n.push([c.plugins[a].name+"::"+c.plugins[a].description,r.join("~")])}return i(t.join("###")+"###"+n.sort().join(";"),e)},o.detectTimezone=function(){return void 0===a?"":a.name()},o.detectViewport=function(){var e=s,t="inner";"innerWidth"in s||(t="client",e=l.documentElement||l.body);var n=e[t+"Width"],i=e[t+"Height"];return n>=0&&i>=0?n+"x"+i:null},o.detectDocumentSize=function(){var e=l.documentElement,t=l.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,i=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),a=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n);return isNaN(i)||isNaN(a)?"":i+"x"+a},o.detectBrowserFeatures=function(e,n){var i,a,r={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},l={};if(c.mimeTypes&&c.mimeTypes.length)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a=c.mimeTypes[r[i]],l[i]=a&&a.enabledPlugin?"1":"0");return c.constructor===window.Navigator&&"unknown"!=typeof c.javaEnabled&&!t.isUndefined(c.javaEnabled)&&c.javaEnabled()&&(l.java="1"),t.isFunction(s.GearsFactory)&&(l.gears="1"),l.res=u.width+"x"+u.height,l.cd=u.colorDepth,e&&(l.cookie=o.hasCookies(n)),l}}()},{"../lib_managed/lodash":20,"browser-cookie-lite":1,jstimezonedetect:4,murmurhash:5}],18:[function(e,t,n){!function(){var t=e("../lib_managed/lodash"),i=e("browser-cookie-lite"),a=void 0!==n?n:this;a.fixupTitle=function(e){if(!t.isString(e)){e=e.text||"";var n=document.getElementsByTagName("title");n&&!t.isUndefined(n[0])&&(e=n[0].text)}return e},a.getHostName=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e},a.fixupDomain=function(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e},a.getReferrer=function(e){var t="",n=a.fromQuerystring("referrer",window.location.href)||a.fromQuerystring("referer",window.location.href);if(n)return n;if(e)return e;try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(e){t=""}}return""===t&&(t=document.referrer),t},a.addEventListener=function(e,t,n,i){return e.addEventListener?(e.addEventListener(t,n,i),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)},a.fromQuerystring=function(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},a.warn=function(e){"undefined"!=typeof console&&console.warn("Snowplow: "+e)},a.getCssClasses=function(e){return e.className.match(/\S+/g)||[]},a.getFilter=function(e,n){if(t.isArray(e)||!t.isObject(e))return function(){return!0};if(e.hasOwnProperty("filter"))return e.filter;var i=e.hasOwnProperty("whitelist"),r=e.whitelist||e.blacklist;t.isArray(r)||(r=[r]);for(var o={},s=0;s<r.length;s++)o[r[s]]=!0;return n?function(e){return function(e,t){var n,i=a.getCssClasses(e);for(n=0;n<i.length;n++)if(t[i[n]])return!0;return!1}(e,o)===i}:function(e){return e.name in o===i}},a.getTransform=function(e){return t.isObject(e)&&e.hasOwnProperty("transform")?e.transform:function(e){return e}},a.decorateQuerystring=function(e,t,n){var i=t+"="+n,a=e.split("#"),r=a[0].split("?"),o=r.shift(),s=r.join("?");if(s){for(var c=!0,u=s.split("&"),l=0;l<u.length;l++)if(u[l].substr(0,t.length+1)===t+"="){c=!1,u[l]=i,s=u.join("&");break}c&&(s=i+"&"+s)}else s=i;return a[0]=o+"?"+s,a.join("#")},a.attemptGetLocalStorage=function(e){try{return localStorage.getItem(e)}catch(e){}},a.attemptWriteLocalStorage=function(e,t){try{return localStorage.setItem(e,t),!0}catch(e){return!1}},a.findRootDomain=function(){for(var e="_sp_root_domain_test_"+(new Date).getTime(),t="_test_value_"+(new Date).getTime(),n=window.location.hostname.split("."),r=n.length-1;r>=0;){var o=n.slice(r,n.length).join(".");if(i.cookie(e,t,0,"/",o),i.cookie(e)===t){a.deleteCookie(e,o);for(var s=a.getCookiesWithPrefix("_sp_root_domain_test_"),c=0;c<s.length;c++)a.deleteCookie(s[c],o);return o}r-=1}return window.location.hostname},a.isValueInArray=function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},a.deleteCookie=function(e,t){i.cookie(e,"",-1,"/",t)},a.getCookiesWithPrefix=function(e){for(var t=document.cookie.split("; "),n=[],i=0;i<t.length;i++)t[i].substring(0,e.length)===e&&n.push(t[i]);return n},a.parseInt=function(e){var t=parseInt(e);return isNaN(t)?void 0:t},a.parseFloat=function(e){var t=parseFloat(e);return isNaN(t)?void 0:t}}()},{"../lib_managed/lodash":20,"browser-cookie-lite":1}],19:[function(e,t,n){!function(){var t=e("./helpers");function i(e){var t;if(t=e,new RegExp("^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$").test(t))try{return"You have reached the cached page for"===document.body.children[0].children[0].children[0].children[0].children[0].children[0].innerHTML.slice(0,"You have reached the cached page for".length)}catch(e){return!1}}(void 0!==n?n:this).fixupUrl=function(e,n,a){return"translate.googleusercontent.com"===e?(""===a&&(a=n),n=function(e,n){var i=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(e);return t.fromQuerystring(n,i[1])}(n,"u"),e=t.getHostName(n)):("cc.bingj.com"===e||"webcache.googleusercontent.com"===e||i(e))&&(n=document.links[0].href,e=t.getHostName(n)),[e,n,a]}}()},{"./helpers":18}],20:[function(e,t,n){(function(e){(function(){var i="[object Arguments]",a="[object Array]",r="[object Boolean]",o="[object Date]",s="[object Error]",c="[object Function]",u="[object Number]",l="[object Object]",d="[object RegExp]",p="[object String]",g="[object Float32Array]",h="[object Float64Array]",m="[object Int8Array]",f="[object Int16Array]",_="[object Int32Array]",w="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",y="[object Uint32Array]",k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,A=/^\w*$/,S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,x=/\\(\\)?/g,I=/\w*$/,C=/^\[object .+?Constructor\]$/,T=/^\d+$/,E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L={};L[g]=L[h]=L[m]=L[f]=L[_]=L[w]=L[v]=L[b]=L[y]=!0,L[i]=L[a]=L["[object ArrayBuffer]"]=L[r]=L[o]=L[s]=L[c]=L["[object Map]"]=L[u]=L[l]=L[d]=L["[object Set]"]=L[p]=L["[object WeakMap]"]=!1;var j={};j[i]=j[a]=j["[object ArrayBuffer]"]=j[r]=j[o]=j[g]=j[h]=j[m]=j[f]=j[_]=j[u]=j[l]=j[d]=j[p]=j[w]=j[v]=j[b]=j[y]=!0,j[s]=j[c]=j["[object Map]"]=j["[object Set]"]=j["[object WeakMap]"]=!1;var O={function:!0,object:!0},P=O[typeof n]&&n&&!n.nodeType&&n,D=O[typeof t]&&t&&!t.nodeType&&t,M=P&&D&&"object"==typeof e&&e&&e.Object&&e,U=O[typeof self]&&self&&self.Object&&self,R=O[typeof window]&&window&&window.Object&&window,N=D&&D.exports===P&&P,F=M||R!==(this&&this.window)&&R||U||this,V=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();function z(e){return!!e&&"object"==typeof e}var H=Array.prototype,B=Error.prototype,q=Object.prototype,W=String.prototype,G=Function.prototype.toString,$=q.hasOwnProperty,J=q.toString,K=RegExp("^"+G.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=F.ArrayBuffer,Q=q.propertyIsEnumerable,X=H.splice,Z=F.Uint8Array,ee=Ee(Array,"isArray"),te=Ee(Object,"keys"),ne={};ne[g]=F.Float32Array,ne[h]=F.Float64Array,ne[m]=F.Int8Array,ne[f]=F.Int16Array,ne[_]=F.Int32Array,ne[w]=Z,ne[v]=F.Uint8ClampedArray,ne[b]=F.Uint16Array,ne[y]=F.Uint32Array;var ie={};function ae(){}ie[a]=ie[o]=ie[u]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ie[r]=ie[p]={constructor:!0,toString:!0,valueOf:!0},ie[s]=ie[c]=ie[d]={constructor:!0,toString:!0},ie[l]={constructor:!0},oe(E,(function(e){for(var t in ie)if($.call(ie,t)){var n=ie[t];n[e]=$.call(n,e)}}));var re=ae.support={};function oe(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function se(e,t){for(var n=-1,i=e.length,a=-1,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[++a]=o)}return r}function ce(e,t){for(var n=-1,i=e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}function ue(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function le(e,t,n){var i,a,r,o,s,c=typeof e;return"function"==c?void 0===t?e:Ae(e,t,n):null==e?nt:"object"==c?ye(e):void 0===t?at(e):(a=t,r=qe(i=e),o=Oe(i)&&De(a),s=i+"",i=Re(i),function(e){if(null==e)return!1;var t=s;if(e=Ue(e),(r||!o)&&!(t in e)){if(null==(e=1==i.length?e:we(e,function(e,t,n){var i=-1,a=e.length;(t=null==t?0:+t||0)<0&&(t=-t>a?0:a+t),(n=void 0===n||n>a?a:+n||0)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(a);++i<a;)r[i]=e[i+t];return r}(i,0,-1))))return!1;t=Ne(i),e=Ue(e)}return e[t]===a?void 0!==a||t in e:ve(a,e[t],void 0,!0)})}function de(e,t,n,a,s,k,A){var S;if(n&&(S=s?n(e,a,s):n(e)),void 0!==S)return S;if(!Ge(e))return e;var x=qe(e);if(x){if(S=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,S)}else{var C=J.call(e),T=C==c;if(C!=l&&C!=i&&(!T||s))return j[C]?function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return Se(e);case r:case o:return new i(+e);case g:case h:case m:case f:case _:case w:case v:case b:case y:i instanceof i&&(i=ne[t]);var a=e.buffer;return new i(n?Se(a):a,e.byteOffset,e.length);case u:case p:return new i(e);case d:var s=new i(e.source,I.exec(e));s.lastIndex=e.lastIndex}return s}(e,C,t):s?e:{};if(V(e))return s?e:{};if(S=function(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}(T?{}:e),!t)return function(e,t){return null==t?e:function(e,t,n){n||(n={});for(var i=-1,a=t.length;++i<a;){var r=t[i];n[r]=e[r]}return n}(t,Ye(t),e)}(S,e)}k||(k=[]),A||(A=[]);for(var E=k.length;E--;)if(k[E]==e)return A[E];return k.push(e),A.push(S),(x?oe:_e)(e,(function(i,a){S[a]=de(i,t,n,a,e,k,A)})),S}!function(e){var t=function(){this.x=1},n={0:1,length:1},i=[];for(var a in t.prototype={valueOf:1,y:1},new t)i.push(a);re.enumErrorProps=Q.call(B,"message")||Q.call(B,"name"),re.enumPrototypes=Q.call(t,"prototype"),re.nonEnumShadows=!/valueOf/.test(i),re.spliceObjects=(X.call(n,0,1),!n[0]),re.unindexedChars="x"[0]+Object("x")[0]!="xx"}();var pe,ge,he=(pe=_e,function(e,t){var n=e?Te(e):0;if(!Pe(n))return pe(e,t);for(var i=ge?n:-1,a=Ue(e);(ge?i--:++i<n)&&!1!==t(a[i],i,a););return e});function me(e,t){var n=[];return he(e,(function(e,i,a){t(e,i,a)&&n.push(e)})),n}var fe=function(e){return function(t,n,i){for(var a=Ue(t),r=i(t),o=r.length,s=e?o:-1;e?s--:++s<o;){var c=r[s];if(!1===n(a[c],c,a))break}return t}}();function _e(e,t){return fe(e,t,Ye)}function we(e,t,n){if(null!=e){e=Ue(e),void 0!==n&&n in e&&(t=[n]);for(var i=0,a=t.length;null!=e&&i<a;)e=Ue(e)[t[i++]];return i&&i==a?e:void 0}}function ve(e,t,n,c,g,h){return e===t||(null==e||null==t||!Ge(e)&&!z(t)?e!=e&&t!=t:function(e,t,n,c,g,h,m){var f=qe(e),_=qe(t),w=a,v=a;f||((w=J.call(e))==i?w=l:w!=l&&(f=Ke(e))),_||((v=J.call(t))==i?v=l:v!=l&&(_=Ke(t)));var b=w==l&&!V(e),y=v==l&&!V(t),k=w==v;if(k&&!f&&!b)return function(e,t,n){switch(n){case r:case o:return+e==+t;case s:return e.name==t.name&&e.message==t.message;case u:return e!=+e?t!=+t:e==+t;case d:case p:return e==t+""}return!1}(e,t,w);if(!g){var A=b&&$.call(e,"__wrapped__"),S=y&&$.call(t,"__wrapped__");if(A||S)return n(A?e.value():e,S?t.value():t,c,g,h,m)}if(!k)return!1;h||(h=[]),m||(m=[]);for(var x=h.length;x--;)if(h[x]==e)return m[x]==t;h.push(e),m.push(t);var I=(f?xe:Ie)(e,t,n,c,g,h,m);return h.pop(),m.pop(),I}(e,t,ve,n,c,g,h))}function be(e,t){var n=-1,i=Le(e)?Array(e.length):[];return he(e,(function(e,a,r){i[++n]=t(e,a,r)})),i}function ye(e){var t=function(e){for(var t=et(e),n=t.length;n--;)t[n][2]=De(t[n][1]);return t}(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null!=e&&(e=Ue(e))[n]===i&&(void 0!==i||n in e)}}return function(e){return function(e,t,n){var i=t.length,a=i,r=!n;if(null==e)return!a;for(e=Ue(e);i--;){var o=t[i];if(r&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var s=(o=t[i])[0],c=e[s],u=o[1];if(r&&o[2]){if(void 0===c&&!(s in e))return!1}else{var l=n?n(c,u,s):void 0;if(!(void 0===l?ve(u,c,n,!0):l))return!1}}return!0}(e,t)}}function ke(e){return function(t){return null==t?void 0:Ue(t)[e]}}function Ae(e,t,n){if("function"!=typeof e)return nt;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)};case 5:return function(n,i,a,r,o){return e.call(t,n,i,a,r,o)}}return function(){return e.apply(t,arguments)}}function Se(e){var t=new Y(e.byteLength);return new Z(t).set(new Z(e)),t}function xe(e,t,n,i,a,r,o){var s=-1,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;for(;++s<c;){var l=e[s],d=t[s],p=i?i(a?d:l,a?l:d,s):void 0;if(void 0!==p){if(p)continue;return!1}if(a){if(!ue(t,(function(e){return l===e||n(l,e,i,a,r,o)})))return!1}else if(l!==d&&!n(l,d,i,a,r,o))return!1}return!0}function Ie(e,t,n,i,a,r,o){var s=Ye(e),c=s.length;if(c!=Ye(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:$.call(t,l)))return!1}for(var d=a;++u<c;){var p=e[l=s[u]],g=t[l],h=i?i(a?g:p,a?p:g,l):void 0;if(!(void 0===h?n(p,g,i,a,r,o):h))return!1;d||(d="constructor"==l)}if(!d){var m=e.constructor,f=t.constructor;if(m!=f&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof f&&f instanceof f))return!1}return!0}function Ce(e,t,n){var i=ae.callback||tt;return i=i===tt?le:i,n?i(e,t,n):i}var Te=ke("length");function Ee(e,t){var n=null==e?void 0:e[t];return $e(n)?n:void 0}function Le(e){return null!=e&&Pe(Te(e))}function je(e,t){return t=null==t?9007199254740991:t,(e="number"==typeof e||T.test(e)?+e:-1)>-1&&e%1==0&&e<t}function Oe(e,t){var n=typeof e;return!!("string"==n&&A.test(e)||"number"==n)||!qe(e)&&(!k.test(e)||null!=t&&e in Ue(t))}function Pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function De(e){return e==e&&!Ge(e)}function Me(e){for(var t=Qe(e),n=t.length,i=n&&e.length,a=!!i&&Pe(i)&&(qe(e)||Be(e)||Je(e)),r=-1,o=[];++r<n;){var s=t[r];(a&&je(s,i)||$.call(e,s))&&o.push(s)}return o}function Ue(e){if(ae.support.unindexedChars&&Je(e)){for(var t=-1,n=e.length,i=Object(e);++t<n;)i[t]=e.charAt(t);return i}return Ge(e)?e:Object(e)}function Re(e){if(qe(e))return e;var t=[];return function(e){return null==e?"":e+""}(e).replace(S,(function(e,n,i,a){t.push(i?a.replace(x,"$1"):n||e)})),t}function Ne(e){var t=e?e.length:0;return t?e[t-1]:void 0}function Fe(e,t,n){return(qe(e)?se:me)(e,t=Ce(t,n,3))}var Ve=function(e,t){return function(n,i,a){if(i=Ce(i,a,3),qe(n)){var r=function(e,t,n){for(var i=e.length,a=n?i:-1;n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(n,i,t);return r>-1?n[r]:void 0}return function(e,t,n,i){var a;return n(e,(function(e,n,r){if(t(e,n,r))return a=i?n:e,!1})),a}(n,i,e)}}(he),ze=function(e,t){return function(n,i,a){return"function"==typeof i&&void 0===a&&qe(n)?e(n,i):t(n,Ae(i,a,3))}}(oe,he);function He(e,t,n){return(qe(e)?ce:be)(e,t=Ce(t,n,3))}function Be(e){return z(e)&&Le(e)&&$.call(e,"callee")&&!Q.call(e,"callee")}var qe=ee||function(e){return z(e)&&Pe(e.length)&&J.call(e)==a};function We(e){return Ge(e)&&J.call(e)==c}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $e(e){return null!=e&&(We(e)?K.test(G.call(e)):z(e)&&(V(e)?K:C).test(e))}function Je(e){return"string"==typeof e||z(e)&&J.call(e)==p}function Ke(e){return z(e)&&Pe(e.length)&&!!L[J.call(e)]}var Ye=te?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?ae.support.enumPrototypes:Le(e))?Me(e):Ge(e)?te(e):[]}:Me;function Qe(e){if(null==e)return[];Ge(e)||(e=Object(e));var t=e.length,n=ae.support;t=t&&Pe(t)&&(qe(e)||Be(e)||Je(e))&&t||0;for(var i=e.constructor,a=-1,r=We(i)&&i.prototype||q,o=r===e,c=Array(t),u=t>0,d=n.enumErrorProps&&(e===B||e instanceof Error),g=n.enumPrototypes&&We(e);++a<t;)c[a]=a+"";for(var h in e)g&&"prototype"==h||d&&("message"==h||"name"==h)||u&&je(h,t)||"constructor"==h&&(o||!$.call(e,h))||c.push(h);if(n.nonEnumShadows&&e!==q){var m=e===W?p:e===B?s:J.call(e),f=ie[m]||ie[l];for(m==l&&(r=q),t=E.length;t--;){var _=f[h=E[t]];o&&_||(_?!$.call(e,h):e[h]===r[h])||c.push(h)}}return c}var Xe,Ze=function(e,t,n){var i={};return t=Ce(t,n,3),_e(e,(function(e,n,a){var r=t(e,n,a);e=Xe?e:r,i[n=Xe?r:n]=e})),i};function et(e){e=Ue(e);for(var t=-1,n=Ye(e),i=n.length,a=Array(i);++t<i;){var r=n[t];a[t]=[r,e[r]]}return a}function tt(e,t,n){return n&&function(e,t,n){if(!Ge(n))return!1;var i=typeof t;if("number"==i?Le(n)&&je(t,n.length):"string"==i&&t in n){var a=n[t];return e==e?e===a:a!=a}return!1}(e,t,n)&&(t=void 0),z(e)?it(e):le(e,t)}function nt(e){return e}function it(e){return ye(de(e,!0))}function at(e){return Oe(e)?ke(e):function(e){var t=e+"";return e=Re(e),function(n){return we(n,e,t)}}(e)}ae.callback=tt,ae.filter=Fe,ae.forEach=ze,ae.keys=Ye,ae.keysIn=Qe,ae.map=He,ae.mapValues=Ze,ae.matches=it,ae.pairs=et,ae.property=at,ae.collect=He,ae.each=ze,ae.iteratee=tt,ae.select=Fe,ae.find=Ve,ae.identity=nt,ae.isArguments=Be,ae.isArray=qe,ae.isFunction=We,ae.isNative=$e,ae.isObject=Ge,ae.isString=Je,ae.isTypedArray=Ke,ae.isUndefined=function(e){return void 0===e},ae.last=Ne,ae.detect=Ve,ae.VERSION="3.10.1",P&&D&&N&&((D.exports=ae)._=ae)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){var i=e("./lib_managed/lodash"),a=e("./lib/helpers");(void 0!==n?n:this).getLinkTrackingManager=function(e,t,n){var r,o,s,c,u,l;function d(t,r){for(var o,c,u,l,d,p;null!==(o=t.parentNode)&&!i.isUndefined(o)&&"A"!==(c=t.tagName.toUpperCase())&&"AREA"!==c;)t=o;if(!i.isUndefined(t.href)){var g=t.hostname||a.getHostName(t.href),h=g.toLowerCase(),m=t.href.replace(g,h);new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i").test(m)||(u=t.id,l=a.getCssClasses(t),d=t.target,p=s?t.innerHTML:null,m=unescape(m),e.trackLinkClick(m,u,l,d,p,n(r)))}}function p(e){return function(t){var n,i;n=(t=t||window.event).which||t.button,i=t.target||t.srcElement,"click"===t.type?i&&d(i,e):"mousedown"===t.type?1!==n&&2!==n||!i?u=l=null:(u=n,l=i):"mouseup"===t.type&&(n===u&&i===l&&d(i,e),u=l=null)}}return{configureLinkClickTracking:function(e,t,n,i){s=n,c=i,o=t,r=a.getFilter(e,!0)},addClickListeners:function(){var e,n,i=document.links;for(e=0;e<i.length;e++)r(i[e])&&!i[e][t]&&(n=i[e],o?(a.addEventListener(n,"mouseup",p(c),!1),a.addEventListener(n,"mousedown",p(c),!1)):a.addEventListener(n,"click",p(c),!1),i[e][t]=!0)}}}},{"./lib/helpers":18,"./lib_managed/lodash":20}],22:[function(e,t,n){!function(){var t=e("./lib_managed/lodash"),i=e("./lib/detectors").localStorageAccessible,a=e("./lib/helpers");(void 0!==n?n:this).OutQueueManager=function(e,n,r,o,s,c,u){var l,d,p,g=!1,h=(s=s&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)?"/com.snowplowanalytics.snowplow/tp2":"/i";if(c=i()&&o&&s&&c||1,l=["snowplowOutQueue",e,n,s?"post2":"get"].join("_"),o)try{p=JSON.parse(localStorage.getItem(l))}catch(e){}function m(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<=127?t+=1:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,n++):t+=i<65535?3:4}return t}function f(){for(;p.length&&"string"!=typeof p[0]&&"object"!=typeof p[0];)p.shift();if(p.length<1)g=!1;else{if(!t.isString(d))throw"No Snowplow collector configured, cannot track";g=!0;var e=p[0];if(s){var n=_(d),i=setTimeout((function(){n.abort(),g=!1}),5e3),r=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=u);)t+=1;return t}(p);n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<400){for(var e=0;e<r;e++)p.shift();o&&a.attemptWriteLocalStorage(l,JSON.stringify(p)),clearTimeout(i),f()}else 4===n.readyState&&n.status>=400&&(clearTimeout(i),g=!1)};var c=t.map(p.slice(0,r),(function(e){return e.evt}));c.length>0&&n.send(w(v(c)))}else{var h=new Image(1,1);h.onload=function(){p.shift(),o&&a.attemptWriteLocalStorage(l,JSON.stringify(p)),f()},h.onerror=function(){g=!1},h.src=d+e.replace("?","?stm="+(new Date).getTime()+"&")}}}function _(e){var t=new XMLHttpRequest;return t.open("POST",e,!0),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t}function w(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})}function v(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}return t.isArray(p)||(p=[]),r.outQueues.push(p),s&&c>1&&r.bufferFlushers.push((function(){g||f()})),{enqueueRequest:function(e,n){if(d=n+h,s){var i=function(e){var n=t.mapValues(e,(function(e){return e.toString()}));return{evt:n,bytes:m(JSON.stringify(n))}}(e);if(i.bytes>=u)return a.warn("Event of size "+i.bytes+" is too long - the maximum size is "+u),void _(d).send(w(v([i.evt])));p.push(i)}else p.push(function(e){var t="?",n={co:!0,cx:!0},i=!0;for(var a in e)e.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(i?i=!1:t+="&",t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a]));for(var r in n)e.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(t+="&"+r+"="+encodeURIComponent(e[r]));return t}(e));var r=!1;o&&(r=a.attemptWriteLocalStorage(l,JSON.stringify(p))),g||r&&!(p.length>=c)||f()},executeQueue:f}}}()},{"./lib/detectors":17,"./lib/helpers":18,"./lib_managed/lodash":20}],23:[function(e,t,n){!function(){e("uuid");var t=e("./lib_managed/lodash"),i=e("./lib/helpers"),a=e("./in_queue"),r=e("./tracker");(void 0!==n?n:this).Snowplow=function(e,n){var o,s=document,c=window,u={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:null};function l(){var e;if(!u.hasLoaded)for(u.hasLoaded=!0,e=0;e<u.registeredOnLoadHandlers.length;e++)u.registeredOnLoadHandlers[e]();return!0}return c.Snowplow={getTrackerCf:function(e){var t=new r.Tracker(n,"","js-2.9.0",u,{});return t.setCollectorCf(e),t},getTrackerUrl:function(e){var t=new r.Tracker(n,"","js-2.9.0",u,{});return t.setCollectorUrl(e),t},getAsyncTracker:function(){return new r.Tracker(n,"","js-2.9.0",u,{})}},i.addEventListener(c,"beforeunload",(function(){var e;if(t.forEach(u.bufferFlushers,(function(e){e()})),u.expireDateTime)do{if(e=new Date,0===t.filter(u.outQueues,(function(e){return e.length>0})).length)break}while(e.getTime()<u.expireDateTime)}),!1),s.addEventListener?i.addEventListener(s,"DOMContentLoaded",(function e(){s.removeEventListener("DOMContentLoaded",e,!1),l()})):s.attachEvent&&(s.attachEvent("onreadystatechange",(function e(){"complete"===s.readyState&&(s.detachEvent("onreadystatechange",e),l())})),s.documentElement.doScroll&&c===c.top&&function e(){if(!u.hasLoaded){try{s.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}l()}}()),new RegExp("WebKit").test(navigator.userAgent)&&(o=setInterval((function(){(u.hasLoaded||/loaded|complete/.test(s.readyState))&&(clearInterval(o),l())}),10)),i.addEventListener(c,"load",l,!1),new a.InQueueManager(r.Tracker,"js-2.9.0",u,e,n)}}()},{"./in_queue":15,"./lib/helpers":18,"./lib_managed/lodash":20,"./tracker":24,uuid:12}],24:[function(e,t,n){!function(){var t=e("./lib_managed/lodash"),i=e("./lib/helpers"),a=e("./lib/proxies"),r=e("browser-cookie-lite"),o=e("./lib/detectors"),s=e("sha1"),c=e("./links"),u=e("./forms"),l=e("./errors"),d=e("./out_queue"),p=e("snowplow-tracker-core").trackerCore,g=e("uuid");(void 0!==n?n:this).Tracker=function(e,n,h,m,f){var _,w,v,b,y,k,A,S,x,I,C,T,E,L,j,O,P,D,M,U,R,N,F=p(!0,(function(e){var t,n,a,s;!function(e){var t=Math.round((new Date).getTime()/1e3),n=Ne("id"),a=Ne("ses"),s=Fe("ses"),c=Ke(),u=c[0],l=c[1],d=c[2],p=c[3],h=c[4],m=c[5],f=c[6],_=!!r.cookie(x);!ne&&!_||"none"==de?("0"===u?(D=f,s||"none"==de||(p++,m=h,D=g.v4()),be=p):(new Date).getTime()-_e>1e3*ae&&(D=g.v4(),be++),e.add("vp",o.detectViewport()),e.add("ds",o.detectDocumentSize()),e.add("vid",be),e.add("sid",D),e.add("duid",l),e.add("fp",he),e.add("uid",M),Pe(),e.add("refr",Ue(w||G)),e.add("url",Ue(b||W)),"none"!=de&&($e(l,d,be,t,m,D),Ge()),_e=(new Date).getTime()):"localStorage"==de?(i.attemptWriteLocalStorage(n,""),i.attemptWriteLocalStorage(sesName,"")):"cookie"!=de&&"cookieAndLocalStorage"!=de||(r.cookie(n,"",-1,ee,Z),r.cookie(a,"",-1,ee,Z))}(e),t=e,n=Y,a=new Date,s=!!r.cookie(x),ne||s||(xe.enqueueRequest(t.build(),v),m.expireDateTime=a.getTime()+n)})),V=document,z=window,H=navigator,B=a.fixupUrl(V.domain,z.location.href,i.getReferrer()),q=i.fixupDomain(B[0]),W=B[1],G=B[2],$=(f=f||{}).hasOwnProperty("platform")?f.platform:"web",J=f.hasOwnProperty("appId")?f.appId:"",K=V.title,Y=f.hasOwnProperty("pageUnloadTimer")?f.pageUnloadTimer:500,Q=!1,X=f.hasOwnProperty("cookieName")?f.cookieName:"_sp_",Z=f.hasOwnProperty("cookieDomain")?f.cookieDomain:null,ee="/",te=H.doNotTrack||H.msDoNotTrack||z.doNotTrack,ne=!!f.hasOwnProperty("respectDoNotTrack")&&f.respectDoNotTrack&&("yes"===te||"1"===te),ie=f.hasOwnProperty("cookieLifetime")?f.cookieLifetime:63072e3,ae=f.hasOwnProperty("sessionCookieTimeout")?f.sessionCookieTimeout:1800,re=f.hasOwnProperty("userFingerprintSeed")?f.userFingerprintSeed:123412414,oe=V.characterSet||V.charset,se=!!f.hasOwnProperty("forceSecureTracker")&&!0===f.forceSecureTracker,ce=!(se||!f.hasOwnProperty("forceUnsecureTracker"))&&!0===f.forceUnsecureTracker,ue=!f.hasOwnProperty("useLocalStorage")||(i.warn("argmap.useLocalStorage is deprecated. Use argmap.stateStorageStrategy instead."),f.useLocalStorage),le=!f.hasOwnProperty("useCookies")||(i.warn("argmap.useCookies is deprecated. Use argmap.stateStorageStrategy instead."),f.useCookies),de=f.hasOwnProperty("stateStorageStrategy")?f.stateStorageStrategy:le||ue?le&&ue?"cookieAndLocalStorage":le?"cookie":"localStorage":"none",pe=H.userLanguage||H.language,ge=o.detectBrowserFeatures("cookie"==de||"cookieAndLocalStorage"==de,Ne("testcookie")),he=!1===f.userFingerprint?"":o.detectSignature(re),me=e+"_"+n,fe=!1,_e=(new Date).getTime(),we=s,ve=f.hasOwnProperty("extraInfo")&&f.extraInfo.hasOwnProperty("domainId")&&f.extraInfo.domainId?f.extraInfo.domainId:null,be=1,ye={transaction:{},items:[]},ke=c.getLinkTrackingManager(F,me,Qe),Ae=u.getFormTrackingManager(F,me,Qe),Se=l.errorManager(F),xe=new d.OutQueueManager(e,n,m,"localStorage"==de||"cookieAndLocalStorage"==de,f.post,f.bufferSize,f.maxPostBytes||4e4),Ie=!1,Ce=f.contexts||{},Te=[],Ee=[],Le=!1,je=!1;for(var Oe in f.hasOwnProperty("discoverRootDomain")&&f.discoverRootDomain&&(Z=i.findRootDomain()),Ce.gaCookies&&Te.push((U={},t.forEach(["__utma","__utmb","__utmc","__utmv","__utmz","_ga"],(function(e){var t=r.cookie(e);t&&(U[e]=t)})),{schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:U})),Ce.geolocation&&tt(),f.hasOwnProperty("extraInfo")&&f.extraInfo.hasOwnProperty("extraContexts")&&Te.push.apply(Te,f.extraInfo.extraContexts),F.setBase64Encoding(!f.hasOwnProperty("encodeBase64")||f.encodeBase64),F.setTrackerVersion(h),F.setTrackerNamespace(n),F.setAppId(J),F.setPlatform($),F.setTimezone(o.detectTimezone()),F.addPayloadPair("lang",pe),F.addPayloadPair("cs",oe),f.hasOwnProperty("extraInfo")&&f.extraInfo.hasOwnProperty("nuId")&&f.extraInfo.nuId&&F.addPayloadPair("nuid",f.extraInfo.nuId),ge)Object.prototype.hasOwnProperty.call(ge,Oe)&&("res"===Oe||"cd"===Oe||"cookie"===Oe?F.addPayloadPair(Oe,ge[Oe]):F.addPayloadPair("f_"+Oe,ge[Oe]));function Pe(){(B=a.fixupUrl(V.domain,z.location.href,i.getReferrer()))[1]!==W&&(G=i.getReferrer(W)),q=i.fixupDomain(B[0]),W=B[1]}function De(){var e=(new Date).getTime();this.href&&(this.href=i.decorateQuerystring(this.href,"_sp",P+"."+e))}function Me(e){for(var t=0;t<V.links.length;t++){var n=V.links[t];!n.spDecorationEnabled&&e(n)&&(i.addEventListener(n,"click",De,!0),i.addEventListener(n,"mousedown",De,!0),n.spDecorationEnabled=!0)}}function Ue(e){var t;return S?(t=new RegExp("#.*"),e.replace(t,"")):e}function Re(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function Ne(e){return X+e+"."+O}function Fe(e){var t=Ne(e);return"localStorage"==de?i.attemptGetLocalStorage(t):"cookie"==de||"cookieAndLocalStorage"==de?r.cookie(t):void 0}function Ve(){Pe(),O=we((Z||q)+(ee||"/")).slice(0,4)}function ze(){var e=new Date;C=e.getTime()}function He(){!function(){var e=Be(),t=e[0];t<T?T=t:t>E&&(E=t);var n=e[1];n<L?L=n:n>j&&(j=n)}(),ze()}function Be(){var e=V.compatMode&&"BackCompat"!==V.compatMode?V.documentElement:V.body;return[e.scrollLeft||z.pageXOffset,e.scrollTop||z.pageYOffset]}function qe(){var e=Be(),t=e[0];T=t,E=t;var n=e[1];L=n,j=n}function We(e){var t=Math.round(e);if(!isNaN(t))return t}function Ge(){Je(Ne("ses"),"*",ae)}function $e(e,t,n,i,a,r){Je(Ne("id"),e+"."+t+"."+n+"."+i+"."+a+"."+r,ie)}function Je(e,t,n){"localStorage"==de?i.attemptWriteLocalStorage(e,t):"cookie"!=de&&"cookieAndLocalStorage"!=de||r.cookie(e,t,n,ee,Z)}function Ke(){if("none"==de)return[];var e,t=new Date,n=Math.round(t.getTime()/1e3),i=Fe("id");return i?(e=i.split(".")).unshift("0"):e=["1",P,n,0,n,""],e[6]||(e[6]=g.v4()),e}function Ye(e){return se?"https://"+e:ce?"http://"+e:("https:"===V.location.protocol?"https":"http")+"://"+e}function Qe(e){var n,a,r=Te.concat(e||[]);if(Ce.webPage&&r.push({schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:Xe()}}),Ce.performanceTiming){var o=function(){var e=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint","chromeFirstPaint","requestEnd","proxyStart","proxyEnd"],t=z.performance||z.mozPerformance||z.msPerformance||z.webkitPerformance;if(t){var n={};for(var a in t.timing)i.isValueInArray(a,e)&&(n[a]=t.timing[a]);return delete n.requestEnd,z.chrome&&z.chrome.loadTimes&&"number"==typeof z.chrome.loadTimes().firstPaintTime&&(n.chromeFirstPaint=Math.round(1e3*z.chrome.loadTimes().firstPaintTime)),{schema:"iglu:org.w3/PerformanceTiming/jsonschema/1-0-0",data:n}}}();o&&r.push(o)}if(z.optimizely){if(Ce.optimizelySummary){var s=t.map((n=Ze("state"),a=Ze("experiments"),t.map(n&&a&&n.activeExperiments,(function(e){var t=a[e];return{activeExperimentId:e.toString(),variation:n.variationIdsMap[e][0].toString(),conditional:t&&t.conditional,manual:t&&t.manual,name:t&&t.name}}))),(function(e){return{schema:"iglu:com.optimizely.snowplow/optimizely_summary/jsonschema/1-0-0",data:e}}));t.each(s,(function(e){r.push(e)}))}if(Ce.optimizelyXSummary&&(s=function(){return t.map((e=et("state"),n=e.getActiveExperimentIds(),et("data","experiments"),i=et("visitor"),t.map(n,(function(t){return variation=e.getVariationMap()[t],variationName=variation.name,variationId=variation.id,visitorId=i.visitorId,{experimentId:parseInt(t),variationName:variationName,variation:parseInt(variationId),visitorId:visitorId}}))),(function(e){return{schema:"iglu:com.optimizely.optimizelyx/summary/jsonschema/1-0-0",data:e}}));var e,n,i}(),t.each(s,(function(e){r.push(e)}))),Ce.optimizelyExperiments)for(var c=function(){var e=Ze("experiments");if(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i={};i.id=n;var a=e[n];i.code=a.code,i.manual=a.manual,i.conditional=a.conditional,i.name=a.name,i.variationIds=a.variation_ids,t.push({schema:"iglu:com.optimizely/experiment/jsonschema/1-0-0",data:i})}return t}return[]}(),u=0;u<c.length;u++)r.push(c[u]);if(Ce.optimizelyStates){var l=function(){var e=[],t=Ze("experiments");if(t)for(var n in t)t.hasOwnProperty(n)&&e.push(n);var a=Ze("state");if(a){for(var r=[],o=a.activeExperiments||[],s=0;s<e.length;s++){var c=e[s],u={};u.experimentId=c,u.isActive=i.isValueInArray(e[s],o);var l=a.variationMap||{};u.variationIndex=l[c];var d=a.variationNamesMap||{};u.variationName=d[c];var p=a.variationIdsMap||{};p[c]&&1===p[c].length&&(u.variationId=p[c][0]),r.push({schema:"iglu:com.optimizely/state/jsonschema/1-0-0",data:u})}return r}return[]}();for(u=0;u<l.length;u++)r.push(l[u])}if(Ce.optimizelyVariations){var d=function(){var e=Ze("variations");if(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i={};i.id=n;var a=e[n];i.name=a.name,i.code=a.code,t.push({schema:"iglu:com.optimizely/variation/jsonschema/1-0-0",data:i})}return t}return[]}();for(u=0;u<d.length;u++)r.push(d[u])}if(Ce.optimizelyVisitor){var p=function(){var e=Ze("visitor");if(e){var t={};t.browser=e.browser,t.browserVersion=e.browserVersion,t.device=e.device,t.deviceType=e.deviceType,t.ip=e.ip;var n=e.platform||{};t.platformId=n.id,t.platformVersion=n.version;var i=e.location||{};return t.locationCity=i.city,t.locationRegion=i.region,t.locationCountry=i.country,t.mobile=e.mobile,t.mobileId=e.mobileId,t.referrer=e.referrer,t.os=e.os,{schema:"iglu:com.optimizely/visitor/jsonschema/1-0-0",data:t}}}();p&&r.push(p)}if(Ce.optimizelyAudiences){var g=function(){var e=Ze("visitor","audiences");if(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i={id:n,isMember:e[n]};t.push({schema:"iglu:com.optimizely/visitor_audience/jsonschema/1-0-0",data:i})}return t}return[]}();for(u=0;u<g.length;u++)r.push(g[u])}if(Ce.optimizelyDimensions){var h=function(){var e=Ze("visitor","dimensions");if(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i={id:n,value:e[n]};t.push({schema:"iglu:com.optimizely/visitor_dimension/jsonschema/1-0-0",data:i})}return t}return[]}();for(u=0;u<h.length;u++)r.push(h[u])}}if(Ce.augurIdentityLite){var m=function(){var e=z.augur;if(e){var t={consumer:{},device:{}},n=e.consumer||{};t.consumer.UUID=n.UID;var i=e.device||{};t.device.ID=i.ID,t.device.isBot=i.isBot,t.device.isProxied=i.isProxied,t.device.isTor=i.isTor;var a=i.fingerprint||{};return t.device.isIncognito=a.browserHasIncognitoEnabled,{schema:"iglu:io.augur.snowplow/identity_lite/jsonschema/1-0-0",data:t}}}();m&&r.push(m)}if(Ce.parrable){var f=function(){var e=window._hawk;if(e){var t={encryptedId:null,optout:null};t.encryptedId=e.browserid;var n=new RegExp("(?:^|;)\\s?"+"_parrable_hawk_optout".replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")+"=(.*?)(?:;|$)","i"),i=document.cookie.match(n);return t.optout=i&&decodeURIComponent(i[1])?i&&decodeURIComponent(i[1]):"false",{schema:"iglu:com.parrable/encrypted_payload/jsonschema/1-0-0",data:t}}}();f&&r.push(f)}return r}function Xe(){return null==m.pageViewId&&(m.pageViewId=g.v4()),m.pageViewId}function Ze(e,t){var n;return z.optimizely&&z.optimizely.data&&(n=z.optimizely.data[e],void 0!==t&&void 0!==n&&(n=n[t])),n}function et(e,t){var n;return z.optimizely&&(n=z.optimizely.get(e),void 0!==t&&void 0!==n&&(n=n[t])),n}function tt(){!Ie&&H.geolocation&&H.geolocation.getCurrentPosition&&(Ie=!0,H.geolocation.getCurrentPosition((function(e){var t=e.coords,n={schema:"iglu:com.snowplowanalytics.snowplow/geolocation_context/jsonschema/1-1-0",data:{latitude:t.latitude,longitude:t.longitude,latitudeLongitudeAccuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,bearing:t.heading,speed:t.speed,timestamp:Math.round(e.timestamp)}};Te.push(n)})))}function nt(e,t){return(e||[]).concat(t?t():[])}function it(e,t,n,a){Pe(),je&&(Le&&null!=m.pageViewId||(m.pageViewId=g.v4())),je=!0,K=V.title,y=e;var r=i.fixupTitle(y||K);F.trackPageView(Ue(b||W),r,Ue(w||G),Qe(nt(t,n)),a);var o=new Date;Q&&!fe&&(fe=!0,qe(),i.addEventListener(V,"click",ze),i.addEventListener(V,"mouseup",ze),i.addEventListener(V,"mousedown",ze),i.addEventListener(V,"mousemove",ze),i.addEventListener(V,"mousewheel",ze),i.addEventListener(z,"DOMMouseScroll",ze),i.addEventListener(z,"scroll",He),i.addEventListener(V,"keypress",ze),i.addEventListener(V,"keydown",ze),i.addEventListener(V,"keyup",ze),i.addEventListener(z,"resize",ze),i.addEventListener(z,"focus",ze),i.addEventListener(z,"blur",ze),C=o.getTime(),clearInterval(_),_=setInterval((function(){var e=new Date;C+A>e.getTime()&&k<e.getTime()&&function(e){Pe();var t=V.title;t!==K&&(K=t,y=null),F.trackPagePing(Ue(b||W),i.fixupTitle(y||K),Ue(w||G),We(T),We(E),We(L),We(j),Qe(e)),qe()}(nt(t,n))}),A))}function at(e,t,n,i,a,r,o,s,c){F.trackEcommerceTransactionItem(e,t,n,i,a,r,o,Qe(s),c)}function rt(e,t){return""!==e?e+t.charAt(0).toUpperCase()+t.slice(1):t}function ot(e){var t,n,a,r=["","webkit","ms","moz"];if(!I)for(n=0;n<r.length;n++){if(V[rt(a=r[n],"hidden")]){"prerender"===V[rt(a,"visibilityState")]&&(t=!0);break}if(!1===V[rt(a,"hidden")])break}t?i.addEventListener(V,a+"visibilitychange",(function t(){V.removeEventListener(a+"visibilitychange",t,!1),e()})):e()}return Ve(),R="none"!=de&&!!Fe("ses"),(N=Ke())[1]?(P=N[1],ve&&ve!==P&&(P=ve,N[1]=ve)):(P=ve||g.v4(),N[1]=P),D=N[6],R||(N[3]++,D=g.v4(),N[6]=D,N[5]=N[4]),"none"!=de&&(Ge(),N[4]=Math.round((new Date).getTime()/1e3),N.shift(),$e.apply(null,N)),f.crossDomainLinker&&Me(f.crossDomainLinker),{getDomainSessionIndex:function(){return be},getPageViewId:function(){return Xe()},newSession:function(){var e=Math.round((new Date).getTime()/1e3),t=(Fe("ses"),Ke()),n=t[0],i=t[1],a=t[2],r=t[3],o=t[4],s=t[5],c=t[6];"0"===n?(D=c,"none"!=de&&(r++,s=o,D=g.v4()),be=r,Ge()):(D=g.v4(),be++),"none"!=de&&($e(i,a,be,e,s,D),Ge()),_e=(new Date).getTime()},getCookieName:function(e){return Ne(e)},getUserId:function(){return M},getDomainUserId:function(){return Ke()[1]},getDomainUserInfo:function(){return Ke()},getUserFingerprint:function(){return he},setAppId:function(e){i.warn('setAppId is deprecated. Instead add an "appId" field to the argmap argument of newTracker.'),F.setAppId(e)},setReferrerUrl:function(e){w=e},setCustomUrl:function(e){Pe(),b=function(e,t){var n;return Re(t)?t:"/"===t.slice(0,1)?Re(e)+"://"+i.getHostName(e)+t:((n=(e=Ue(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(W,e)},setDocumentTitle:function(e){K=V.title,y=e},discardHashTag:function(e){S=e},setCookieNamePrefix:function(e){i.warn('setCookieNamePrefix is deprecated. Instead add a "cookieName" field to the argmap argument of newTracker.'),X=e},setCookieDomain:function(e){i.warn('setCookieDomain is deprecated. Instead add a "cookieDomain" field to the argmap argument of newTracker.'),Z=i.fixupDomain(e),Ve()},setCookiePath:function(e){ee=e,Ve()},setVisitorCookieTimeout:function(e){ie=e},setSessionCookieTimeout:function(e){i.warn('setSessionCookieTimeout is deprecated. Instead add a "sessionCookieTimeout" field to the argmap argument of newTracker.'),ae=e},setUserFingerprintSeed:function(e){i.warn('setUserFingerprintSeed is deprecated. Instead add a "userFingerprintSeed" field to the argmap argument of newTracker.'),re=e,he=o.detectSignature(re)},enableUserFingerprint:function(e){i.warn('enableUserFingerprintSeed is deprecated. Instead add a "userFingerprint" field to the argmap argument of newTracker.'),e||(he="")},respectDoNotTrack:function(e){i.warn('This usage of respectDoNotTrack is deprecated. Instead add a "respectDoNotTrack" field to the argmap argument of newTracker.');var t=H.doNotTrack||H.msDoNotTrack;ne=e&&("yes"===t||"1"===t)},crossDomainLinker:function(e){Me(e)},addListener:function(e,t,n){addClickListener(e,t,n)},enableLinkClickTracking:function(e,t,n,i){m.hasLoaded?(ke.configureLinkClickTracking(e,t,n,i),ke.addClickListeners()):m.registeredOnLoadHandlers.push((function(){ke.configureLinkClickTracking(e,t,n,i),ke.addClickListeners()}))},refreshLinkClickTracking:function(){m.hasLoaded?ke.addClickListeners():m.registeredOnLoadHandlers.push((function(){ke.addClickListeners()}))},enableActivityTracking:function(e,t){e===parseInt(e,10)&&t===parseInt(t,10)?(Q=!0,k=(new Date).getTime()+1e3*e,A=1e3*t):i.warn("Activity tracking not enabled, please provide integer values for minimumVisitLength and heartBeatDelay.")},updatePageActivity:function(){ze()},enableFormTracking:function(e,t){m.hasLoaded?(Ae.configureFormTracking(e),Ae.addFormListeners(t)):m.registeredOnLoadHandlers.push((function(){Ae.configureFormTracking(e),Ae.addFormListeners(t)}))},killFrame:function(){z.location!==z.top.location&&(z.top.location=z.location)},redirectFile:function(e){"file:"===z.location.protocol&&(z.location=e)},setOptOutCookie:function(e){x=e},setCountPreRendered:function(e){I=e},setNUID:function(e){F.addPayloadPair("nuid",e)},setUserId:function(e){M=e},identifyUser:function(e){setUserId(e)},setUserIdFromLocation:function(e){Pe(),M=i.fromQuerystring(e,W)},setUserIdFromReferrer:function(e){Pe(),M=i.fromQuerystring(e,G)},setUserIdFromCookie:function(e){M=r.cookie(e)},setCollectorCf:function(e){v=function(e){return Ye(e+".cloudfront.net")}(e)},setCollectorUrl:function(e){v=Ye(e)},setPlatform:function(e){i.warn('setPlatform is deprecated. Instead add a "platform" field to the argmap argument of newTracker.'),F.setPlatform(e)},encodeBase64:function(e){i.warn('This usage of encodeBase64 is deprecated. Instead add an "encodeBase64" field to the argmap argument of newTracker.'),F.setBase64Encoding(e)},flushBuffer:function(){xe.executeQueue()},enableGeolocationContext:tt,trackPageView:function(e,t,n,i){ot((function(){it(e,t,n,i)}))},trackStructEvent:function(e,t,n,i,a,r,o){ot((function(){F.trackStructEvent(e,t,n,i,a,Qe(r),o)}))},trackSelfDescribingEvent:function(e,t,n){ot((function(){F.trackSelfDescribingEvent(e,Qe(t),n)}))},trackUnstructEvent:function(e,t,n){ot((function(){F.trackSelfDescribingEvent(e,Qe(t),n)}))},addTrans:function(e,t,n,i,a,r,o,s,c,u,l){ye.transaction={orderId:e,affiliation:t,total:n,tax:i,shipping:a,city:r,state:o,country:s,currency:c,context:u,tstamp:l}},addItem:function(e,t,n,i,a,r,o,s,c){ye.items.push({orderId:e,sku:t,name:n,category:i,price:a,quantity:r,currency:o,context:s,tstamp:c})},trackTrans:function(){ot((function(){var e,t,n,i,a,r,o,s,c,u,l;e=ye.transaction.orderId,t=ye.transaction.affiliation,n=ye.transaction.total,i=ye.transaction.tax,a=ye.transaction.shipping,r=ye.transaction.city,o=ye.transaction.state,s=ye.transaction.country,c=ye.transaction.currency,u=ye.transaction.context,l=ye.transaction.tstamp,F.trackEcommerceTransaction(e,t,n,i,a,r,o,s,c,Qe(u),l);for(var d=0;d<ye.items.length;d++){var p=ye.items[d];at(p.orderId,p.sku,p.name,p.category,p.price,p.quantity,p.currency,p.context,p.tstamp)}ye={transaction:{},items:[]}}))},trackLinkClick:function(e,t,n,i,a,r,o){ot((function(){F.trackLinkClick(e,t,n,i,a,Qe(r),o)}))},trackAdImpression:function(e,t,n,i,a,r,o,s,c,u){ot((function(){F.trackAdImpression(e,t,n,i,a,r,o,s,Qe(c),u)}))},trackAdClick:function(e,t,n,i,a,r,o,s,c,u,l){ot((function(){F.trackAdClick(e,t,n,i,a,r,o,s,c,Qe(u),l)}))},trackAdConversion:function(e,t,n,i,a,r,o,s,c,u,l){ot((function(){F.trackAdConversion(e,t,n,i,a,r,o,s,c,Qe(u),l)}))},trackSocialInteraction:function(e,t,n,i,a){ot((function(){F.trackSocialInteraction(e,t,n,Qe(i),a)}))},trackAddToCart:function(e,t,n,i,a,r,o,s){ot((function(){F.trackAddToCart(e,t,n,i,a,r,Qe(o),s)}))},trackRemoveFromCart:function(e,t,n,i,a,r,o,s){ot((function(){F.trackRemoveFromCart(e,t,n,i,a,r,Qe(o),s)}))},trackSiteSearch:function(e,t,n,i,a,r){ot((function(){F.trackSiteSearch(e,t,n,i,Qe(a),r)}))},trackTiming:function(e,t,n,i,a,r){ot((function(){F.trackSelfDescribingEvent({schema:"iglu:com.snowplowanalytics.snowplow/timing/jsonschema/1-0-0",data:{category:e,variable:t,timing:n,label:i}},Qe(a),r)}))},trackConsentWithdrawn:function(e,t,n,i,a,r,o){ot((function(){F.trackConsentWithdrawn(e,t,n,i,a,Qe(r),o)}))},trackConsentGranted:function(e,t,n,i,a,r,o){ot((function(){F.trackConsentGranted(e,t,n,i,a,Qe(r),o)}))},trackEnhancedEcommerceAction:function(e,t,n){var i=Ee.concat(t||[]);Ee.length=0,ot((function(){F.trackSelfDescribingEvent({schema:"iglu:com.google.analytics.enhanced-ecommerce/action/jsonschema/1-0-0",data:{action:e}},Qe(i),n)}))},addEnhancedEcommerceActionContext:function(e,t,n,a,r,o,s,c,u,l){Ee.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/actionFieldObject/jsonschema/1-0-0",data:{id:e,affiliation:t,revenue:i.parseFloat(n),tax:i.parseFloat(a),shipping:i.parseFloat(r),coupon:o,list:s,step:i.parseInt(c),option:u,currency:l}})},addEnhancedEcommerceImpressionContext:function(e,t,n,a,r,o,s,c,u){Ee.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/impressionFieldObject/jsonschema/1-0-0",data:{id:e,name:t,list:n,brand:a,category:r,variant:o,position:i.parseInt(s),price:i.parseFloat(c),currency:u}})},addEnhancedEcommerceProductContext:function(e,t,n,a,r,o,s,c,u,l,d){Ee.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/productFieldObject/jsonschema/1-0-0",data:{id:e,name:t,list:n,brand:a,category:r,variant:o,price:i.parseFloat(s),quantity:i.parseInt(c),coupon:u,position:i.parseInt(l),currency:d}})},addEnhancedEcommercePromoContext:function(e,t,n,i,a){Ee.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/promoFieldObject/jsonschema/1-0-0",data:{id:e,name:t,creative:n,position:i,currency:a}})},enableErrorTracking:function(e,t){Se.enableErrorTracking(e,t,Qe())},trackError:function(e,t,n,i,a,r){var o=Qe(r);Se.trackError(e,t,n,i,a,o)},preservePageViewId:function(){Le=!0}}}}()},{"./errors":13,"./forms":14,"./lib/detectors":17,"./lib/helpers":18,"./lib/proxies":19,"./lib_managed/lodash":20,"./links":21,"./out_queue":22,"browser-cookie-lite":1,sha1:6,"snowplow-tracker-core":7,uuid:12}]},{},[16]);